window.bouncex&&bouncex.loaded||function(){!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value:value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=112)}([function(module,exports,__webpack_require__){function getEpochSeconds(){return Math.floor(Date.now()/1e3)}function WindowProps(topWindow){if(!(this&&this instanceof WindowProps))return new WindowProps(topWindow);if(!topWindow)try{window.top.document&&(topWindow=window.top)}catch(e){}this.window=topWindow||window,this.refresh()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpochSeconds=getEpochSeconds,exports.WindowProps=WindowProps,exports.isBxInternalTraffic=isBxInternalTraffic,exports.visitorTestMode=visitorTestMode,exports.getTimeMs=getTimeMs,exports.createElement=createElement,exports.emptyElement=emptyElement,exports.getOrSet=getOrSet,exports.hasFeatureFlag=hasFeatureFlag,exports.shouldCheckDfp=shouldCheckDfp,exports.default=void 0,WindowProps.prototype={constructor:WindowProps,props:null,previous:null,refresh:function(){return this.previous=this.props,this.props=this.getWindowProps(this.window),Object.assign(this,this.props)},getWindowProps:function(topWindow){var screenProps=this.__screenProps(topWindow),viewportProps=this.__viewportProps(topWindow,screenProps);return Object.assign({},screenProps,viewportProps)},__screenProps:function(topWindow){var screen=topWindow.screen||{},screenWidth=screen.availWidth||topWindow.outerWidth,screenHeight=screen.availHeight||topWindow.outerHeight,tall_screen=screenHeight>screenWidth,orientation_angle=topWindow.orientation||(screen.orientation||{}).angle||0;orientation_angle&&Math.abs(Math.abs(orientation_angle)-90)<=45&&screen.availHeight&&topWindow.outerHeight&&tall_screen!==topWindow.outerHeight>topWindow.outerWidth&&(screenWidth=screen.availHeight,screenHeight=screen.availWidth);var orientation_type=(screen.orientation||{}).type||screen.mozOrientation||screen.msOrientation;return orientation_type||(orientation_type=screenHeight>screenWidth?"portrait":"landscape"),{orientation:orientation_type,screenWidth:screenWidth,screenHeight:screenHeight}},__viewportProps:function(topWindow,screenProps){var visualViewport=topWindow.visualViewport||{},outerWidth=topWindow.outerWidth||screenProps.screenWidth,outerHeight=topWindow.outerHeight||screenProps.screenHeight,innerWidth=visualViewport.width||topWindow.innerWidth||topWindow.document.documentElement.clientWidth,innerHeight=visualViewport.height||topWindow.innerHeight||topWindow.document.documentElement.clientHeight,scale=outerWidth/innerWidth;scale=topWindow.devicePixelRatio&&topWindow.devicePixelRatio<=scale?topWindow.devicePixelRatio:visualViewport.scale||scale.toPrecision(2);var clientWidth=Math.round(innerWidth*scale),clientHeight=Math.round(innerHeight*scale),thresholdWidth=outerWidth-clientWidth,thresholdHeight=outerHeight-clientHeight;thresholdHeight<=0&&(topWindow.toolbar||{}).visible&&(thresholdWidth<=0&&(thresholdWidth=screenProps.screenWidth-clientWidth),thresholdHeight=screenProps.screenHeight-clientHeight);var scrollY=topWindow.pageYOffset||topWindow.document.documentElement.scrollTop;return{outerWidth:outerWidth,outerHeight:outerHeight,width:innerWidth,height:innerHeight,clientWidth:clientWidth,clientHeight:clientHeight,scale:scale,thresholdHeight:thresholdHeight,thresholdWidth:thresholdWidth,scrollY:scrollY=scrollY<=0?0:scrollY,scrollPageY:Math.floor(100*scrollY/innerHeight)}}};var OS={WINDOWS:"Windows",MACOS:"Mac OS"};function isBxInternalTraffic(){return"production"!==bouncex.env||visitorTestMode("office")||visitorTestMode("bxdev")}function visitorTestMode(type){switch(!0){case["office","bxdev","bxtest"].indexOf(type)>-1:return!(!bouncex.testmode||!bouncex.testmode[type]);case!(bouncex.testmode&&bouncex.testmode.bxdev):return!1;default:return!!(bouncex.testmode&&bouncex.testmode.bxdev&&bouncex.testmode.bxdev[type])}}function getTimeMs(){return Date.now()}function createElement(tagName,attributes,parentNode){var element=document.createElement(tagName);if(void 0!==attributes)for(var attr in attributes)attributes.hasOwnProperty(attr)&&(attr in element?element[attr]=attributes[attr]:element.setAttribute(attr,attributes[attr]));return void 0!==parentNode&&parentNode.appendChild(element),element}function emptyElement(element){"replaceChildren"in element?element.replaceChildren():element.innerHTML=""}function getOrSet(map,key,constructor){var isMap=map instanceof Map;if(isMap?map.has(key):map.hasOwnProperty(key))return isMap?map.get(key):map[key];if(void 0!==key&&void 0!==constructor){var member="function"==typeof constructor?constructor():constructor;return isMap?map.set(key,member):map[key]=member,member}}function hasFeatureFlag(flagName){return bouncex&&bouncex.website&&bouncex.website.cjs&&bouncex.website.cjs.indexOf("enable.feature.".concat(flagName))>-1}function shouldCheckDfp(){return bouncex.website.checkDfp}var _default={onetimeFunction:function(fn){var result,fired=0;return function(){return fired++?result:result=fn.apply(null,arguments)}},addCss:function(css,target,id){var style=document.createElement("style");return id&&(style.id=id+"-style"),style.styleSheet?style.styleSheet.cssText=css:style.innerHTML=css,target.appendChild(style),style},WindowProps:WindowProps,getEpochSeconds:getEpochSeconds,minExceptZero:function(arr){return Math.min.apply(Math,arr.filter(Number))},getOS:function(){var platform=window.navigator.platform;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(platform)?OS.MACOS:-1!==["Win32","Win64","Windows","WinCE"].indexOf(platform)?OS.WINDOWS:null},OS:OS,shouldSampleMoatPixel:function shouldSampleMoatPixel(){var deviceID=bouncex.cookie&&bouncex.cookie.did;if(shouldSampleMoatPixel.hasOwnProperty("shouldSample"))return shouldSampleMoatPixel.shouldSample;if(visitorTestMode("bxtest"))return shouldSampleMoatPixel.shouldSample=!0;var shouldSample=(deviceID?Number(deviceID.slice(-2)):Math.floor(100*Math.random()))<50;return shouldSampleMoatPixel.shouldSample=shouldSample},visitorTestMode:visitorTestMode,isBxInternalTraffic:isBxInternalTraffic,getTimeMs:getTimeMs,createElement:createElement,emptyElement:emptyElement,getOrSet:getOrSet,hasFeatureFlag:hasFeatureFlag,shouldCheckDfp:shouldCheckDfp};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_helpers=__webpack_require__(0),_records=(obj=__webpack_require__(16))&&obj.__esModule?obj:{default:obj};function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var logTypeColors={info:"#5d59e8",warn:"#dd7300",debug:"#9500dd",error:"#dd0000"};function _log(data,shouldLog,type){if((0,_helpers.isBxInternalTraffic)()){var logData=data;"string"==typeof logData&&(logData={message:logData}),logData.type=type;var shouldAllowLogging=shouldLog;if(void 0!==_typeof(logData.shouldLog)&&(shouldAllowLogging=shouldAllowLogging||logData.shouldLog),shouldAllowLogging){Object.keys(logData).forEach((function(key){void 0===logData[key]&&delete logData[key]}));var logType=type||"info",logDataColor=logData.color||logTypeColors[logType];_records.default.addRecord(logData);var primaryColor=logTypeColors[logType],logString="%cwknd",colorString="color: #fff; background-color: ".concat(logDataColor,"; border: 1px solid ").concat(logDataColor,"; border-radius: 0 4px 4px 0; padding: 0 2px; line-height: 15px; text-shadow: 0 0 1px rgba(100, 100, 100, 0.7); margin-left: -1px;"),message=[],colorParameters=["background-image: url(".concat("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF8AAABMCAYAAAALDmvAAAAFNklEQVR4Ae1c0XEbIRB1Cfm0OH+ohJSQElJCSkgJ7iAlqASXkBJcgkpQCc6sAh504rjdx1vEWfKMhxPiYN+y7C4P7Kenx89DA1vVQAjhZwjhsNvt/oYQPuQ3Ph/kuyqu5+fnfQjh1eN3mqZf1cFnX0p7DznW+rTKKWK/vLz8CCEck8Ir5VHazqD+/xg7Oc9YpQP4+/1+/604cKEytx4PWZb6lHEL4ixWRSOx6uT1qkNv5e92u99Xgy5UbEH5oOLTRF1OgFhmnABxPacl62ioPy7o+qp6mqbvEdx7w3gJqKZ8E78s414JU6iQdq1yLbqg2LnGj2mA5W3qgacAVIJYK9Da+5YVmcRjrMyqi4sTwF4BbwmApQwhiGXmk8h6Vq/GJG9MTCjjV1dao18rCijCJyDaUlyihyucpumPVobUTlYK0RAufX8aJJXKNKqo6JKQCGCRhQw6yVsHn5SQlUw3WHU9MqaD9Z8yLOpHD+tfBV+QjuHvk1GqxmcveZnQAq7VKlk1SXBSaTaEWyhf0s+0VBnl+6qmCw2YwS7DY8rA4i6ZoQPp41CAeVnlAboa6S+Hv/jEtLw4AesKyCSIHA5F+WoP4JDumUAn/EzwUfknC/XBjD3qcW8NOilfSocMzBSDSK7HZnxs0MjuMiqfHYNMm61o/S0MgGm1nQ3PIdc2gU7W7xGDFrmWNOisbGAATlC8izNOCTYp27CCTjpgbnaQwCtyxAmwkH9HSPGOoCG+JzKwVENAqA/RS4wBNTckHNmrOsAmZc/LONujgK4BRmQ00w25fkQ30TV/ngiiKzvv9+I5hGBZaholQKAdqA8oBl0ox/uDA2jzNl8wxhjEpr1NO15vXRf7H4XvYQdeFdlV1EjHSjbJhYL2SDvRwNtN/R6g0TSMzfegZw7dlC8DsUGrWL4CQo8Y1JwWFuSkVj34Hqo67Z19Yb4HOnOwa7DhDRLDl+8FoFzbIwbRN0gNei6+Ohjfw75iYqN9ixpyrmTn2mjg9eB7hg+8HqDRXJsdg8StOttue/ej8D2jnDm0a9TQg0OuDQXeu+R7PEDLhBrm/7OpQwyCzhw+BerxMArfM9KZQw+9n8fwyLXRwMumPh58j8GMHGIQdOZgELm9qQdoNNce5cyhXauGHti5Nhp42TFI0mmDGm7T9CvzPeiZQ7eZ8Ai8KMk1yh3TbsqXgRxybYjkcjhz+EBjULcJ+Mp8D3rHtJvyo/UPcanpwfdw/rKlhe/JD2wYz2Pf7/Hge8SHI8vXIQaNz/ewQaP3e+6S7xkJNPvM4S75HhS0B/WBuMCu73iARnPte+V7qLeJR+F70BjU1fod+B6I5PKgPu6S70FBsw9aJKPrasnIYGySq8Hvy38CZGy0zn1sgm4g8z1N1kY8c7D/TS1iuYx3WKBRijlhIMagJiNI8nQpSSQXFGxzgJH6aHY9aNzJZen2zACNpplzkK3UxybSTDJomo9tjUEsI5jrx/VzC9+DUgtLgBr4nvGvkrBBo5eoluRooD7Gv73MBO3hY2MMMlMfbCNY0pNbPUByQQcpawCAwDv+QcoaaOOlJugIcU0G+R7ge1yMQCMrrY0RtKuPNfA9bkZAU6y2Iy3fg/I4Wjm0gXcTPI4WtPJSU5ctvIb68DYCrd5o7dZAt/I4WkEVfE8XI9DKS2m3wvd087FrMWhTPI52Zmp8T+8tfCXtbCbztPro3m4BNI3H0QJa4nt6G4FWXkq7BdA38bGFGLRdHkc7O3OS61Zb+HnaySbztPro2i4H7cHjaMHM+R5vI/gH6Y9Y4GnBdesAAAAASUVORK5CYII=","); text-indent: -9999px; line-height: 15px; max-width: 15px; overflow: hidden; padding: 0 7px 0 8px; height:1px; background-size: 15px 15px; color:transparent; background-color: white; border-radius: 4px 0 0 4px; border: 1px solid ").concat(primaryColor,"; border-right: none;")];return logData.type&&(logString+="%c".concat(logData.type.toUpperCase()),colorParameters.push("font-family: sans-serif; font-weight: bold; color: ".concat(primaryColor,"; border: 1px solid ").concat(primaryColor,"; border-left: none; border-right: none; line-height: 15px; padding: 0 2px; background: #FFF;"))),logString+="%c",logData.group&&(logString+="".concat(logData.group," ")),logData.campaignId&&(logString+="(#".concat(logData.campaignId,") ")),message.push(logString.trim()),colorParameters.push(colorString),Array.prototype.push.apply(message,colorParameters),Array.isArray(logData.message)?Array.prototype.push.apply(message,logData.message):message.push(logData.message),console[logType].apply(console,message)}}}var _default={info:function(input){_log(input,(0,_helpers.visitorTestMode)("log"),"info")},warn:function(input){_log(input,(0,_helpers.visitorTestMode)("log")||(0,_helpers.visitorTestMode)("log:warn"),"warn")},debug:function(input){_log(input,(0,_helpers.visitorTestMode)("log")||(0,_helpers.visitorTestMode)("log:warn"),"debug")},error:function(input){_log(input,(0,_helpers.visitorTestMode)("log")||(0,_helpers.visitorTestMode)("log:warn")||(0,_helpers.visitorTestMode)("log:error"),"error")},colors:logTypeColors};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.setIntervalWrapper=exports.setTimeoutWrapper=void 0;var obj,_debug=(obj=__webpack_require__(5))&&obj.__esModule?obj:{default:obj};exports.setTimeoutWrapper=function(func,delay){return bouncex.website.fbe&&delay<1?(_debug.default.tryCatch(func)(),!1):setTimeout(_debug.default.tryCatch(func),delay)};exports.setIntervalWrapper=function(func,delay){return setInterval(_debug.default.tryCatch(func),delay)}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _facebook=_interopRequireDefault(__webpack_require__(32)),_userTracking=_interopRequireDefault(__webpack_require__(33)),_eventSharingCartridge=_interopRequireDefault(__webpack_require__(34)),_helpers=__webpack_require__(0),_url=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var eventStream={nextSequenceId:function(){return bouncex.updateBounceCookie((function(cookie){cookie.hasOwnProperty("sid")&&!isNaN(cookie.sid)||(cookie.sid=-1),cookie.sid++})),bouncex.cookie.sid},report:function(eventname,params){"user"===eventname&&bouncex.ibx._validate(params["user:email"])&&(bouncex.state.redactEmail||_userTracking.default.prevent(params))&&(params["user:email"]="redacted"),"requestemail"===eventname&&bouncex.ibx._validate(params["user:email"])&&(bouncex.state.redactEmail||void 0===bouncex.state.redactEmail&&_userTracking.default.prevent(params))&&(params["user:email"]="redacted",params.email="redacted");var baseurl=bouncex.seu+"/track.gif/"+encodeURIComponent(eventname)+"?";params.mode=bouncex.cookie.m,params.websiteid=bouncex.website.id,params.visitid=bouncex.cookie.vid,params.deviceid=bouncex.cookie.did,bouncex.state&&void 0!==bouncex.state.pvid?params.pageviewid=bouncex.state.pvid:params.pageviewid=bouncex.cookie.vpv+1,params.sequenceid=eventStream.nextSequenceId(),params.clienttimestamp=(0,_helpers.getTimeMs)(),params.clientapiversion=bouncex.tag,params.device=bouncex.cookie.d,bouncex.website.pts&&(params.page_type=bouncex.website.pts),params.source||(params.source="web"),params.agent||(params.agent="user"),bouncex.dg&&bouncex.dg.softID&&(params.soft_id=bouncex.dg.softID),bouncex.dg&&bouncex.dg.hardID&&(params.hard_id=bouncex.dg.hardID),bouncex.debug&&bouncex.eventLog&&bouncex.eventLog.push({name:eventname,params:params}),bouncex.cookie.t&&(params.testmode=1),_eventSharingCartridge.default.send({eventName:eventname,data:params,type:"event"});var url="",currentParamString=(0,_url.qs)(params);if((0,_helpers.isBxInternalTraffic)())url=baseurl+currentParamString;else{var currentCompressedParamString=bouncex.lz.compressToEncodedURIComponent(currentParamString);"visit"===eventname&&(bouncex.browser.msie||bouncex.browser.edge)&&(baseurl+currentCompressedParamString).length>4e3&&(params["visit:customvariables"]="{}",currentParamString=(0,_url.qs)(params),currentCompressedParamString=bouncex.lz.compressToEncodedURIComponent(currentParamString)),url=baseurl+"wklz="+currentCompressedParamString}var img=document.createElement("img");return img.onload=function(){params["user:emailhash"]&&bouncex.visit_cookie&&bouncex.visit_cookie.ueh&&bouncex.updateBounceVisitCookie((function(cookie){delete cookie.ueh}))},img.src=url,function(eventName,params){bouncex.website.ba.enabled&&"user"===params.agent&&_facebook.default.report(eventName,params)}(eventname,params),img.src}},_default=eventStream;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.formatReferrer=exports.removeParams=exports.allowParams=exports.filterParams=exports.generateQuerystring=exports.queryStringToObject=exports.getParam=exports.updateQS=exports.qs=void 0;exports.qs=function(params){var _final=[];for(var prop in params)params.hasOwnProperty(prop)&&_final.push(prop+"="+encodeURIComponent(params[prop]));return _final.join("&")};exports.updateQS=function(){for(var argUri=1&arguments.length,origin=argUri?arguments[0]:window.top.location.href,p=origin.split("#"),uri=p[0],hash=p.length>1&&p[1],s=[],i=argUri;i<arguments.length;i+=2){var k=arguments[i],v=encodeURIComponent(arguments[i+1]),r=new RegExp("([?&])"+k+"=?.*?(&|$)","gi");uri.match(r)?uri=uri.replace(r,"$1"+k+"="+v+"$2"):s.push(k+"="+v)}return s.length&&(uri+=(-1==uri.indexOf("?")?"?":"&"!=uri.slice(-1)?"&":"")+s.join("&")),uri+(hash?"#"+hash:"")};exports.getParam=function(name,qstring){var paramString=qstring?"?"+qstring:window.location.href;name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var results=new RegExp("[\\?&#]"+name+"=([^&#]*)").exec(paramString);return null==results?"":decodeURIComponent(results[1])};exports.queryStringToObject=function(queryString){for(var result={},qsParams=(queryString.indexOf("?")>-1?queryString.substring(queryString.indexOf("?")+1):queryString).split("&"),i=0;i<qsParams.length;i++){var paramPairs=qsParams[i].split("="),key=paramPairs[0],value=paramPairs[1]?decodeURIComponent(paramPairs[1].replace(/\+/g," ")):"";result[key]=value}return result};exports.generateQuerystring=function(obj,firstChar){var querystring=firstChar||"";for(var key in obj)obj.hasOwnProperty(key)&&(querystring+=key+"="+obj[key]+"&");return querystring.substring(0,querystring.length-1)};var filterParams=function(qstring,condition){for(var params=qstring.replace(/[\?\#]/,"").split("&"),filtered="",i=0;i<params.length;i++){condition(params[i].split("=")[0].replace(/[\[]/,"").replace(/[\]]/,""))&&(filtered+="&"+params[i])}return filtered.replace("&","")};exports.filterParams=filterParams;exports.allowParams=function(paramsToAllow,url){var paramPairs=(url=url||window.location.href).split(/([\?\#])/);if(!paramsToAllow)return paramPairs[0];for(var i=1;i<paramPairs.length;i++)"?"!==paramPairs[i]&&"#"!==paramPairs[i]&&(paramPairs[i]=filterParams(paramPairs[i],(function(param){return paramsToAllow.indexOf(param)>-1})));return paramPairs.join("").replace(/([\?\#](?=[\?\#])|[\?\#]+$)/g,"")};exports.removeParams=function(paramsToRemove,url){url=url||window.location.href,paramsToRemove=["_ke","bxid","cid","email","et_rid","gclid","ibx_source","mc_cid","mc_eid","pid","RIID","spUserID","sfmc_sub","ueh","utm_source","utm_medium","utm_campaign","utm_term","utm_content"].concat(paramsToRemove);for(var segments=url.split(/([\?\#])/),i=1;i<segments.length;i++)"?"!==segments[i]&&"#"!==segments[i]&&(segments[i]=filterParams(segments[i],(function(param){return-1===paramsToRemove.indexOf(param)})));return segments.join("").replace(/([\?\#](?=[\?\#])|[\?\#]+$)/g,"")};exports.formatReferrer=function(referrer){return referrer?encodeURIComponent(referrer.split("/")[2]):""}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _trafficControl=_interopRequireDefault(__webpack_require__(31)),_eventStream=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var errsArr=[],_default={initErrorHandling:function(){bouncex.err=this.report,bouncex.tryCatch=this.tryCatch;var errorListener=this.tryCatch((function(ev){var hasValidFilename=ev.filename&&ev.filename.indexOf("bounceexchange")>-1,hasValidErrStack=ev.error&&ev.error.stack&&ev.error.stack.indexOf("bounceexchange")>-1;if(hasValidFilename||hasValidErrStack){var source=bouncex.calling_url.indexOf("bounceexchange.com")>-1?"core app":"window listener";ev.preventDefault(),ev.stopImmediatePropagation(),bouncex.err(ev.error,{source:source})}}));window.addEventListener("error",errorListener,!1)},report:function(err,data){var message=err&&function(err){return err.stack?err.stack.split("\n").filter((function(trace){return-1===trace.indexOf("init1")})).join("\n"):err.message?err.message:err}(err);(function(message){var newError=message&&-1===errsArr.indexOf(message),validHostname=window.location.hostname.indexOf("bounceexchange.com")>-1,validState=void 0!==bouncex.state,devMode="development"===bouncex.env;return newError&&(validHostname||validState||devMode)})(message)&&(function(message){errsArr.push(message);var logColor="development"===bouncex.env?"color: #8B008B;":"color: #388EFA;",logPrefix="development"===bouncex.env?"bx log (dev): ":"bx log: ";bouncex.log("%c "+logPrefix+message,logColor)}(message),function(message,err,metadata){var liveTraffic=metadata.liveTraffic||5;_trafficControl.default.apply({internal:!0,liveTraffic:liveTraffic},(function(){var params={"debug:code":err.name||"custom","debug:location":metadata.source||metadata.location||"","debug:message":message,"debug:url":bouncex.calling_url,"debug:custom_variable":metadata.cvar||metadata.custom_variable||"",campaignid:metadata.ca_id||metadata.campaign_id||metadata.campaignId||""};_eventStream.default.report("debug",params)}))}(message,err,data||{}))},tryCatch:function(func,data){if("function"==typeof func){if(!func._wrapped){var report=this.report;func._wrapped=function(){try{return func.apply(this,arguments)}catch(e){(data=data||{}).source=data.source||func.name||"tryCatch wrapper",setTimeout((function(){try{report(e,data)}catch(e){}}),0)}}}return func._wrapped}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _activationTrigger=_interopRequireDefault(__webpack_require__(19)),_behavioralCriteria=_interopRequireDefault(__webpack_require__(35)),_time=__webpack_require__(7),_helpers=__webpack_require__(0),_scheduling=__webpack_require__(2),_eventListeners=_interopRequireDefault(__webpack_require__(36)),_eventJsEval=__webpack_require__(20),_images=__webpack_require__(24),_creativesBaseStyles=_interopRequireDefault(__webpack_require__(62)),_report=__webpack_require__(25),_tabTalk=_interopRequireDefault(__webpack_require__(40)),_iosHelper=_interopRequireDefault(__webpack_require__(23)),_accessibility=_interopRequireDefault(__webpack_require__(30)),_perf=_interopRequireDefault(__webpack_require__(12)),_activeTime=_interopRequireDefault(__webpack_require__(26)),_couponCodes=_interopRequireDefault(__webpack_require__(22)),_eventBinding=__webpack_require__(9),_blurGate=_interopRequireDefault(__webpack_require__(63)),_getStyle=__webpack_require__(41);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var CampaignHelpers={reload:function(){bouncex.reload_campaigns()},eligible:function(ca_id){var campaign=bouncex.campaigns[ca_id];if(campaign.activated)return!1;campaign.activated=!0,bouncex.report(ca_id,"eligible"),bouncex.event_js_eval(ca_id,"activation"),campaign.dispatchEvent("activation.bx")},activateInstruments:function(ca_id){bouncex.campaigns[ca_id].hasBehavioralCriteria?(CampaignHelpers.initBehavioralCriteriaInstruments(ca_id),CampaignHelpers.onlyBehavioralCriteriaNegations(ca_id)&&(bouncex.campaigns[ca_id].realtimeArmed=!0,CampaignHelpers.initActivationInstruments(ca_id))):CampaignHelpers.initActivationInstruments(ca_id)},initActivationInstruments:function(ca_id){var activations=bouncex.campaigns[ca_id].activations;for(var i in activations)if(activations.hasOwnProperty(i)){var act=activations[i];if(act.val=CampaignHelpers.parseSiteElementSelector(act.val),CampaignHelpers.meetsCommonBehavioralCriteria(act.devicetype)){var trigger=_activationTrigger.default.getOrCreate(act,ca_id);trigger.isBehavioral=!0,trigger.activate(bouncex.ca[trigger.type])}}},meetsCommonBehavioralCriteria:function(devicetype){return"all"==(devicetype=devicetype||"all")||devicetype==(bouncex.state.mobile?"mobile":"desktop")},onlyBehavioralCriteriaNegations:function(ca_id){var activations=bouncex.campaigns[ca_id].list_of_rt_activations,hasNegations=activations.filter((function(instrument){return instrument.shouldBeAbsent})).length;return hasNegations&&hasNegations===activations.length},initBehavioralCriteriaInstruments:function(ca_id){var behavioralCriteria=bouncex.campaigns[ca_id].list_of_rt_activations||[];for(var i in behavioralCriteria)if(behavioralCriteria.hasOwnProperty(i)){var act=behavioralCriteria[i];if(act.val=CampaignHelpers.parseSiteElementSelector(act.val),CampaignHelpers.meetsCommonBehavioralCriteria(act.devicetype)){var trigger=_activationTrigger.default.getOrCreate(act,ca_id);trigger.activate(bouncex.ca[trigger.type])}}},behavioralCriteriaComplete:function(ca_id,newlyTriggered){var campaign=bouncex.campaigns[ca_id],passesRealTimeCriteria=_behavioralCriteria.default.evaluate.bind(_behavioralCriteria.default,campaign.activations_rt,ca_id);return campaign.realtimeArmed?CampaignHelpers.evaluateBehavioralTriggers(campaign.activations,ca_id)&&passesRealTimeCriteria():(newlyTriggered&&passesRealTimeCriteria()&&(campaign.realtimeArmed=!0,CampaignHelpers.initActivationInstruments(ca_id)),!1)},evaluateBehavioralTriggers:function(criteria,ca_id){for(var i=0;i<criteria.length;i++){var activationTrigger=_activationTrigger.default.getRegistered(criteria[i],ca_id);if(activationTrigger&&activationTrigger.triggered)return!0}return!1},parseSiteElementSelector:function(selectorString){if(selectorString&&selectorString.length>0&&"{"===selectorString.charAt(0)){var siteElement=selectorString.substr(1,selectorString.length-2);return bouncex.website.els[siteElement]}return selectorString},evalCalloutTarget:function(campaign){return campaign.callout_t=CampaignHelpers.parseSiteElementSelector(campaign.callout_t),campaign.callout_t},getCalloutTargets:function(campaign,selector){return null==selector&&(selector=CampaignHelpers.evalCalloutTarget(campaign)),jQuery(selector)},isMissingTarget:function(campaign){return campaign.missingTarget=!1,("annotation"===campaign.type||"agilityzone"===campaign.type)&&(null==campaign.calloutTarget?campaign.missingTarget=0==CampaignHelpers.getCalloutTargets(campaign).length:campaign.missingTarget=!(campaign.calloutTarget&&campaign.calloutTarget.length>0),campaign.missingTarget)},can_show_ad:function(ca_id,inthefuture){if(!bouncex.campaigns[ca_id])return!1;if(bouncex.campaigns[ca_id].qbxtest&&!bouncex.campaigns[ca_id].ad_visible){if(!inthefuture){if(bouncex.campaigns[ca_id].hasBehavioralCriteria&&!CampaignHelpers.behavioralCriteriaComplete(ca_id))return!1;if(bouncex.overlay_visible&&bouncex.isGbi2Campaign(ca_id))return!1}return!bouncex.campaigns[ca_id].repressed&&!(bouncex.campaigns[ca_id].failed&&(!inthefuture||bouncex.campaigns[ca_id].trypopTriggered||!bouncex.isGbi2Campaign(ca_id)))}var oca_id=ca_id,stackId=bouncex.campaigns[ca_id].gbi.stack_id;bouncex.website.gbi_enabled&&stackId&&ca_id!=bouncex.gbi.stacks[stackId].leader_id&&(ca_id=bouncex.gbi.stacks[stackId].leader_id);var time_now=(0,_time.getTimeWithServerDiff)();if(bouncex.updateBounceCookie((function(cookie){cookie.lvt=cookie.campaigns[ca_id].lvt=time_now})),!inthefuture){if(bouncex.overlay_visible&&("none"!=bouncex.campaigns[ca_id].coverlay||"overlay"==bouncex.campaigns[ca_id].type||bouncex.isGbi2Campaign(ca_id)))return!1;if(bouncex.campaigns[oca_id].ad_visible)return!1;if(bouncex.campaigns[ca_id].tvao>0){var top=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);if(bouncex.campaigns[ca_id].tvao>top)return!1}if(bouncex.campaigns[ca_id].hasBehavioralCriteria&&!CampaignHelpers.behavioralCriteriaComplete(ca_id))return!1}if(bouncex.website.dfpcms&&(0,_helpers.shouldCheckDfp)()&&bouncex.gbi2.shouldDfpPreventShowing(ca_id))return!1;if(bouncex.campaigns[oca_id].failed&&(!inthefuture||bouncex.campaigns[oca_id].trypopTriggered||!bouncex.isGbi2Campaign(oca_id)))return!1;if(bouncex.website.map>0&&bouncex.pa>=bouncex.website.map&&("none"!=bouncex.campaigns[ca_id].coverlay||"overlay"==bouncex.campaigns[ca_id].type)&&!bouncex.campaigns[ca_id].is_man)return!1;if(bouncex.campaigns[ca_id].map>0&&bouncex.campaigns[ca_id].ap>=bouncex.campaigns[ca_id].map)return!1;if(bouncex.campaigns[ca_id].mas>0&&bouncex.cookie.campaigns[ca_id].as>=bouncex.campaigns[ca_id].mas)return!1;if(!bouncex.campaigns[ca_id].is_man&&bouncex.website.mas>0&&("none"!=bouncex.campaigns[ca_id].coverlay||"overlay"==bouncex.campaigns[ca_id].type)&&bouncex.website.mas<=bouncex.cookie.as)return!1;if(bouncex.campaigns[ca_id].mao>0&&bouncex.cookie.campaigns[ca_id].ao>=bouncex.campaigns[ca_id].mao)return!1;if(bouncex.website.mat>0&&bouncex.website.math>0&&("none"!=bouncex.campaigns[ca_id].coverlay||"overlay"==bouncex.campaigns[ca_id].type)&&(!bouncex.campaigns[ca_id].current_step||1===bouncex.campaigns[ca_id].current_step)){var cutoff=(0,_time.getTimeWithServerDiff)()-60*bouncex.website.math*60,overlayActivations=Object.keys(bouncex.cookie.campaigns||{}).map((function(k){return bouncex.cookie.campaigns[k]})).filter((function(campaign){return 1===campaign.io})).map((function(overlay){return overlay.oa?overlay.oa.filter((function(ts){return ts>cutoff})).length:0})).reduce((function(x,y){return x+y}),0);if(bouncex.log(ca_id,"Found "+overlayActivations+" activations in the last "+bouncex.website.math+" hours with a max of "+bouncex.website.mat),overlayActivations>=bouncex.website.mat)return!1}return!(!bouncex.campaigns[ca_id].is_man&&!bouncex.campaigns[ca_id].ipc&&(bouncex.cookie.es||bouncex.cookie.campaigns[ca_id].ls||bouncex.cookie.campaigns[ca_id].submitted)&&bouncex.campaigns[ca_id].is_ec)&&((!bouncex.campaigns[ca_id].is_pers&&!bouncex.campaigns[ca_id].closed_no_show||!bouncex.cookie.campaigns[ca_id].wcv)&&(!bouncex.campaigns[ca_id].repressed&&!(bouncex.campaigns[ca_id].purchase_no_show&&bouncex.cookie.lc>bouncex.cookie.campaigns[ca_id].la)))},noteCookieAdShown:function(ca_id){if(bouncex.website.gbi_enabled&&bouncex.campaigns[ca_id].gbi.stack_id){if(bouncex.gbi.stacks[bouncex.campaigns[ca_id].gbi.stack_id].failed)return bouncex.gbi.log(ca_id,"NOT saving cookie data"),!1;bouncex.gbi.log(ca_id,"saving cookie data")}bouncex.campaigns[ca_id].ad_shown=!0,bouncex.updateBounceCookie((function(cookie){if(cookie.campaigns[ca_id].lavid=cookie.vid,cookie.campaigns[ca_id].la=(0,_time.getTimeWithServerDiff)(),cookie.campaigns[ca_id].av=cookie.campaigns[ca_id].av?cookie.campaigns[ca_id].av+1:1,cookie.campaigns[ca_id].fsa||(cookie.campaigns[ca_id].fsa=cookie.campaigns[ca_id].la),cookie.campaigns[ca_id].as=cookie.campaigns[ca_id].as?cookie.campaigns[ca_id].as+1:1,cookie.campaigns[ca_id].ao=cookie.campaigns[ca_id].ao?cookie.campaigns[ca_id].ao+1:1,bouncex.campaigns[ca_id].ap=bouncex.campaigns[ca_id].ap?bouncex.campaigns[ca_id].ap+1:1,cookie.campaigns[ca_id].oa=cookie.campaigns[ca_id].oa?cookie.campaigns[ca_id].oa:[],"overlay"!=bouncex.campaigns[ca_id].type&&"none"===bouncex.campaigns[ca_id].coverlay||bouncex.campaigns[ca_id].is_man||(cookie.campaigns[ca_id].io=1,cookie.ao++,bouncex.pa++,cookie.as++,cookie.campaigns[ca_id].oa.push(cookie.campaigns[ca_id].la)),bouncex.website.mat>0&&bouncex.website.math>0){var cutoff=(0,_time.getTimeWithServerDiff)()-60*bouncex.website.math*60;Object.keys(cookie.campaigns||{}).forEach((function(campaign_id){var campaign=cookie.campaigns[campaign_id];campaign.oa&&(campaign.oa=campaign.oa.filter((function(ts){return ts>cutoff})))}))}}))},activateCampaign:function(ca_id){if(!bouncex.campaigns[ca_id]||bouncex.campaigns[ca_id].activated)return!1;bouncex.campaigns[ca_id].gbi&&!bouncex.isGbi2Campaign(ca_id)?bouncex.website.gbi_enabled?bouncex.campaigns[ca_id].gbi.provider||bouncex.gbi.activateGbiCampaign(ca_id):(bouncex.campaigns[ca_id].failed=!0,bouncex.log(ca_id+": incompatible extension")):(CampaignHelpers.eligible(ca_id),CampaignHelpers.activateInstruments(ca_id))},triggerAd:function(type,ca_id,trigger,newlyTriggered){var campaign=bouncex.campaigns[ca_id];if(type&&"manual"!==type){if(campaign.hasBehavioralCriteria)if(trigger&&!trigger.isBehavioral)return!campaign.realtimeArmed&&CampaignHelpers.behavioralCriteriaComplete(ca_id,newlyTriggered);if(bouncex.isGbi2Campaign(ca_id))if(!("waypoint"===type||campaign.trigger===type||!bouncex.triggers_filled[type]||bouncex.triggers_filled[type]===ca_id))return!1}return bouncex.show_ad(type,ca_id)},teleport:function(type,url){return"_blank"===type?window.open(url,type):(0,_scheduling.setTimeoutWrapper)((function(){window.open(url,type)}),300)},init_activation_funcs:function(){for(var ca_id in bouncex.instantiateCampaigns(),bouncex.campaigns)bouncex.campaigns[ca_id].failed=!1,bouncex.events[ca_id]=bouncex.events[ca_id]||{},CampaignHelpers.can_show_ad(ca_id,!0)&&!bouncex.campaigns[ca_id].ad_visible&&function(ca_id){var delay=0;bouncex.campaigns[ca_id].activation_delay&&(delay=CampaignHelpers.calc_delay_cvt(bouncex.campaigns[ca_id].activation_delay)),bouncex.events[ca_id].timeout_activation=(0,_scheduling.setTimeoutWrapper)((function(){CampaignHelpers.init_activation(ca_id)}),delay)}(ca_id)},calc_delay_cvt:function(delay_time){var delay=1e3*(bouncex.cookie.cvt-(0,_time.getTimeWithServerDiff)()+delay_time);return delay<0?0:delay},init_activation:function(ca_id){var ca=bouncex.campaigns[ca_id],eligibleOsr=bouncex.website.osre&&ca.osr_params_json&&!ca.osrItems;if(!ca)return!1;if(bouncex.isGbi2Campaign(ca_id))return!CampaignHelpers.gbi2Enabled()||ca.gbi.hasBegunAuction||CampaignHelpers.isMissingTarget(ca)||bouncex.gbi2.initCampaign(ca_id),!1;if(!CampaignHelpers.setCalloutTarget(ca))return ca.failed=!0,!1;if(ca.failed||ca.placed)return!1;if(ca.html&&CampaignHelpers.placeCampaign(ca_id),bouncex.website.gbi_enabled&&ca.gbi&&ca.gbi.stack_id){var stackId=ca.gbi.stack_id;bouncex.gbi.stacks[stackId].started||bouncex.gbi.initGbiStack(stackId)}if(ca.ng){CampaignHelpers.assignDomReferencesToCampaign(ca_id),eligibleOsr||CampaignHelpers.cacheCreativeForm(ca_id,1),ca.listeners=new _eventListeners.default,(0,_eventJsEval.event_js_eval)(ca_id,"preactivation"),ca.styles&&CampaignHelpers.applyCampaignStyles(ca_id),ca.control||ca.noCreative||CampaignHelpers.setTransitionEffect(ca_id);var images=ca.images||[];(0,_images.loadImages)(images,(function(){if(bouncex.website.gbi_enabled&&ca.gbi&&ca.gbi.provider)bouncex.gbi.log(ca_id,"requesting v2 ad unit"),bouncex.gbi.request(ca_id);else if(eligibleOsr)if("product"!==bouncex.website.pts)bouncex.osr.init(ca_id,!1);else{if(!bouncex.osr.viewItemId)return!1;bouncex.osr.init(ca_id,bouncex.osr.viewItemId)}else CampaignHelpers.activateCampaign(ca_id)}))}else ca.html?CampaignHelpers.isDeprecatedFunction("init_activation","ca.html else block"):CampaignHelpers.activateCampaign(ca_id)},isGbi2Campaign:function(ca_id){var campaign=bouncex.campaigns[ca_id];return!!(campaign&&campaign.gbi&&campaign.gbi.placements)},gbi2Enabled:function(){return bouncex.gbi2&&bouncex.website.gbi2Enabled},setCalloutTarget:function(campaign){return"annotation"!==campaign.type&&"agilityzone"!==campaign.type||CampaignHelpers.setCampaignCalloutTargetToIndex(campaign,0)},placeCampaign:function(ca_id){var campaign=bouncex.campaigns[ca_id];campaign.failed||(!campaign.ng||"agilityzone"!==campaign.type&&"annotation"!==campaign.type?bouncex.body.append(campaign.html):CampaignHelpers.placeCallout(ca_id),campaign.placed=!0)},assignDomReferencesToCampaign:function(ca_id){bouncex.campaigns[ca_id].obj1=jQuery("#bx-campaign-"+ca_id),bouncex.campaigns[ca_id].obj2=jQuery(".bx-campaign-"+ca_id),bouncex.campaigns[ca_id].obj2_detached_children=null},cacheCreativeForm:function(ca_id,step){bouncex.campaigns[ca_id].jform=jQuery("#bx-form-"+ca_id+"-step-"+step)},applyCampaignStyles:function(ca_id){var campaign=bouncex.campaigns[ca_id];bouncex.addCss(campaign.styles,campaign.obj1[0],"bx-campaign-"+ca_id)},setTransitionEffect:function(ca_id){var campaign=bouncex.campaigns[ca_id];campaign.transitionEffect=CampaignHelpers.getCampaignTransitionEffect(ca_id),campaign.transitionEffect&&"no_effect"!==campaign.transitionEffect&&campaign.obj2.addClass("bx-fx-"+campaign.transitionEffect)},isDeprecatedFunction:function(name,msg){var message=(name||"")+"-"+(msg||"");bouncex.err("deprecated function: "+message)},setCampaignCalloutTargetToIndex:function(campaign,index){return campaign.calloutTarget=CampaignHelpers.getCalloutTargets(campaign).eq(index),campaign.calloutTarget.length>0},placeCallout:function(ca_id){bouncex.campaigns[ca_id].calloutTarget=bouncex.campaigns[ca_id].calloutTarget||jQuery(bouncex.campaigns[ca_id].callout_t).eq(0),bouncex.campaigns[ca_id].calloutPlacementTarget=bouncex.campaigns[ca_id].calloutPlacementTarget||jQuery(bouncex.campaigns[ca_id].callout_pt).eq(0);var campaignBody=bouncex.campaigns[ca_id].obj1||jQuery(bouncex.campaigns[ca_id].html);if(bouncex.campaigns[ca_id].deployment){var deploymentClass="bx-deployment-"+bouncex.campaigns[ca_id].deployment;campaignBody.addClass(deploymentClass)}"annotation"!==bouncex.campaigns[ca_id].type&&campaignBody.css({marginTop:parseInt(bouncex.campaigns[ca_id].callout_voffset)+"px",marginLeft:parseInt(bouncex.campaigns[ca_id].callout_hoffset)+"px"}),bouncex.campaigns[ca_id].calloutPlacementTarget.length?bouncex.campaigns[ca_id].calloutPlacementTarget[bouncex.campaigns[ca_id].dom_placement_method](campaignBody):bouncex.campaigns[ca_id].calloutTarget[bouncex.campaigns[ca_id].dom_placement_method](campaignBody)},getCampaignTransitionEffect:function(ca_id){var sessionActivations=bouncex.campaigns[ca_id].ng?0:1;return bouncex.campaigns[ca_id][bouncex.cookie.campaigns[ca_id].as>sessionActivations?"te2":"te"]},unhideSite:function(){clearTimeout(bouncex.usd.timeout),bouncex.usd.callback(),delete bouncex.usd},loadBounceCss:function(callback){_creativesBaseStyles.default.load(callback)},unload_campaigns:function(){if(bouncex.events)for(var ca_id in bouncex.events)CampaignHelpers.unload_campaign(ca_id)},unload_campaign:function(ca_id){if(bouncex.events&&bouncex.events[ca_id])for(var e in bouncex.events[ca_id])"object"==_typeof(bouncex.events[ca_id][e])?jQuery(bouncex.events[ca_id][e]).unbind(e):"function"==typeof bouncex.events[ca_id][e]?bouncex.events[ca_id][e]():clearTimeout(bouncex.events[ca_id][e]),delete bouncex.events[ca_id][e]},alignCampaign:function(ca_id){var hOffset=parseInt(bouncex.campaigns[ca_id].callout_hoffset)||0,vOffset=parseInt(bouncex.campaigns[ca_id].callout_voffset)||0;if("nanotab"==bouncex.campaigns[ca_id].type||"conversioncorner"==bouncex.campaigns[ca_id].type||"dynamicwallpaper"==bouncex.campaigns[ca_id].type||"railbar"==bouncex.campaigns[ca_id].type){if(bouncex.campaigns[ca_id].lastCalloutPos&&bouncex.campaigns[ca_id].obj1.removeClass("bx-fixed-"+bouncex.campaigns[ca_id].lastCalloutPos),bouncex.campaigns[ca_id].obj1.addClass("bx-fixed-"+bouncex.campaigns[ca_id].callout_pos),bouncex.campaigns[ca_id].lastCalloutPos=bouncex.campaigns[ca_id].callout_pos,"dynamicwallpaper"==bouncex.campaigns[ca_id].type&&bouncex.website.content_width){var creative_width=jQuery("#bx-creative-"+ca_id).width();"content_right"==bouncex.campaigns[ca_id].header_bottom_alignment?hOffset+=parseInt((Number(bouncex.website.content_width)+Number(creative_width))/2):hOffset-=parseInt((Number(bouncex.website.content_width)+Number(creative_width))/2)}bouncex.campaigns[ca_id].obj1.find(".bx-slab").css("margin-left",hOffset+"px"),-1!==bouncex.campaigns[ca_id].callout_pos.indexOf("b")?bouncex.campaigns[ca_id].obj1.find(".bx-align").css("margin-bottom",-vOffset+"px"):bouncex.campaigns[ca_id].obj1.find(".bx-align").css("margin-top",vOffset+"px"),"dynamicwallpaper"==bouncex.campaigns[ca_id].type&&bouncex.website.content_width&&(bouncex.campaigns[ca_id].header_bottom_alignment.indexOf("right")>-1?bouncex.campaigns[ca_id].obj1.find(".bx-shroud").css({left:"50%","margin-left":parseInt(bouncex.website.content_width/2)+"px"}):bouncex.campaigns[ca_id].header_bottom_alignment.indexOf("left")>-1&&bouncex.campaigns[ca_id].obj1.find(".bx-shroud").css({left:"auto",right:"50%","margin-right":parseInt(bouncex.website.content_width/2)+"px"}))}else if("annotation"==bouncex.campaigns[ca_id].type&&bouncex.campaigns[ca_id].calloutTarget.length){var target=bouncex.campaigns[ca_id].calloutTarget,placement=bouncex.campaigns[ca_id].dom_placement_method,placementTarget=bouncex.campaigns[ca_id].calloutPlacementTarget,hAlign=bouncex.campaigns[ca_id].callout_anchor_pos.substr(0,1),vAlign=bouncex.campaigns[ca_id].callout_anchor_pos.substr(1,2),creative=bouncex.campaigns[ca_id].obj1.find(".bx-creative");bouncex.campaigns[ca_id].obj1.hasClass("bx-annotation-"+bouncex.campaigns[ca_id].callout_pos)||(bouncex.campaigns[ca_id].lastCalloutPos&&bouncex.campaigns[ca_id].obj1.removeClass("bx-annotation-"+bouncex.campaigns[ca_id].lastCalloutPos),bouncex.campaigns[ca_id].obj1.addClass("bx-annotation-"+bouncex.campaigns[ca_id].callout_pos),bouncex.campaigns[ca_id].lastCalloutPos=bouncex.campaigns[ca_id].callout_pos);var targetSize={height:parseInt(target.height()),width:parseInt(target.width()),outerHeight:parseInt(target.outerHeight()),outerWidth:parseInt(target.outerWidth())},siblingOffset={x:0,y:0},boxAdjust={top:0,right:0,bottom:0,left:0},placementVOffset=0,placementHOffset=0;if(placementTarget&&placementTarget.length>0){var pt_height=parseInt(placementTarget.outerHeight()),pt_h_center=placementTarget.outerWidth()/2+placementTarget.offset().left,target_h_center=targetSize.outerWidth/2+target.offset().left,pt_v_center=placementTarget.outerHeight()/2+placementTarget.offset().top,target_v_center=targetSize.outerHeight/2+target.offset().top;placementVOffset={before:target.offset().top-placementTarget.offset().top,after:target_v_center+targetSize.outerHeight/2-(pt_v_center+pt_height/2),prepend:target.offset().top-targetSize.outerHeight/2-placementTarget.offset().top,append:target_v_center+targetSize.outerHeight-(pt_v_center+pt_height)}[placement],placementHOffset=target_h_center-pt_h_center}if(targetSize.outerHeight-targetSize.height||targetSize.outerWidth-targetSize.width)for(var side in boxAdjust)boxAdjust[side]=parseInt(target.css("padding-"+side))+parseInt(target.css("border-"+side+"-width"));var marginLeft={l:-boxAdjust.left-targetSize.width/2,c:(boxAdjust.right-boxAdjust.left)/2,r:boxAdjust.right+targetSize.width/2}[hAlign],marginBottom={t:boxAdjust.top,m:boxAdjust.top-targetSize.outerHeight/2,b:-boxAdjust.bottom-targetSize.height}[vAlign];if("before"===placement||"after"===placement){var leftRightMarginDiff=parseInt(target.css("marginLeft"))-parseInt(target.css("marginRight"));siblingOffset.x=(boxAdjust.left-boxAdjust.right+leftRightMarginDiff)/2,"before"===placement&&(siblingOffset.y=-boxAdjust.top),"after"===placement&&(siblingOffset.y=targetSize.height+boxAdjust.bottom+parseInt(target.css("marginBottom")))}creative.css("margin","0 0 "+(marginBottom+siblingOffset.y-placementVOffset-vOffset)+"px "+(marginLeft+siblingOffset.x+placementHOffset+hOffset)+"px")}},repressCampaigns:function(ca_id){var ca=bouncex.campaigns[ca_id];if(ca.repress_overlay||ca.repress_top||ca.repress_bottom)for(var nca_id in bouncex.campaigns)if(nca_id!=ca_id){var nca=bouncex.campaigns[nca_id];(ca.repress_overlay&&("none"!==nca.coverlay||"overlay"===nca.type)||ca.repress_top&&("none"!==nca.ctop||"nanobar"===nca.type||"floater"===nca.deployment)||ca.repress_bottom&&("none"!==nca.cbottom||"conversionbar"===nca.type))&&(nca.repressed_by_ca_id=ca_id,nca.repressed=!0)}},isBxPlayerCampaign:function(campaignId){var campaign=bouncex.campaigns[campaignId];return!!(campaign&&bouncex.isGbi2Campaign(campaignId)&&campaign.video)},canShowGbi:function(){var div=document.createElement("div");div.innerHTML="&nbsp;",div.className=bouncex.lz.decompressFromURI("IYEwzgRgNg9gxgayA"),document.body.appendChild(div);var height=div.offsetHeight;return document.body.removeChild(div),0!==height},close_ad:function(ca_id,silent,no_report){var campaign=bouncex.campaigns[ca_id];if(campaign&&campaign.ad_shown&&(!campaign.ad_closed||campaign.ad_visible)){if("none"==bouncex.campaigns[ca_id].coverlay&&"overlay"!=bouncex.campaigns[ca_id].type||(bouncex.overlay_visible=!1,bouncex.website.otc&&(bouncex.timespaced=!0,bouncex.events[ca_id].timeout_timespace=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.timespaced=!1}),1e3*bouncex.website.otc))),bouncex.campaigns[ca_id].ng&&CampaignHelpers.close_ad_ng(ca_id),campaign.ad_visible=!1,campaign.unrepressOthers(),(0,_eventJsEval.event_js_eval)(ca_id,"close"),bouncex.campaigns[ca_id].listeners.stopAll(),!silent){var oca_id=ca_id;bouncex.website.gbi_enabled&&bouncex.campaigns[ca_id].gbi.stack_id&&oca_id!=bouncex.gbi.stacks[bouncex.campaigns[ca_id].gbi.stack_id].leader_id&&(oca_id=bouncex.gbi.stacks[bouncex.campaigns[ca_id].gbi.stack_id].leader_id),bouncex.updateBounceCookie((function(cookie){cookie.campaigns[oca_id].wc=cookie.campaigns[oca_id].wcv=(0,_time.getTimeWithServerDiff)()})),no_report||(0,_report.report)(ca_id,"close"),"reload"===bouncex.campaigns[ca_id].close_redirect_type?bouncex.reload_campaigns():bouncex.campaigns[ca_id].close_redirect_type&&bouncex.campaigns[ca_id].close_redirect_url&&(bouncex.events[ca_id].timeout_close_redirect=CampaignHelpers.teleport(bouncex.campaigns[ca_id].close_redirect_type,bouncex.campaigns[ca_id].close_redirect_url))}bouncex.window.unbind("focus.bouncex_window_focus_"+ca_id),campaign.ad_closed=!0}},close_ad_ng:function(ca_id){var campaign=bouncex.campaigns[ca_id];if("tabtitle"!==bouncex.campaigns[ca_id].type||bouncex.campaigns[ca_id].control||(bouncex.campaigns[ca_id].custom_tab_title.favicon_url&&_tabTalk.default.changeFavicon(ca_id,!0),_tabTalk.default.cancelTitleUpdate(ca_id)),bouncex.campaigns[ca_id].control||bouncex.campaigns[ca_id].noCreative&&!bouncex.isGbi2Campaign(ca_id))return!1;bouncex.campaigns[ca_id].obj1.unbind("click.bcx_campaign_click_"+ca_id,CampaignHelpers.handleClick),bouncex.browser.ios&&bouncex.campaigns[ca_id].inputs.length>0&&("conversionbar"===bouncex.campaigns[ca_id].type||"nanobar"===bouncex.campaigns[ca_id].type)&&(bouncex.campaigns[ca_id].inputs.unbind(".bcx_ios_input_fix_"+ca_id),_iosHelper.default.removeIosInputFix(ca_id));var autoCloseEvent="timeout_auto_submission_close";bouncex.events[ca_id][autoCloseEvent]&&(clearTimeout(bouncex.events[ca_id][autoCloseEvent]),delete bouncex.events[ca_id][autoCloseEvent]);for(var eventName in bouncex.events[ca_id])-1!==eventName.indexOf("campaign_timer")&&(clearInterval(bouncex.events[ca_id][eventName]),delete bouncex.events[ca_id][eventName]);if(CampaignHelpers.close_ad_ng_post_outro(ca_id),"no_effect"!==bouncex.campaigns[ca_id].transitionEffect){bouncex.campaigns[ca_id].obj1.addClass("bx-impress-out");var creative=jQuery("#bx-creative-"+ca_id);bouncex.on(creative,"animationend webKitAnimationEnd",(function(){bouncex.off(creative,"animationend webKitAnimationEnd"),clearInterval(bouncex.campaigns[ca_id].animationTimeout),bouncex.campaigns[ca_id].obj2.removeClass("bx-impress bx-impress-out"),CampaignHelpers.close_ad_save_detached_children(ca_id)})),bouncex.campaigns[ca_id].animationTimeout=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.campaigns[ca_id]&&!bouncex.campaigns[ca_id].ad_visible&&(bouncex.off(creative,"animationend webKitAnimationEnd"),bouncex.campaigns[ca_id].obj2.removeClass("bx-impress bx-impress-out"),CampaignHelpers.close_ad_save_detached_children(ca_id))}),1e3)}else bouncex.campaigns[ca_id].obj2.removeClass("bx-impress"),CampaignHelpers.close_ad_save_detached_children(ca_id);_accessibility.default.hideAlly(ca_id),bouncex.campaigns[ca_id].gbi&&bouncex.campaigns[ca_id].gbi.isVideo&&bouncex.campaigns[ca_id].gbi.player&&bouncex.campaigns[ca_id].gbi.player.remove(),campaign.ad_closed=!0},close_ad_ng_post_outro:function(ca_id){"overlay"==bouncex.campaigns[ca_id].type&&(_accessibility.default.hideAllyOverlayPostOutro(ca_id),bouncex.browser.iphone||bouncex.browser.ipad?(bouncex.html.removeClass("bx-client-overlay-ios"),bouncex.body.removeClass("bx-client-overlay-ios"),bouncex.window.scrollTop(bouncex.preImpressScrollY)):(bouncex.html.removeClass("bx-client-overlay"),bouncex.body.removeClass("bx-client-overlay"))),!bouncex.campaigns[ca_id].blur_gate_enabled||"agilityzone"!=bouncex.campaigns[ca_id].type&&"annotation"!=bouncex.campaigns[ca_id].type||_blurGate.default.remove(ca_id)},close_ad_save_detached_children:function(ca_id){if(bouncex.isGbi2Campaign(ca_id)){var campaign=bouncex.campaigns[ca_id];campaign.obj2_detached_children=[];for(var i=0;i<campaign.obj2.length;i++)campaign.obj2_detached_children.push(jQuery(campaign.obj2[i]).children().detach())}},fs:function(){if(!bouncex.browser.msie)return!0;if(void 0===bouncex.fixed_supported)try{bouncex.fixed_supported=CampaignHelpers.isFixedSupported()}catch(e){bouncex.fixed_supported=!0}return bouncex.fixed_supported},isFixedSupported:function(){var e=document.body;if(document.createElement&&e&&e.appendChild&&e.removeChild){var t=document.createElement("div");if(!t.getBoundingClientRect)return null;t.innerHTML="x",t.style.cssText="position:fixed;top:100px;",e.appendChild(t);var n=e.style.height,r=e.scrollTop;e.style.height="3000px",e.scrollTop=500;var i=t.getBoundingClientRect().top;e.style.height=n;var s=100===i;return e.removeChild(t),e.scrollTop=r,s}return null},by_parent_id:function(pid){for(var cid in bouncex.campaigns)if(bouncex.campaigns[cid].pid==pid)return cid;return null},show_ad:function show_ad(type,ca_id){var ca=bouncex.campaigns[ca_id];if((!bouncex.isGbi2Campaign(ca_id)||bouncex.gbi2.canShowPubCampaign(type,ca_id,(0,_helpers.shouldCheckDfp)()))&&CampaignHelpers.can_show_ad(ca_id)){if(bouncex.pa||_perf.default.times("showad"),ca.trigger=type||ca.trigger||"manual",bouncex.isGbi2Campaign(ca_id)&&(bouncex.triggers_filled[ca.trigger]=ca_id),bouncex.website.gbi_enabled){if(ca.gbi&&("index"==ca.gbi.provider||"tabr"==ca.gbi.provider||"dfphtml"==ca.gbi.provider||"pbm"==ca.gbi.provider||"aqbx"==ca.gbi.provider)&&!ca.gbi.contentLoaded&&!ca.gbi.isVideo){bouncex.gbi.clearRequestAssets(ca_id);var call="tabr"!=ca.gbi.provider?"requestCompleteSingle":"requestCompleteMultiple";return bouncex.gbi[call](ca_id,ca.gbi.html,(function(){ca.gbi.contentLoaded=!0,bouncex.show_ad(type,ca_id),ca.gbi.step>1&&(bouncex.setJumpStep(ca_id,ca.gbi.step,!1),bouncex.nextStep(ca_id))})),!1}var checkPlayVideo=!CampaignHelpers.isBxPlayerCampaign(ca_id)||void 0===ca.video.status.isPlayable,isPlayableVideoCampaign=bouncex.video.isPlayableVideoCampaign.bind(bouncex.video);if(checkPlayVideo){if(isPlayableVideoCampaign(ca_id,!0))return bouncex.video.playVideo(ca_id,!0,type),!1;if(CampaignHelpers.isBxPlayerCampaign(ca_id))return!1}}if(bouncex.isGbi2Campaign(ca_id)&&!ca.gbi.contentLoaded&&!ca.gbi.contentLoading&&"function"==typeof ca.onImpression)return ca.gbi.contentLoading=!0,ca.onImpression((function(){ca.gbi.contentLoading=!1,ca.gbi.contentLoaded=!0,bouncex.show_ad(type,ca_id)}));if(bouncex.campaigns[ca_id].ad_visible=!0,bouncex.campaigns[ca_id].impression_click_reported=!1,bouncex.campaigns[ca_id].submitted=!1,CampaignHelpers.noteCookieAdShown(ca_id),CampaignHelpers.isBxPlayerCampaign(ca_id)?bouncex.video.bxPlayerPop(ca_id,type):(0,_report.report)(ca_id,"pop",{"pop:activation":type}),bouncex.campaigns[ca_id].ng)if(ca.frameWatcher&&!ca.frameWatcher.loadSucceeded){var fn_display=CampaignHelpers._prepareAndDisplay.bind(this,ca_id);ca.frameWatcher.addEventListener("loadSuccess.bx",fn_display,!1)}else CampaignHelpers._prepareAndDisplay(ca_id);if("teleport"!=bouncex.campaigns[ca_id].overlay&&!bouncex.campaigns[ca_id].noCreative&&(CampaignHelpers.show_close(ca_id),bouncex.campaigns[ca_id].ad_auto_close)){var delay=bouncex.campaigns[ca_id].is_pers?CampaignHelpers.calc_delay_cvt(bouncex.campaigns[ca_id].ad_auto_close):1e3*bouncex.campaigns[ca_id].ad_auto_close;bouncex.events[ca_id].timeout_auto_close=(0,_scheduling.setTimeoutWrapper)((function(){CampaignHelpers.close_ad(ca_id)}),delay)}ca.suppressOthers(),ca.repressOthers(),CampaignHelpers.suppressElements(ca),bouncex.usd&&CampaignHelpers.unhideSite();var campaign=bouncex.campaigns[ca_id];if(ca.frameWatcher&&!ca.frameWatcher.loadSucceeded){var fn_eval_impression=function(){(0,_eventJsEval.event_js_eval)(ca_id,"impression"),campaign&&bouncex.clientEvents.activateImpressionEvent({id:campaign.id,purpose:campaign.purpose,sub_purpose:campaign.sub_purpose})};ca.frameWatcher.addEventListener("loadSuccess.bx",fn_eval_impression,!1)}else(0,_eventJsEval.event_js_eval)(ca_id,"impression"),campaign&&bouncex.clientEvents.activateImpressionEvent({id:campaign.id,purpose:campaign.purpose,sub_purpose:campaign.sub_purpose});if(bouncex.campaigns[ca_id].osfn_website)try{eval(bouncex.campaigns[ca_id].osfn_website)}catch(err){bouncex.err(err,{source:"osfn_website",ca_id:ca_id})}ca.ad_closed=!1}},align_callout_public:function(ca_id){bouncex.campaigns[ca_id].c_button=jQuery(bouncex.campaigns[ca_id].callout_t).eq(0);var callout=jQuery("#campaign_"+ca_id+"_container_callout");CampaignHelpers.align_callout(callout,ca_id)},align_callout:function(callout,ca_id,anim,anim_h){anim=void 0!==anim&&anim;var button=bouncex.campaigns[ca_id].c_button,ca=bouncex.campaigns[ca_id],bcx_offset=button.offset(),bcx_top=parseInt(bcx_offset.top),bcx_left=parseInt(bcx_offset.left),cheight=parseInt(callout.height()),cwidth=parseInt(callout.width()),awidth=parseInt(button.outerWidth(!1)),aheight=parseInt(button.outerHeight(!1)),callout_h=ca.callout_pos.substr(0,1),callout_v=ca.callout_pos.substr(1,2),anchor_h=ca.callout_anchor_pos.substr(0,1),anchor_v=ca.callout_anchor_pos.substr(1,2);"l"==callout_h?bcx_left+=0:"c"==callout_h?bcx_left-=parseInt(cwidth/2):"r"==callout_h&&(bcx_left-=cwidth),"r"==anchor_h?bcx_left+=awidth:"c"==anchor_h?bcx_left+=parseInt(awidth/2):"l"==anchor_h&&(bcx_left+=0),"t"==callout_v?bcx_top+=0:"m"==callout_v?bcx_top-=parseInt(cheight/2):"b"==callout_v&&(bcx_top-=cheight),"b"==anchor_v?bcx_top+=aheight:"m"==anchor_v?bcx_top+=parseInt(aheight/2):"t"==anchor_v&&(bcx_top+=0),bcx_top+=parseInt(ca.callout_voffset),bcx_left+=parseInt(ca.callout_hoffset),"down"==anim&&void 0!==anim_h?callout.animate({top:bcx_top+anim_h+"px"},400):"up"==anim?callout.animate({top:bcx_top-anim_h},400):callout.css({top:bcx_top+"px",left:bcx_left+"px"})},destroy_ad:function(ca_id,keepObject){bouncex.campaigns[ca_id].mobile_interval&&clearInterval(bouncex.campaigns[ca_id].mobile_interval),CampaignHelpers.unload_campaign(ca_id),CampaignHelpers.close_ad(ca_id,!0),bouncex.campaigns[ca_id].ng&&jQuery("#bx-campaign-"+ca_id+",#bx-campaign-"+ca_id+"-clone").remove(),bouncex.campaigns[ca_id]&&!keepObject&&(bouncex.campaigns[ca_id].activeTimeCallback&&_activeTime.default.clearCallback(bouncex.campaigns[ca_id].activeTimeCallback),delete bouncex.campaigns[ca_id])},handleClick:function(e){var ca_id=e.data.ca_id,clickedEl=jQuery(e.target),bxClickEl=clickedEl.attr("data-click")?clickedEl:clickedEl.closest("#bx-campaign-"+ca_id+" [data-click]","#bx-campaign-"+ca_id),clickType=bxClickEl.attr("data-click"),ignoreClicksFromThisElement=parseInt(bxClickEl.attr("data-ignore-bubbles"))&&!clickedEl.is(bxClickEl),event=bxClickEl.attr("data-click-report")||"default",fbLogin=parseInt(bxClickEl.attr("data-fb-login"));if(0===bxClickEl.length||ignoreClicksFromThisElement)return!0;if(e.preventDefault(),e.stopPropagation(),CampaignHelpers.handleClickReporting(ca_id,clickType,event),"close"===clickType)1==bouncex.utils.getNestedProp("bouncex.campaigns["+ca_id+"].video.vast.isVPAID")&&bouncex.campaigns[ca_id].video.vpaid.ad.stopAd(),bouncex.close_ad(ca_id,!1,!0);else if("nothing"===clickType)fbLogin&&bouncex.fb.popCa(ca_id);else if("hyperlink"===clickType){var url=bxClickEl.attr("href");if("_blank"===bxClickEl.attr("target")){var newWindow=window.open();newWindow.opener=null,newWindow.location=url}else(0,_scheduling.setTimeoutWrapper)((function(){window.location.href=url}),300)}else if("sms-optin-mobile"==clickType)bouncex.sms.optIn(ca_id,!0);else if("trigger"===clickType){bouncex.report(ca_id,"click");var experienceToTrigger=parseInt(bxClickEl.attr("data-click-trigger"));bouncex.campaigns[experienceToTrigger]||(experienceToTrigger=CampaignHelpers.by_parent_id(experienceToTrigger)),bouncex.campaigns[experienceToTrigger]&&bouncex.show_ad(experienceToTrigger)}else if("submit"===clickType){var jumpStep=parseInt(bxClickEl.attr("data-submit-jump")),forceLastStep=parseInt(bxClickEl.attr("data-submit-force")),stepDelay=parseInt(bxClickEl.attr("data-step-delay"));if(parseInt(bxClickEl.attr("data-sms-optin"))&&(bouncex.sms.optIn(ca_id,!1),bouncex.campaigns[ca_id].jform.find(".bx-sms-optin").val(1)),stepDelay)return(0,_scheduling.setTimeoutWrapper)((function(){fbLogin?bouncex.fb.nextStep(ca_id,jumpStep,forceLastStep):(bouncex.setJumpStep(ca_id,jumpStep,forceLastStep),bouncex.submitCampaignStep(ca_id))}),stepDelay);fbLogin&&!stepDelay?bouncex.fb.nextStep(ca_id,jumpStep,forceLastStep):(bouncex.setJumpStep(ca_id,jumpStep,forceLastStep),bouncex.submitCampaignStep(ca_id))}},handleClickReporting:function(ca_id,clickType,eventToReport){var reportDefault="default"===eventToReport,inputStep=bouncex.campaigns[ca_id].jform.find(".bx-input").length>0;if("nothing"===eventToReport||"submit"===clickType&&reportDefault&&inputStep)return!1;"close"===clickType&&reportDefault?eventToReport="close":reportDefault&&(eventToReport="click"),bouncex.report(ca_id,eventToReport)},_prepareAndDisplay:function(ca_id){var campaign=bouncex.campaigns[ca_id];if(campaign.isGBI2&&!campaign.getClientVisibility())return campaign.onClientVisible(CampaignHelpers._prepareAndDisplay.bind(null,ca_id));if(bouncex.campaigns[ca_id].control||("tabtitle"==bouncex.campaigns[ca_id].type?_tabTalk.default.updateTitle(ca_id):"teleport"==bouncex.campaigns[ca_id].type&&CampaignHelpers.teleport("_self",bouncex.campaigns[ca_id].overlay_teleport_html)),bouncex.campaigns[ca_id].control||bouncex.campaigns[ca_id].noCreative&&!bouncex.isGbi2Campaign(ca_id))return!1;if(CampaignHelpers.googleTrustedStoresBadgeFix(ca_id),bouncex.campaigns[ca_id].submittedYet&&(bouncex.campaigns[ca_id].submittedYet=!1),bouncex.events[ca_id].edwTimeout&&clearTimeout(bouncex.events[ca_id].edwTimeout),bouncex.campaigns[ca_id].forceLastStep=!1,bouncex.campaigns[ca_id].current_step?(bouncex.campaigns[ca_id].next_step=1,bouncex.nextStep(ca_id)):(bouncex.campaigns[ca_id].next_step=2,bouncex.campaigns[ca_id].current_step=1,_couponCodes.default.insertCodesInCurrentStep(ca_id)),bouncex.campaigns[ca_id].obj1.bind("click.bcx_campaign_click_"+ca_id,{ca_id:ca_id},CampaignHelpers.handleClick),!(bouncex.browser.msie||bouncex.browser.ipad||bouncex.browser.iphone)){var ctc=bouncex.campaigns[ca_id].obj1.find(".bx-click-to-copy");ctc.length>0&&(bouncex.on(ctc,"click",(function(event){document.execCommand("copy")})),bouncex.on(ctc,"copy",CampaignHelpers.clickToCopy))}if(bouncex.campaigns[ca_id].inputs=bouncex.campaigns[ca_id].obj1.find(".bx-input, .bx-textarea"),(!bouncex.browser.msie||bouncex.browser.msie>8)&&bouncex.campaigns[ca_id].inputs.length>0){var bindEvents="keydown.bcx_campaign_input_"+ca_id+" focus.bcx_campaign_input_"+ca_id+" blur.bcx_campaign_input_"+ca_id+" change.bcx_campaign_input_"+ca_id+" paste.bcx_campaign_input_"+ca_id+" keyup.bcx_campaign_input_"+ca_id;(0,_eventBinding.bxBind)(bouncex.campaigns[ca_id].inputs,bindEvents,CampaignHelpers.handleInputEvents)}if("overlay"==bouncex.campaigns[ca_id].type)if(bouncex.overlay_visible=!0,bouncex.browser.iphone||bouncex.browser.ipad)bouncex.preImpressScrollY=bouncex.window.scrollTop(),bouncex.html.addClass("bx-client-overlay-ios"),bouncex.body.addClass("bx-client-overlay-ios"),bouncex.html[0].scrollTop=1,bouncex.body[0].scrollTop=1;else{var htmlOverflow=(0,_getStyle.getStyle)(bouncex.html[0],"overflow-y");"auto"==htmlOverflow||"scroll"==htmlOverflow?bouncex.html.addClass("bx-client-overlay"):bouncex.body.addClass("bx-client-overlay")}else if("nanobar"==bouncex.campaigns[ca_id].type||"conversionbar"==bouncex.campaigns[ca_id].type||"liquidscreen"==bouncex.campaigns[ca_id].type){var clone=jQuery("#bx-campaign-"+ca_id+"-clone");"nanobar"==bouncex.campaigns[ca_id].type||"liquidscreen"==bouncex.campaigns[ca_id].type?bouncex.body.prepend(clone):"conversionbar"==bouncex.campaigns[ca_id].type&&bouncex.body.append(clone)}else"annotation"==bouncex.campaigns[ca_id].type&&(0,_eventBinding.bxBind)(window,"resize.bx_campaign_"+ca_id,(function(e){CampaignHelpers.alignCampaign(ca_id)}),ca_id);if(bouncex.browser.ios&&bouncex.campaigns[ca_id].inputs.length>0&&("conversionbar"===bouncex.campaigns[ca_id].type||"nanobar"===bouncex.campaigns[ca_id].type)&&bouncex.campaigns[ca_id].inputs.bind("touchstart.bcx_ios_input_fix_"+ca_id,{ca_id:ca_id},_iosHelper.default.handleIosInputTouchStart).bind("blur.bcx_ios_input_fix_"+ca_id,{ca_id:ca_id},_iosHelper.default.handleIosInputBlur),CampaignHelpers.alignCampaign(ca_id),!bouncex.campaigns[ca_id].blur_gate_enabled||"agilityzone"!=bouncex.campaigns[ca_id].type&&"annotation"!=bouncex.campaigns[ca_id].type||_blurGate.default.add(ca_id),bouncex.campaigns[ca_id].shroud_on_hover&&CampaignHelpers.addShroudOnHover(ca_id),CampaignHelpers.show_ad_restore_detached_children(ca_id),_accessibility.default.setProperties(ca_id),bouncex.campaigns[ca_id].obj2.addClass("bx-impress"),bouncex.isGbi2Campaign(ca_id)&&bouncex.gbi2.handleImpression(ca_id),_accessibility.default.showAlly(ca_id),"no_effect"!==bouncex.campaigns[ca_id].transitionEffect){var creative=jQuery("#bx-creative-"+ca_id);bouncex.campaigns[ca_id].obj1.addClass("bx-impress-in"),bouncex.on(creative,"animationend webKitAnimationEnd",(function(){bouncex.off(creative,"animationend webKitAnimationEnd"),bouncex.campaigns[ca_id].obj1.removeClass("bx-impress-in")}))}bouncex.events[ca_id].ally_timeout=(0,_scheduling.setTimeoutWrapper)((function(){CampaignHelpers.runCampaignTimers(ca_id),"overlay"==bouncex.campaigns[ca_id].type&&(_accessibility.default.focusOnFirstFocusableElement(ca_id,!0),(0,_eventBinding.bxBind)(window,"focus.bouncex_window_focus_"+ca_id,(function(){_accessibility.default.focusOnFirstFocusableElement(ca_id,!0)}),ca_id))}),0);var isPlayableVideoCampaign=bouncex.video.isPlayableVideoCampaign.bind(bouncex.video),playVideo=bouncex.video.playVideo.bind(bouncex.video);isPlayableVideoCampaign(ca_id)&&playVideo(ca_id),campaign.ad_closed=!1,campaign.dispatchEvent("impression.bx")},show_close:function(ca_id,force){bouncex.campaigns[ca_id].ng&&CampaignHelpers.show_close_ng(ca_id,force)},show_close_ng:function(ca_id,force){function swapCloseClasses(placement){bouncex.campaigns[ca_id].obj2.removeClass("bx-has-close-inside bx-has-close-outside"),placement&&bouncex.campaigns[ca_id].obj2.addClass("bx-has-close-"+placement)}var newPlacement=bouncex.campaigns[ca_id].closePlacement[bouncex.campaigns[ca_id].current_step-1];force?swapCloseClasses(newPlacement=newPlacement||"outside"):1===bouncex.campaigns[ca_id].current_step?bouncex.campaigns[ca_id].close_button_delay&&(swapCloseClasses(!1),bouncex.events[ca_id].timeout_close_delay=(0,_scheduling.setTimeoutWrapper)((function(){swapCloseClasses(bouncex.campaigns[ca_id].closePlacement[bouncex.campaigns[ca_id].current_step-1]),delete bouncex.events[ca_id].timeout_close_delay,"overlay"==bouncex.campaigns[ca_id].type&&_accessibility.default.setFocusableElements(ca_id)}),1e3*bouncex.campaigns[ca_id].close_button_delay)):!bouncex.campaigns[ca_id].show_close_step&&bouncex.events[ca_id].timeout_close_delay||(swapCloseClasses(newPlacement),bouncex.events[ca_id].timeout_close_delay&&(clearTimeout(bouncex.events[ca_id].timeout_close_delay),delete bouncex.events[ca_id].timeout_close_delay)),"overlay"==bouncex.campaigns[ca_id].type&&_accessibility.default.setFocusableElements(ca_id)},googleTrustedStoresBadgeFix:function(ca_id){"conversionbar"!=bouncex.campaigns[ca_id].type&&"conversioncorner"!=bouncex.campaigns[ca_id].type&&"liquidscreen"!=bouncex.campaigns[ca_id].type&&"nanobar"!=bouncex.campaigns[ca_id].type&&"nanotab"!=bouncex.campaigns[ca_id].type&&"overlay"!=bouncex.campaigns[ca_id].type&&"railbar"!=bouncex.campaigns[ca_id].type||bouncex.addCss("body > #___ratingbadge_0 { z-index: 2147483627 !important; }",bouncex.campaigns[ca_id].obj1[0],"bx-campaign-"+ca_id+"-gts")},suppressElements:function(ca){ca.suppressElement&&jQuery(ca.suppressElement).remove()},clickToCopy:function(event){var textEl=jQuery(event.target),originalText=textEl.text().trim();"Copied!"!=originalText?(event.originalEvent.clipboardData.setData("text/plain",originalText),event.preventDefault(),textEl.text("Copied!"),(0,_scheduling.setTimeoutWrapper)((function(){textEl.text(originalText)}),1e3)):textEl.text(originalText)},handleInputEvents:function(event){var input=jQuery(this),parent=input.closest(".bx-row");switch(event.type){case"focus":parent.addClass("bx-has-focus");break;case"blur":parent.removeClass("bx-has-focus");break;case"keydown":input.css("min-height",input.outerHeight());({Backspace:null,Tab:null,Enter:null,ShiftLeft:null,ShiftRight:null,ControlLeft:null,ControlRight:null,AltLeft:null,AltRight:null,CapsLock:null,ArrowLeft:null,ArrowUp:null,ArrowRight:null,ArrowDown:null,MetaLeft:null,OSLeft:null,MetaRight:null,OSRight:null}).hasOwnProperty(event.code)&&{8:null,9:null,13:null,16:null,17:null,18:null,20:null,37:null,38:null,39:null,40:null,91:null,93:null,224:null}.hasOwnProperty(event.keyCode)||parent.addClass("bx-has-text");break;case"change":case"paste":case"keyup":input.val().length>0?parent.addClass("bx-has-text"):parent.removeClass("bx-has-text")}},addShroudOnHover:function(ca_id){var hoverShroudTimer,campaignCreative=jQuery("#bx-creative-"+ca_id),hoverShroud=jQuery("#bx-hover-shroud-"+ca_id);campaignCreative.length&&hoverShroud.length&&((0,_eventBinding.bxBind)(campaignCreative,"mouseenter.bx-backdrop",(function(){hoverShroudTimer=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.campaigns[ca_id].obj1.addClass("bx-hover-shroud-on")}),150)}),ca_id),(0,_eventBinding.bxBind)(campaignCreative,"mouseleave.bx-backdrop",(function(){clearTimeout(hoverShroudTimer),bouncex.campaigns[ca_id].obj1.removeClass("bx-hover-shroud-on")}),ca_id))},show_ad_restore_detached_children:function(ca_id){if(bouncex.isGbi2Campaign(ca_id)){var campaign=bouncex.campaigns[ca_id];if(null!=campaign.obj2_detached_children){for(var i=0;i<campaign.obj2.length;i++)campaign.obj2_detached_children[i].appendTo(campaign.obj2[i]);campaign.obj2_detached_children=null}}},runCampaignTimers:function(ca_id){var timers=bouncex.campaigns[ca_id].obj2.find(".bx-timer");if(timers.length>0){var index=0;timers.each((function(k,obj){var timer_id="campaign_timer_"+ ++index;if(!bouncex.events[ca_id][timer_id]){var timer=jQuery(obj),countTo=timer.attr("data-count-to"),countFrom=timer.attr("data-count-from"),format=timer.attr("data-format"),onComplete=timer.attr("data-on-complete"),reset=parseInt(timer.attr("data-reset")),hasDays=/{0?days}/.test(format);CampaignHelpers.run_timer(countTo,countFrom,format,hasDays,onComplete,reset,timer,timer_id,ca_id),bouncex.events[ca_id][timer_id]=(0,_scheduling.setIntervalWrapper)((function(){CampaignHelpers.run_timer(countTo,countFrom,format,hasDays,onComplete,!1,timer,timer_id,ca_id)}),1e3)}}))}},run_timer:function(count_to,count_from,format,hasDays,on_complete,resetIfExpired,timer,timer_id,ca_id){var firstSeen=bouncex.cookie.campaigns[ca_id].fsa,isRelativeTimer="first_impression"===count_from,now=(0,_time.getTimeWithServerDiff)(),end=count_to-now;isRelativeTimer&&(resetIfExpired&&firstSeen+end<=0&&bouncex.updateBounceCookie((function(cookie){firstSeen=cookie.campaigns[ca_id].fsa=now})),end+=firstSeen),end<=0&&(clearInterval(bouncex.events[ca_id][timer_id]),end=0,"close"===on_complete&&CampaignHelpers.close_ad(ca_id));var new_timer_html=format.replace(/{(.*?)}/gi,(function(query,unit,index,string){var units=0,operation="floor",spanOpen='<span class="bx-timer-units bx-timer-'+unit+'">',unitLabel='<span class="bx-ally-label">'+("0days"===unit?"days":unit)+"</span>";switch(unit){case"0days":case"days":operation=string.split("{").length-1==0?"ceil":"floor",units=end/60/60/24;break;case"hours":units=hasDays?end/60/60%24:end/60/60;break;case"minutes":units=end/60%60;break;case"seconds":units=end%60}return spanOpen+((units=Math[operation](units))<10&&"days"!=unit?"0"+units:units)+unitLabel+"</span>"}));timer.html(new_timer_html)}},_default=CampaignHelpers;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTimeWithServerDiff=void 0;exports.getTimeWithServerDiff=function(){var timeDiff=bouncex.server_client_time_diff||0;return parseInt(Date.now()/1e3)+timeDiff}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={viewport:{getVisibleElements:function(selector,settings){settings||(settings={});var visibilityThreshold=settings.visibilityThreshold||0,domPlacementMethod=settings.domPlacementMethod||"prepend",outsideTarget="before"===domPlacementMethod||"after"===domPlacementMethod;return jQuery(selector).toArray().reduce(function(acc,anchor,index){var containerElement=outsideTarget?anchor.parentNode:anchor,containerIsHidden=this.elementIsHidden(containerElement),anchorEdgeInViewport=this.elementEdgeInViewport(anchor,domPlacementMethod,settings.voffset);if(!containerIsHidden&&anchorEdgeInViewport){var creativeClientTop=this._getVerticalPosition(anchor,domPlacementMethod,settings.voffset),creativeClientRect={height:settings.height||containerElement.clientHeight,width:settings.width||containerElement.clientWidth,top:creativeClientTop},containerWidth=containerElement.clientWidth;containerWidth&&containerWidth<creativeClientRect.width&&(creativeClientRect.height=Math.round(creativeClientRect.height*containerWidth/creativeClientRect.width),creativeClientRect.width=containerWidth);var visibility=this.clientVisibility(creativeClientRect);if(visibility&&visibility>=visibilityThreshold){var creativeMidpoint=creativeClientRect.height+2*creativeClientRect.top,midpointOffset=Math.abs(window.innerHeight-creativeMidpoint);acc.push({element:anchor,index:index,visibility:visibility,midpointOffset:midpointOffset})}}return acc}.bind(this),[]).sort((function(a,b){return b.visibility-a.visibility||a.midpointOffset-b.midpointOffset}))},elementIsHidden:function(element){return!(element&&element.getClientRects().length)},elementEdgeInViewport:function(element,domPlacementMethod,voffset){if(!(element=this.__toElement(element)))return!1;var position=this._getVerticalPosition(element,domPlacementMethod,voffset);return this.isInVerticalViewport(position)},elementInViewport:function(element){return!!(element=this.__toElement(element))&&(this.isInVerticalViewport(this._getVerticalPosition(element,"before"))||this.isInVerticalViewport(this._getVerticalPosition(element,"after")))},clientVisibility:function(clientRect){if(!clientRect)return 0;var domRect=Object.assign({},{height:clientRect.bottom-clientRect.top,top:clientRect.bottom-clientRect.height,bottom:clientRect.top+clientRect.height},clientRect);if(!domRect.height||domRect.bottom<=0||domRect.top>=window.innerHeight||domRect.top===domRect.bottom)return 0;if(domRect.top>=0&&domRect.bottom<=window.innerHeight)return 1;var fullHeight=domRect.height,visibleHeight=Math.min(domRect.bottom,window.innerHeight)-Math.max(domRect.top,0);return visibleHeight>=fullHeight?1:Math.round(visibleHeight/fullHeight*100)/100},__toElement:function(element){return"string"==typeof element&&(element=document.querySelector(element)),element},isInVerticalViewport:function(positionToCompare){return positionToCompare>=0&&positionToCompare<=(window.innerHeight||document.documentElement.clientHeight)},_getVerticalPosition:function(element,domPlacementMethod,offset){var elementRect=element.getBoundingClientRect();return offset=parseInt(offset)||0,"before"===domPlacementMethod||"prepend"===domPlacementMethod?elementRect.top-offset:elementRect.bottom+offset},distanceToBottom:function(element,domPlacementMethod,offset){var position=this._getVerticalPosition(element,domPlacementMethod,offset);return(window.innerHeight||document.documentElement.clientHeight)-position}},currentTab:{isVisible:function(){return"visible"===document.visibilityState}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.bxBind=function(obj,type,fn,ca_id){obj=jQuery(obj);ca_id&&(bouncex.events[ca_id][type]=obj);obj.bind(type,_debug.default.tryCatch(fn,{source:"bxBind",ca_id:ca_id}))},exports.bxPassiveBind=function(obj,type,fn,ca_id){var types=type.split(" ");fn=_debug.default.tryCatch(fn,{source:"bxPassiveBind",ca_id:ca_id}),bouncex.passiveEventRegistry[type]=fn,ca_id&&(bouncex.events[ca_id][type]=function(){bxPassiveUnbind(obj,type)});for(var i=0,l=types.length;i<l;i++){var typeWithoutNamespace=types[i].split(".")[0];(0,_eventHelpers.addEvent)(obj,typeWithoutNamespace,fn,!0)}},exports.bxPassiveUnbind=bxPassiveUnbind,exports.bindOn=function(target,events,callback,selector){selector?delegate(target,events,_debug.default.tryCatch(callback),selector):null!=jQuery.fn.on?target.on(events,_debug.default.tryCatch(callback)):target.bind(events,_debug.default.tryCatch(callback))},exports.bindOff=function(target,events,selector){selector?undelegate(target,events,selector):null!=jQuery.fn.off?target.off(events):target.unbind(events)},exports.delegate=delegate,exports.undelegate=undelegate;var obj,_debug=(obj=__webpack_require__(5))&&obj.__esModule?obj:{default:obj},_eventHelpers=__webpack_require__(21);function bxPassiveUnbind(obj,type){for(var fn=bouncex.passiveEventRegistry[type],types=type.split(" "),i=0,l=types.length;i<l;i++){var typeWithoutNamespace=types[i].split(".")[0];(0,_eventHelpers.removeEvent)(obj,typeWithoutNamespace,fn,!0)}}function delegate(target,events,callback,selector){if(null!=jQuery.fn.on)target.on(events,selector,callback);else{if(null==jQuery.fn.delegate)return bouncex.err("event listener delegation not supported"),!1;target.delegate(selector,events,callback)}}function undelegate(target,events,selector){if(null!=jQuery.fn.off)target.off(events,selector);else{if(null==jQuery.fn.undelegate)return!1;target.undelegate(selector,events)}}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _scheduling=__webpack_require__(2),_helpers=__webpack_require__(0),bxInterval={init:function(){clearInterval(bxInterval._masterPoll),bxInterval._tasks={},bxInterval._masterPoll=(0,_scheduling.setIntervalWrapper)(bxInterval._runTasks.bind(bxInterval),1e3)},_runTasks:function(){for(var taskId in bxInterval._tasks)if(bxInterval._tasks.hasOwnProperty(taskId)){var task=bxInterval._tasks[taskId];task.run(),task.count+=1,task.max>0&&task.count>=task.max&&bxInterval._maxedTask(taskId)}},addTask:function(callback,max,optionalId,maxedFn){var generatedId=(0,_helpers.getTimeMs)()+Math.random(),id=optionalId||generatedId;return bxInterval._tasks[id]={run:callback,max:max||0,count:0,maxedFn:maxedFn},id},_maxedTask:function(id){bxInterval._tasks[id]&&"function"==typeof bxInterval._tasks[id].maxedFn&&bxInterval._tasks[id].maxedFn(),bxInterval.stopTask(id)},stopTask:function(id){delete bxInterval._tasks[id]},clearTasks:function(){bxInterval._tasks={}}},_default=bxInterval;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={get:function(options){return options.type="GET",jQuery.ajax(options)},getScript:function(url,onsuccess){jQuery.ajax({url:url,cache:!0,dataType:"script",success:onsuccess})}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_eventStream=(obj=__webpack_require__(3))&&obj.__esModule?obj:{default:obj},_helpers=__webpack_require__(0);var _default={timesArr:{},startTime:"undefined"!=typeof performance&&performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart:(0,_helpers.getTimeMs)(),times:function(eventName){this.timesArr.startTime||(this.timesArr.startTime=this.startTime),this.timesArr[eventName]=(0,_helpers.getTimeMs)()-this.startTime},manualTiming:function(eventName,endTime){this.timesArr[eventName]=endTime-this.startTime},report:function(type){if(bouncex.cookie&&"037"===bouncex.cookie.did.substr(bouncex.cookie.did.length-3)){var params=this.get(type);if(params)return params.agent="js",_eventStream.default.report("perf",params)}},get:function(type){var arrName=type+"Arr",keyName="perf:"+type,params={};return params[keyName]=bouncex.stringify(this[arrName]),!(!params[keyName]||"[]"===params[keyName]||"{}"===params[keyName])&&params}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SSP,exports.SSP_Request=SSP_Request;var consolidate_bids,_helpers=__webpack_require__(0);function SSP(settings){this.__init(settings||{})}function SSP_Request(){var request_settings=Array.prototype.slice.call(arguments);request_settings.forEach((function(settings){settings&&Object.assign(this,settings)}),this),this.__init()}consolidate_bids=bouncex&&bouncex.website&&bouncex.website.cjs&&bouncex.website.cjs.indexOf("bouncex.CONSOLIDATE_BIDS = true")>-1,SSP.CONSOLIDATE_BIDS=consolidate_bids,SSP.PRELOAD_ENABLED=!0,SSP.PRELOAD_PROVIDERS=["aqbx","bsw"],SSP.PRERENDER_ENABLED=(0,_helpers.hasFeatureFlag)("PRELOAD_BSW_ADS"),SSP.getUniqueImpressionID=function(){return String(++SSP.getUniqueImpressionID.counter)},SSP.getUniqueImpressionID.counter=0,Object.assign(SSP.prototype,{__Request_Class:SSP_Request,provider:null,requests:null,startTime:null,endTime:null,durationTime:null,campaign_ids:null,campaign_placement_ids:null,__init:function(settings){Object.assign(this,settings)},sendBidRequests:function(requests){return this.startTime=Date.now(),requests.map((function(request){return request.send()}))},createBidRequests:function(){var providerBidSettings={auction:this.auction,ssp:this,provider:this.provider};return this.requests=this.__createAllBidRequests(providerBidSettings)},__createAllBidRequests:function(providerBidSettings){var requests=[];return this.campaign_ids.forEach((function(campaign_id){var campaign_requests=this.__createCampaignBidRequests(providerBidSettings,campaign_id);campaign_requests&&campaign_requests.length&&Array.prototype.push.apply(requests,campaign_requests)}),this),requests},__createCampaignBidRequests:function(providerBidSettings,campaign_id){var campaignBidSettings={campaign:this.auction.campaigns[campaign_id],campaignId:campaign_id},campaign_placement_ids=this.campaign_placement_ids[campaign_id],createPlacementBidRequestFn=this.__createPlacementBidRequest.bind(this,providerBidSettings,campaignBidSettings);return campaign_placement_ids.map(createPlacementBidRequestFn)},__createPlacementBidRequest:function(providerBidSettings,campaignBidSettings,placement_id){var placement=campaignBidSettings.campaign.gbi.placements[placement_id],placementBidSettings=Object.assign({placement:placement,placementId:placement_id,adUnitId:placement.adUnitId,type:placement.mediaType,width:placement.width,height:placement.height,deployment:placement.deployment,moat:placement.moat},campaignBidSettings,providerBidSettings);return this.__instantiateBidRequest(placementBidSettings)},__instantiateBidRequest:function(bidSettings){return SSP_Request.factory(this,bidSettings)},getIncompleteRequests:function(){return this.requests.filter((function(request){return!request.isComplete()}))},checkIfDone:function(){return null!==this.endTime||null===this.requests||0===this.getIncompleteRequests().length&&(this.__done(),!0)},abortFutileRequests:function(){var incompleteRequests=this.getIncompleteRequests();if(0===incompleteRequests.length)return[];var auctionEnded=!!this.auction.endTime;return incompleteRequests.filter((function(request){return!(!auctionEnded&&request.isViable()||(request.abort(),0))}))},__done:function(){null===this.endTime&&(this.endTime=new Date,this.durationTime=this.endTime-this.startTime,this.auction.checkBidRequestsDone())},getUniqueImpressionID:SSP.getUniqueImpressionID}),Object.defineProperties(SSP.prototype,{__Request_Prototype:{writable:!0},auction:{writable:!0}}),SSP_Request.__SSP_Class=SSP,SSP_Request.factory=function(ssp,request_settings){var provider_name=ssp.provider,request=bouncex.gbi2._requestIndex[provider_name](Object.assign({provider:provider_name},request_settings));return request instanceof SSP_Request?request:new(ssp.__Request_Class||SSP_Request)(request,request_settings)},Object.assign(SSP_Request.prototype,{aborted:!1,startTime:null,endTime:null,duration:null,__init:function(){this.auction||(this.auction=bouncex),this.ssp||(this.ssp=Object.create(this.constructor.__SSP_Class.prototype)),this.__initCampaigns()},__initCampaigns:function(){this.campaigns?Object.values(this.campaigns).forEach(this.__initCampaign,this):(this.campaign||this.campaignId)&&(this.campaign?this.campaignId||(this.campaignId=this.campaign.id):this.campaign=this.auction.campaigns[this.campaignId]||{},(this.campaigns={})[this.campaignId]=this.campaign,this.__initCampaign(this.campaign))},__initCampaign:function(campaign){campaign.gbi||(campaign.gbi={}),campaign.gbi.requests||(campaign.gbi.requests=[]),campaign.gbi.requests.push(this)},send:function(){return this.init()},fetch:function(options){return this.startTime=Date.now(),this.request=bouncex.utils.doAjaxRequest(options),this.request},done:function(){this.endTime||(this.endTime=Date.now(),this.duration=this.endTime-this.startTime,this.ssp&&this.ssp.checkIfDone())},reportResult:function(result,eventData){eventData||(eventData={}),eventData.partner||(eventData.partner=this.provider);var campaign_id=eventData.campaign_id||this.getCampaignId();bouncex.gbi2.report(campaign_id,result,eventData)},end:function(){this.request&&!this.endTime&&(this.aborted=!0,this.request.abort())},abort:function(){this.end()},getCampaignId:function(){return this.campaignId||Object.keys(this.campaigns||this.campaignSettings)[0]||null},getCampaign:function(campaignId){var campaign_id=campaignId||this.getCampaignId();return campaign_id&&(this.campaigns||this.auction.campaigns)[campaign_id]},getCampaigns:function(){return this.campaigns?Object.values(this.campaigns):this.campaignSettings?Object.keys(this.campaignSettings).map((function(campaignID){return this.auction.campaigns[campaignID]}),this):[this.auction.campaigns[this.campaignId]]},_getProviderConfig:function(key){return bouncex.gbi2._getProviderConfig(this.provider,key)},getUniqueImpressionID:SSP.getUniqueImpressionID,createDisplayImpression:function(placement_settings,overrides){return Object.assign({id:placement_settings.impid||this.getUniqueImpressionID(),banner:{w:Number(placement_settings.width),h:Number(placement_settings.height)}},overrides||{})},createVideoImpression:function(placement_settings,overrides){var interstitial="overlay"===placement_settings.deployment,videoImpression={id:placement_settings.impid||this.getUniqueImpressionID(),video:{mimes:["video/mp4","application/javascript"],minduration:3,maxduration:150,protocols:[2,3,5,6],linearity:1,api:[1,2],startdelay:0,placement:interstitial?5:4,playbackmethod:[2]}};return placement_settings.width&&(videoImpression.video.w=Number(placement_settings.width)),placement_settings.height&&(videoImpression.video.h=Number(placement_settings.height)),Object.assign(videoImpression,overrides||{})},getExtraIds:function(){var deviceId=window.bouncex.gbi.deviceOptedStatus;return deviceId?[{source:"bxid",uids:[{id:deviceId,atype:1}]}]:[]},_getReportablePrice:function(price){return price&&Number(price).toFixed(5)},isComplete:function(){return!(!this.endTime&&!this.aborted)},isViable:function(){if(this.isComplete())return!1;for(var requestCampaigns=this.getCampaigns(),i=0;i<requestCampaigns.length;i++){var campaign=requestCampaigns[i];if(!campaign.failed&&!campaign.winningBid)return!0}return!1}}),Object.defineProperties(SSP_Request.prototype,{auction:{writable:!0},ssp:{writable:!0},campaign:{writable:!0},campaigns:{writable:!0},placement:{writable:!0}})},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={isVastOrTag:function(data){return-1!==data.indexOf("<?xml")&&(data=data.replace(/^<\?xml(?:(?!>)[\s\S])*>/i,"")),/^[\s]*<VAST/i.test(data)?"vastxml":"tag"},toCamelCase:function(str){return str.charAt(0).toLowerCase()+str.slice(1)},calculateAspectRatioData:function(width,height){var data={},ratio=parseInt(width)/parseInt(height);switch(ratio){case 4/3:data.paddingTop="75%";break;case 1.5:data.paddingTop="66.6666666667%";break;case 16/9:data.paddingTop="56.25%";break;case 1:data.paddingTop=!1;break;case 1.6:data.paddingTop="62.5%"}return data.ratio=ratio,data},groupCollapsed:function(campaignId,msg,fail){var campaign=campaignId?"("+campaignId+")":"";bouncex.console.groupCollapsed("%c vast parser "+campaign+": "+msg,"color: "+(fail?"#FF0000":"#09AF59"))},groupEnd:function(campaignId,msg,fail){var campaign=campaignId?"("+campaignId+")":"";bouncex.console.groupEnd("%c vast parser "+campaign+": "+msg,"color: "+(fail?"#FF0000":"#09AF59"))}};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={getXmlNode:function(campaignId,xml,node,which){var elements,logMsg,randomFactor,randomNumber;return null==xml||xml.length<1?(bouncex.video.log(campaignId,"Failed to extract node -> "+node+". XML is null. Searched node: "+node,"warning"),null):null===(elements="object"===_typeof(xml)&&xml.getElementsByTagName(node))||elements.length<1?("Companion"!==node&&"NonLinear"!==node&&bouncex.video.log(campaignId,"Failed to find node -> "+node,"vast"),null):0===which?(bouncex.video.log(campaignId,"Extracted first occurrence of node -> "+node,"vast"),elements[0]):1===which?(logMsg=elements.length>1?"Extracted "+elements.length+" occurrences of node -> "+node:"Extracted "+elements.length+" occurrence of node -> "+node,bouncex.video.log(campaignId,logMsg,"vast"),elements):(randomFactor=elements.length-1,randomNumber=Math.round(Math.random()*randomFactor),bouncex.video.log(campaignId,"Extracted random element["+randomNumber+"] out of "+elements.length+" "+node+" nodes","vast"),elements[randomNumber])},parseNodeText:function(node){return node&&(node.textContent||node.text)},nodeExists:function(node){return null!==node&&null!==node.firstChild},getNodeValue:function(node){var firstChildExist=!(!node||!node.firstChild),firstChild=!!firstChildExist&&node.firstChild;if("MediaFile"===node.nodeName&&node&&node.childNodes&&node.childNodes.length>1&&"#text"===firstChild.nodeName)for(var i=0;i<node.childNodes.length;i++)"URL"===node.childNodes[i].nodeName&&(firstChild=node.childNodes[i],firstChildExist=!0);if(firstChildExist){if(firstChild.nodeValue&&""!==firstChild.nodeValue.trim())return firstChild.nodeValue;if(firstChild.nextSibling&&firstChild.nextSibling.data&&""!==firstChild.nextSibling.data.trim())return firstChild.nextSibling.data;if(firstChild.wholeText&&""!==firstChild.wholeText&&""!==firstChild.wholeText.trim())return firstChild.wholeText.trim()}return null}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _helpers=__webpack_require__(0);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _records=[];function getRecords(filter){return"function"==typeof filter?_records.filter(filter):_records}var _default={addRecord:function(record){if(!(0,_helpers.isBxInternalTraffic)())return!1;_records.length>=500&&_records.shift();var obj,formattedRecord=null===(obj=record)||"object"!==_typeof(obj)||Array.isArray(obj)?{}:record;"string"==typeof record&&(formattedRecord.message=record),formattedRecord.group=formattedRecord.group||!1,formattedRecord.message=formattedRecord.message||"",formattedRecord.isError=!!formattedRecord.isError,formattedRecord.timestamp=(0,_helpers.getTimeMs)(),_records.push(formattedRecord)},clearRecords:function(){_records=[]},getRecords:getRecords,printRecords:function(filter){var logString,timeString,color;getRecords(filter).forEach((function(record){timeString=new Date(record.timestamp).toLocaleTimeString(),color=record.isError?"#FF0000":"#00F",logString="%c ",record.group&&(logString+="(".concat(record.group,") ")),record.campaignId&&(logString+="(".concat(record.campaignId,") ")),logString+="(".concat(timeString,") "),logString+=record.message,bouncex.log(logString,"color: ".concat(color))}))}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _removeTestModeItems=__webpack_require__(48),_time=__webpack_require__(7),_helpers=__webpack_require__(0),_bxInterval=_interopRequireDefault(__webpack_require__(10));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var XD={postMessage:function(){},receiveMessage:function(){}},getTime2=_time.getTimeWithServerDiff,getTimeMs=_helpers.getTimeMs,customVariables={_hasInit:!1,_reloadCampaignVarNames:[],_allChangedVars:[],init:function(){customVariables._hasInit||(bouncex.vars={},customVariables.varsToExpire=[],bouncex.website.vars=(0,_removeTestModeItems.removeTestModeItems)("cvars"),customVariables._index={},bouncex.website.vars.forEach((function(v,i){customVariables._index[v.name]=i}))),customVariables.evalVars(),setTimeout(customVariables._initPolling,0),customVariables._hasInit=!0},evalVars:function(type){type=type||"all";for(var cvars=customVariables._filterVars(type),i=0;i<cvars.length;i++){var cvar=cvars[i];if(void 0===bouncex.vars[cvar.name]&&customVariables._initVar(cvar),customVariables._canEvalVar(cvar))if("all"!==type){var result=customVariables.evalVarAndReload(cvar.name);"visit"!==cvar.persist||bouncex.state||result.success||customVariables.varsToExpire.push({name:cvar.name,default:cvar.default})}else{(function(cvar){setTimeout(function(){var result=customVariables.evalVarAndReload(cvar.name);"visit"!==cvar.persist||bouncex.state||result.success||customVariables.varsToExpire.push({name:cvar.name,default:cvar.default})}.bind(customVariables),0)}).bind(customVariables)(cvar)}}},_filterVars:function(type){if(customVariables._filter=customVariables._filter||{},customVariables._filter[type])return customVariables._filter[type];switch(type){case"all":return customVariables._filter[type]=bouncex.website.vars;case"devicegraph":return customVariables._filter[type]=bouncex.website.vars.filter((function(v){return"devicegraph"===v.persist}));case"polling":return customVariables._filter[type]=bouncex.website.vars.filter((function(v){return"none"!==v.polling}));case"persist":return customVariables._filter[type]=bouncex.website.vars.filter((function(v){return"no"!==v.persist}));default:return[]}},_initVar:function(cvar){var initialVal="no"!==cvar.persist&&bouncex.cookie.v&&void 0!==bouncex.cookie.v[cvar.name]?bouncex.cookie.v[cvar.name]:cvar.default;customVariables.setVar(cvar.name,initialVal)},_canEvalVar:function(cvar){if(cvar.page_types.length&&(!bouncex.website.pts||-1===cvar.page_types.indexOf(bouncex.website.pts)))return!1;if("devicegraph"===cvar.persist){if(!bouncex.dg||!bouncex.dg.store)return!1;if("number"!=typeof bouncex.vars[cvar.name])return!1}return"event"!==cvar.trigger},_evalVar:function(cvar,scope){var result={};"function"!=typeof cvar.code&&(cvar.code=customVariables._makeFunc(cvar.code));try{var code=scope?cvar.code.bind(scope):cvar.code;result=customVariables.setVar(cvar.name,code())}catch(e){bouncex.err(e,{source:"eval cvar",cvar:cvar.name})}return result},setVar:function(name,value){var cvar=bouncex.website.vars[customVariables._index[name]],result={success:!1,changed:!1},newVal=customVariables._formatVar(value);return result.success=customVariables._validVar(newVal),result.success&&bouncex.vars[cvar.name]!==newVal&&(result.changed=!0,result.oldVal=bouncex.vars[cvar.name],bouncex.vars[cvar.name]=newVal,"no"!==cvar.persist&&(bouncex.updateBounceCookie((function(cookie){cookie.v=cookie.v||{},cookie.v[cvar.name]=newVal})),bouncex.dg&&bouncex.dg.store&&"devicegraph"===cvar.persist&&(bouncex.dg.store.v=bouncex.dg.store.v||{},bouncex.dg.store.v[cvar.name]=newVal))),result},getVar:function(name){return bouncex.website.vars[customVariables._index[name]]},_reactToChange:function(cvar,result){result.changed&&("vars"!==cvar.polling&&customVariables._reloadCampaignVarNames.push(cvar.name),"devicegraph"===cvar.persist&&bouncex.dg.updateDeviceGraphCookie(),customVariables._allChangedVars.push({name:cvar.name,oldVal:result.oldVal}))},evalVarAndReload:function(name,scope){var cvar=bouncex.website.vars[customVariables._index[name]],result=customVariables._evalVar(cvar,scope);return customVariables._reactToChange(cvar,result),result},setVarAndReload:function(name,value){var cvar=bouncex.website.vars[customVariables._index[name]],result=customVariables.setVar(cvar.name,value);customVariables._reactToChange(cvar,result)},_makeFunc:function _makeFunc(code){var f=function(){return null},str="f = (function(){return "+encodeURI(code.toString().replace("\n"," "))+"});";try{eval(decodeURI(str))}catch(e){bouncex.err("bad cvar expression "+code)}return f},_validVar:function(val){return"number"==typeof val&&!isNaN(val)||"string"==typeof val||"boolean"==typeof val},_formatVar:function(val){switch(!0){case"true"===val:return!0;case"false"===val:return!1;case"string"==typeof val&&!!val.match(/^[0-9]+$/):return parseInt(val);case"string"==typeof val&&!!val.match(/^[0-9]+\.[0-9]+$/):return parseFloat(val);default:return val}},_initPolling:function(){customVariables._reloadCampaignVarNames=[],_bxInterval.default.addTask(customVariables._pollingVars,0,"eval_polling_vars"),_bxInterval.default.addTask(customVariables._cvarChangeEvent,0,"emit_change_event")},_pollingVars:function(){customVariables.evalVars("polling"),customVariables._reloadCampaignVarNames.length&&(bouncex.reload_campaigns("variable",customVariables._reloadCampaignVarNames.join(",")),customVariables._reloadCampaignVarNames=[]),customVariables._allChangedVars.length&&2==bouncex.website.ete&&bouncex.et.evalAllUIEvents()},_cvarChangeEvent:function(){customVariables._allChangedVars.length&&bouncex.window&&(bouncex.window.trigger("bxVarsChange",[customVariables._allChangedVars]),customVariables._allChangedVars=[])},clearAll:function(){customVariables._hasInit=!1,bouncex.vars={}}},_default=customVariables;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _node_parsers=_interopRequireDefault(__webpack_require__(15)),_xml=_interopRequireDefault(__webpack_require__(96));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Validations={checkMediaExists:function(campaignId,vastXml,mediaFile){if(null===mediaFile||mediaFile.length<1){var xmlWrapper=_node_parsers.default.getXmlNode(campaignId,vastXml,"Wrapper",0),xmlStatus=_node_parsers.default.getXmlNode(campaignId,vastXml,"status",0);xmlStatus&&"NO_AD"===xmlStatus.innerHTML&&bouncex.video.fail(campaignId,"vastResponse with no ad - status: "+xmlStatus.innerHTML+", campaign failed."),null===xmlWrapper&&bouncex.video.fail(campaignId,"vastResponse without video, campaign failed")}},checkVastUrl:function(vastUrl){var vastUrlCheck=Validations.checkUrl(vastUrl),validatedVastUrl=vastUrlCheck.href||null;return"https:"===window.location.protocol&&"https"!==vastUrlCheck.protocol&&(validatedVastUrl="https:"+validatedVastUrl.substring(5)),validatedVastUrl},checkHttpRequest:function(campaignId,url,callback){"function"!=typeof callback&&bouncex.video.fail(campaignId,"VAST [validateHttpCall]: callback is not a function",!0),"string"!=typeof url&&bouncex.video.fail(campaignId,"VAST [validateHttpCall]: not a valid url",!0)},checkUrl:function(url){var quirksMode=document.documentMode,urlNode=document.createElement("a");return quirksMode&&(urlNode.setAttribute("href",url),url=urlNode.href),urlNode.setAttribute("href",url),{href:urlNode.href,protocol:urlNode.protocol?urlNode.protocol.replace(/:$/,""):"",hostname:urlNode.hostname,path:"/"===urlNode.pathname.charAt(0)?urlNode.pathname:"/"+urlNode.pathname}},checkXml:function(response,campaignId){var vastXmlResponse;if("string"==typeof response){vastXmlResponse=_xml.default.convertStringToXML(response)}else{if(null===response&&null===response.responseXML&&null===response.responseText){var params=response?{url:encodeURIComponent(response.responseURL)}:{};return bouncex.video.log(campaignId,"vast url returned null response | "+params,"error"),!1}var xmlResponse=response.responseXML||response.responseText||response.response;if("string"==typeof xmlResponse)try{vastXmlResponse=_xml.default.convertStringToXML(response.responseText)}catch(err){return bouncex.video.log(campaignId,"vastResponse returned null from url "+params,"error"),!1}else vastXmlResponse=xmlResponse}return vastXmlResponse}},_default=Validations;exports.default=_default},function(module,exports,__webpack_require__){function ActivationTrigger(criteria,campaign_id){this.__init.apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ActivationTrigger,ActivationTrigger.prototype={triggered:!1,__init:function(criteria,campaign_id){this.type=criteria.activation,this.campaign_id=campaign_id,this.args=this.__args(criteria,campaign_id),this.instrumentId=this.getUniqueInstrumentId(criteria,campaign_id),this.assignTrigger(criteria),this.register()},__args:function(criteria,campaign_id){return criteria.__args||[criteria.prop,criteria.val,campaign_id,criteria.prop2,criteria.prop3,criteria.prop4,criteria.prop5,criteria.prop6,criteria.devicetype,criteria.adformat]},activate:function(func){return(func.__wrapActivationFunction||func).apply(this,this.args)},trigger:function(callback){var newlyTriggered=!this.triggered;return this.triggered=!0,callback(this.getNormalizedType(),this.campaign_id,this,newlyTriggered)},__argExemptTypes:new Set(["bounce","manual","control","inter","back","pers"]),getUniqueInstrumentId:function(criteria,campaign_id){var type=criteria.activation;if(this.__argExemptTypes.has(type))return JSON.stringify([type,campaign_id]);var args=this.__args(criteria,campaign_id);return JSON.stringify([type,args])},__registry:new Map,register:function(){this.__registry.set(this.instrumentId,this)},assignTrigger:function(criteria){return criteria.activationTrigger=this},getRegistered:function(criteria,campaign_id){if(criteria.activationTrigger)return criteria.activationTrigger;var instrumentId=this.getUniqueInstrumentId(criteria,campaign_id),activationTrigger=this.__registry.get(instrumentId);return activationTrigger&&activationTrigger.assignTrigger(criteria)},getOrCreate:function(criteria,campaign_id){return this.getRegistered(criteria,campaign_id)||new ActivationTrigger(criteria,campaign_id)},getNormalizedType:function(){switch(this.type){case"iosbounce":case"mobile_bounce":case"bounce":return"bounce";default:return this.type}},criteriaFromArgs:function(args,activationType){return{activation:activationType,campaign_id:args[2],__args:args}},wrapActivationFunction:function(type,func){return Object.defineProperties((function(){var criteria=ActivationTrigger.criteriaFromArgs(arguments,type),trigger=ActivationTrigger.getOrCreate(criteria,criteria.campaign_id);return trigger.activate(func)}),{name:{value:func.name||type},__wrapActivationFunction:{value:func}})}},ActivationTrigger.getRegistered=ActivationTrigger.prototype.getRegistered.bind(ActivationTrigger.prototype),ActivationTrigger.getOrCreate=ActivationTrigger.prototype.getOrCreate.bind(ActivationTrigger.prototype),ActivationTrigger.criteriaFromArgs=ActivationTrigger.prototype.criteriaFromArgs.bind(ActivationTrigger.prototype),ActivationTrigger.wrapActivationFunction=ActivationTrigger.prototype.wrapActivationFunction.bind(ActivationTrigger.prototype)},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.event_js_eval=void 0;var _ajax=_interopRequireDefault(__webpack_require__(11)),_eventBinding=__webpack_require__(9),_couponCodes=_interopRequireDefault(__webpack_require__(22)),_eventStream=_interopRequireDefault(__webpack_require__(3)),_iosHelper=_interopRequireDefault(__webpack_require__(23)),_emailCapture=_interopRequireDefault(__webpack_require__(37)),_debug=_interopRequireDefault(__webpack_require__(5)),Url=_interopRequireWildcard(__webpack_require__(4)),_windowSize=__webpack_require__(38),_xdIframe=_interopRequireDefault(__webpack_require__(39)),_scheduling=__webpack_require__(2),_time=__webpack_require__(7);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var bxBind=_eventBinding.bxBind,bxPassiveBind=_eventBinding.bxPassiveBind,getScript=_ajax.default.getScript,clickToCopy=function(){},CouponCodes={_onSuccessHandler:_couponCodes.default._onSuccessHandler},event_stream_report=_eventStream.default.report,addIosInputFix=_iosHelper.default.addIosInputFix,removeIosInputFix=_iosHelper.default.removeIosInputFix,setSubmittedCookies=_emailCapture.default.setSubmittedCookies,tryCatch=_debug.default.tryCatch,updateQS=Url.updateQS,wndsize=_windowSize.wndsize,wndorientation=_windowSize.wndorientation,XD=_xdIframe.default,setTimeout2=_scheduling.setTimeoutWrapper,setInterval2=_scheduling.setIntervalWrapper,getTime2=_time.getTimeWithServerDiff,getTimeMs=Date.now,event_js_eval=function event_js_eval(ca_id,type,data){if(bouncex.campaigns[ca_id].event_js){var campaign_id=ca_id;if(bouncex.campaigns[ca_id].event_js[type])try{eval(bouncex.campaigns[ca_id].event_js[type])}catch(err){bouncex.err(err,{source:"event_js_eval",ca_id:ca_id})}}};exports.event_js_eval=event_js_eval},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.addEvent=function(obj,type,fn,isPassive){var eventOptions=!!isPassive&&{passive:!0,capture:!1};obj.addEventListener(type,fn,eventOptions)},exports.removeEvent=function(obj,type,fn,isPassive){var eventOptions=!!isPassive&&{passive:!0,capture:!1};obj.removeEventListener(type,fn,eventOptions)}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj},_helpers=__webpack_require__(0),_scheduling=__webpack_require__(2);var CouponCodes={insertCodesInCurrentStep:function(campaignId){var visibleCouponData={campaignId:campaignId,getPlaceholders:CouponCodes._step.getPlaceholders,populateCoupon:CouponCodes._step.populatePlaceholderWithCode,insertLoadingMsg:CouponCodes._step.insertLoadingMsg};CouponCodes.log(visibleCouponData,"init visible coupons"),CouponCodes._loadCoupons(visibleCouponData)},insertCodesInFormAndSubmit:function(campaignId,callback){var hiddenCouponData={campaignId:campaignId,getPlaceholders:CouponCodes._form.getPlaceholders,populateCoupon:CouponCodes._form.populatePlaceholderWithCode,callback:callback};CouponCodes.log(hiddenCouponData,"init hidden coupons"),CouponCodes._loadCoupons(hiddenCouponData)},_step:{getPlaceholders:function(data){var campaign=bouncex.campaigns[data.campaignId],fullSelector=".bx-step-"+campaign.current_step+' .bx-cpn-not-loaded[data-cpn-set]:not([data-cpn-set=""])';return Array.prototype.slice.call(campaign.obj1[0].querySelectorAll(fullSelector)).map((function(node,index){return{campaign:node,clone:campaign.obj2[1]?campaign.obj2[1].querySelectorAll(fullSelector)[index]:null}}))},populatePlaceholderWithCode:function(data){[data.placeholder,data.clone].map((function(node){node&&(node.innerText=data.code?data.code:data.errorMsg,node.classList.remove("bx-cpn-not-loaded"))})),CouponCodes._checkIsFinished(data)},insertLoadingMsg:function(data){[data.placeholder,data.clone].map((function(node){node&&(node.innerText="loading...")}))}},_form:{getPlaceholders:function(data){var campaign=bouncex.campaigns[data.campaignId];return Array.prototype.slice.call(campaign.jform[0].querySelectorAll('[value="bx-cpn-not-loaded"][data-cpn-set]:not([data-cpn-set=""])')).map((function(node){return{campaign:node}}))},populatePlaceholderWithCode:function(data){data.placeholder.value=data.code||"false",CouponCodes._checkIsFinished(data)}},_loadCoupons:function(data){var placeholders=data.getPlaceholders(data);if(0===placeholders.length)return CouponCodes.log(data,"no coupons found"),CouponCodes._finishedLoading(data);placeholders.forEach(function(placeholder){var couponData={campaignId:data.campaignId,populateCoupon:data.populateCoupon,getPlaceholders:data.getPlaceholders,callback:data.callback,setName:placeholder.campaign.getAttribute("data-cpn-set"),placeholder:placeholder.campaign,clone:placeholder.clone,insertLoadingMsg:data.insertLoadingMsg};CouponCodes._loadCoupon(couponData)}.bind(CouponCodes))},_finishedLoading:function(data){CouponCodes.log(data,"finished"),"function"==typeof data.callback&&data.callback()},_loadCoupon:function(data){var status=CouponCodes._getCouponStatus(data.setName);switch(CouponCodes.log(data,"coupon status: "+status),status){case"cookied":return data.code=CouponCodes._getCookiedCode(data.setName),CouponCodes._populateCoupon(data);case"untracked":return CouponCodes._requestCoupon(data);case"requesting":return(0,_scheduling.setTimeoutWrapper)(CouponCodes._loadCoupon.bind(CouponCodes,data),200);default:return bouncex.err("unexpected coupon status",{source:"coupon code"})}},_requestCoupon:function(data){CouponCodes.log(data,"requesting coupon");var options={type:"GET",url:"https://"+bouncex.website.bau+"/bounce/fetch_coupon",data:{setName:data.setName,websiteId:bouncex.website.id,visitId:bouncex.cookie.vid,deviceId:bouncex.cookie.did,campaignId:data.campaignId,requestToken:bouncex.state.request_token},success:CouponCodes._onSuccessHandler.bind(CouponCodes,data),error:CouponCodes._onErrorHandler.bind(CouponCodes,data)};bouncex.website.cpnu&&"cpn.bouncex.net"!=bouncex.website.cpnu&&(options.url="https://"+bouncex.website.cpnu+"/coupon",options.headers={Authorization:"Bearer "+bouncex.state.request_token},options.data={set:data.setName,website_id:bouncex.website.id,visit_id:bouncex.cookie.vid}),CouponCodes._pendingCoupons[data.setName]=!0,"function"==typeof data.insertLoadingMsg&&data.insertLoadingMsg(data),jQuery.ajax(options)},_onSuccessHandler:function(data,resp){return resp&&resp.error?CouponCodes._onErrorHandler(data,null,resp.error):resp&&resp.code||resp&&resp.coupon&&resp.coupon.code?(data.code=resp.code||resp.coupon&&resp.coupon.code,CouponCodes._completeRequest(data,"successful"),void CouponCodes.report({campaignId:data.campaignId,couponId:resp.id||resp.coupon&&resp.coupon.id,couponCode:resp.code||resp.coupon&&resp.coupon.code})):CouponCodes._onErrorHandler(data,null,"unexpected response")},_onErrorHandler:function(data,jqXHR,textStatus){var defaultCode=CouponCodes._getDefaultCode(data.placeholder);defaultCode?data.code=defaultCode:data.errorMsg=CouponCodes._getErrorMsg(textStatus);var failStatus=[];jqXHR&&"number"==typeof jqXHR.status&&failStatus.push("xhr status "+jqXHR.status),textStatus&&failStatus.push(textStatus);var failMsg="failed: "+failStatus.join(",");bouncex.err({name:"coupon error",message:failMsg},{liveTraffic:100,campaignId:data.campaignId}),CouponCodes._completeRequest(data,failMsg)},_getErrorMsg:function(textStatus){switch(textStatus){case"no coupon found":return"COUPON ERROR 0";default:return"COUPON ERROR 1"}},_completeRequest:function(data,msg){CouponCodes.log(data,"request status: "+msg),data.code&&CouponCodes._cookieCoupon(data.setName,data.code),CouponCodes._populateCoupon(data),delete CouponCodes._pendingCoupons[data.setName]},_cookieCoupon:function(setName,code){bouncex.updateBounceCookie((function(cookie){cookie.cpn=bouncex.utils.isObject(cookie.cpn)?cookie.cpn:{},cookie.cpn[setName]=code}))},_populateCoupon:function(data){CouponCodes.log(data,"populating code: "+data.code),CouponCodes._triggerCouponFetchedEvent(data),data.populateCoupon(data)},_triggerCouponFetchedEvent:function(data){bouncex.window&&bouncex.window.trigger("bxCouponFetched",[{setName:data.setName,code:data.code,campaignId:data.campaignId}])},_pendingCoupons:{},_getCouponStatus:function(setName){return bouncex.cookie.cpn&&bouncex.cookie.cpn[setName]?"cookied":CouponCodes._pendingCoupons[setName]?"requesting":"untracked"},_getCookiedCode:function(setName){return bouncex.cookie.cpn&&bouncex.cookie.cpn[setName]},_getDefaultCode:function(placeholder){return placeholder.getAttribute("data-cpn-default")},_checkIsFinished:function(data){CouponCodes._hasPlaceholders(data)||CouponCodes._finishedLoading(data)},_hasPlaceholders:function(data){return data.getPlaceholders(data).length>0},log:function(data,msg){data={shouldLog:(0,_helpers.visitorTestMode)("coupons"),group:"coupons",campaignId:data.campaignId||"",message:(data.setName?data.setName+": ":"")+msg};_logger.default.info(data)},report:function(data){bouncex.report(data.campaignId,"coupon",{"coupon:id":data.couponId,"coupon:code":data.couponCode})}},_default=CouponCodes;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var iOSHelper={handleIosInputTouchStart:function(e){var ca_id=e.data.ca_id;iOSHelper.addIosInputFix(ca_id)},addIosInputFix:function(ca_id){if(!bouncex.campaigns[ca_id].hasIosInputFix){var scrollToTopOrBottom="conversionbar"===bouncex.campaigns[ca_id].type?document.body.scrollHeight:0;bouncex.head.append('<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1" id="bx-ios-meta-'+ca_id+'"/>'),window.scrollTo(0,scrollToTopOrBottom),bouncex.campaigns[ca_id].hasIosInputFix=!0}},handleIosInputBlur:function(e){var ca_id=e.data.ca_id;iOSHelper.removeIosInputFix(ca_id)},removeIosInputFix:function(ca_id){bouncex.campaigns[ca_id].hasIosInputFix&&(jQuery("#bx-ios-meta-"+ca_id).remove(),bouncex.campaigns[ca_id].hasIosInputFix=!1)}},_default=iOSHelper;exports.default=_default},function(module,exports,__webpack_require__){function loadImagesCount(count,callback){return 0===--count&&callback(),count}Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadImages=function(images,callback){var imagesLength,count=imagesLength=images.length;if(count)for(var k=0;k<imagesLength;k+=1)if(8===bouncex.browser.msie&&-1!==images[k].indexOf(".svg"))count=loadImagesCount(count,callback);else{if("string"==typeof images[k]){var srcStr=images[k];0!==srcStr.indexOf("http")&&0!==srcStr.indexOf("//")&&(srcStr="//"+srcStr);var image=jQuery('<img src="'+srcStr+'"/>')}else image=jQuery(images[k]);image.one("load",(function(){count=loadImagesCount(count,callback)})),image.length&&image.get(0).complete&&(count=loadImagesCount(count,callback))}else callback()}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.buildReport=exports.report=void 0;var obj,_eventStream=(obj=__webpack_require__(3))&&obj.__esModule?obj:{default:obj},_time=__webpack_require__(7);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}exports.report=function(ca_id,eventname,extra){bouncex.isGbi2Campaign(ca_id)?bouncex.gbi2.report(ca_id,eventname,extra):bouncex.website.gbi_enabled&&bouncex.campaigns[ca_id].gbi?bouncex.gbi.report(ca_id,eventname,extra):buildReport(ca_id,eventname,extra)};var buildReport=function(ca_id,eventname,extra){var uq=0,sendSegments=!1,agent="user",renames={views:"eligible",pops:"pop",clicks:"click",closes:"close"};if(renames[eventname]&&(eventname=renames[eventname]),"click"==eventname){if(bouncex.campaigns[ca_id].impression_click_reported)return!1;bouncex.campaigns[ca_id].impression_click_reported=!0,bouncex.updateBounceCookie((function(cookie){cookie.campaigns[ca_id].lclk=(0,_time.getTimeWithServerDiff)()}))}else if("close"==eventname){if(bouncex.campaigns[ca_id].impression_click_reported||bouncex.campaigns[ca_id].submitted)return!1}else"eligible"==eventname?(agent="js",bouncex.updateBounceCookie((function(cookie){cookie.campaigns[ca_id]&&(cookie.campaigns[ca_id].vv=cookie.campaigns[ca_id].vv?cookie.campaigns[ca_id].vv+1:1)})),bouncex.cookie.campaigns[ca_id]&&1==bouncex.cookie.campaigns[ca_id].vv&&(uq=1),sendSegments=!0):"pop"==eventname||"trypop"==eventname?(agent="js",1==bouncex.cookie.campaigns[ca_id].av&&(uq=1)):"bid_fill"!=eventname&&"bid_none"!=eventname&&"bid_empty"!=eventname&&"bid_error"!=eventname||(agent="js",sendSegments=!0);"object"!==_typeof(extra)&&(extra={}),uq&&(extra.uq=1),sendSegments&&(extra.segment_ids=(bouncex.segments||[]).join(",")),extra.campaignid=ca_id,extra.source=extra.source||"bouncex",extra.agent=agent,_eventStream.default.report(eventname,extra),bouncex.reportGa(ca_id,eventname),"click"===eventname&&bouncex.event_js_eval(ca_id,"click")};exports.buildReport=buildReport},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _eventBinding=__webpack_require__(9),_scheduling=__webpack_require__(2),ActiveTime={initialized:!1,timeCount:0,events:"mousemove.bouncex_active_time_action keydown.bouncex_active_time_action DOMMouseScroll.bouncex_active_time_action mousewheel.bouncex_active_time_action mousedown.bouncex_active_time_action touchstart.bouncex_active_time_action touchmove.bouncex_active_time_action focus.bouncex_active_time_action",callbacks:{},inactivityTimeout:null,activityInterval:null,addCallback:function(seconds,callback){if(seconds=parseInt(seconds),!isNaN(seconds)){var callbackId=Date.now()+Math.random();return ActiveTime.callbacks[callbackId]={seconds:seconds,callback:callback},ActiveTime.initialized||(ActiveTime.inactivityTimeout=ActiveTime._resetInactivityTimeout(),(0,_eventBinding.bxPassiveBind)(window,ActiveTime.events,ActiveTime._handleActivity),ActiveTime.initialized=!0),callbackId}},clearCallback:function(id){ActiveTime.callbacks&&ActiveTime.callbacks[id]&&delete ActiveTime.callbacks[id],ActiveTime._shutdownIfNoRemainingCallbacks()},_increase:function(){for(var callbackId in ActiveTime.timeCount++,ActiveTime.callbacks){var callbackData=ActiveTime.callbacks[callbackId];callbackData.seconds<=ActiveTime.timeCount&&(callbackData.callback(),ActiveTime.clearCallback(callbackId))}},_shutdownIfNoRemainingCallbacks:function(){ActiveTime.callbacks&&!jQuery.isEmptyObject(ActiveTime.callbacks)||(ActiveTime._clearActivityInterval(),clearTimeout(ActiveTime.inactivityTimeout),(0,_eventBinding.bxPassiveUnbind)(window,ActiveTime.events),ActiveTime.initialized=!1)},_handleActivity:function(){ActiveTime.inactivityTimeout=ActiveTime._resetInactivityTimeout(),ActiveTime.activityInterval||(ActiveTime.activityInterval=(0,_scheduling.setIntervalWrapper)(ActiveTime._increase,1e3))},_resetInactivityTimeout:function(){return clearTimeout(ActiveTime.inactivityTimeout),(0,_scheduling.setTimeoutWrapper)(ActiveTime._clearActivityInterval,5e3)},_clearActivityInterval:function(){clearInterval(ActiveTime.activityInterval),delete ActiveTime.activityInterval}},_default=ActiveTime;exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDomainsFromCode=function(code){for(var match,domains=new Set,domainMatcher=/(?:\/\/|["'])((?:[a-z0-9-]+\.)+[a-z]{2,})[\/'"]/gi;null!==(match=domainMatcher.exec(code));domains.add(match[1].toLowerCase()));return domains},exports.preconnectDomains=function(domains){var attributesPreconnect={rel:"preconnect",href:null},attributesPrefetch={rel:"dns-prefetch",href:null};domains.forEach((function(domain){attributesPreconnect.href=attributesPrefetch.href="https://".concat(domain),(0,_helpers.createElement)("link",attributesPreconnect,document.head),(0,_helpers.createElement)("link",attributesPrefetch,document.head)}))},exports.preconnect=function(code){var domains=Preload.getDomainsFromCode(code);Preload.preconnectDomains(domains)},exports.adjustPreloadContent=adjustPreloadContent,exports.excludeFromPreloadRgx=exports.loadOnShowRgx=exports.loadOnPopRgx=void 0;var Preload=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(27)),_helpers=__webpack_require__(0);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _wrapRegExp(re,groups){_wrapRegExp=function(re,groups){return new BabelRegExp(re,void 0,groups)};var _RegExp=_wrapNativeSuper(RegExp),_super=RegExp.prototype,_groups=new WeakMap;function BabelRegExp(re,flags,groups){var _this=_RegExp.call(this,re,flags);return _groups.set(_this,groups||_groups.get(re)),_this}function buildGroups(result,re){var g=_groups.get(re);return Object.keys(g).reduce((function(groups,name){return groups[name]=result[g[name]],groups}),Object.create(null))}return _inherits(BabelRegExp,_RegExp),BabelRegExp.prototype.exec=function(str){var result=_super.exec.call(this,str);return result&&(result.groups=buildGroups(result,this)),result},BabelRegExp.prototype[Symbol.replace]=function(str,substitution){if("string"==typeof substitution){var groups=_groups.get(this);return _super[Symbol.replace].call(this,str,substitution.replace(/\$<([^>]+)>/g,(function(_,name){return"$"+groups[name]})))}if("function"==typeof substitution){var _this=this;return _super[Symbol.replace].call(this,str,(function(){var args=[];return args.push.apply(args,arguments),"object"!==_typeof(args[args.length-1])&&args.push(buildGroups(args,_this)),substitution.apply(this,args)}))}return _super[Symbol.replace].call(this,str,substitution)},_wrapRegExp.apply(this,arguments)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||(fn=Class,-1===Function.toString.call(fn).indexOf("[native code]")))return Class;var fn;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}var loadOnPopRgx=/ssp\.behave\.com|pixel\.adsafeprotected\.com|ads\.celtra\.com|[\w.-]+\.bidswitch\.net/gi;exports.loadOnPopRgx=loadOnPopRgx;var loadOnShowRgx=/[\w.-]+\.moatads\.com|servedby\.flashtalking\.com/gi;exports.loadOnShowRgx=loadOnShowRgx;var excludeFromPreloadRgx=new RegExp("".concat(loadOnPopRgx.source,"|").concat(loadOnShowRgx.source),"ig");function adjustPreloadContent(html,interceptRgx){var srcRegex=interceptRgx||excludeFromPreloadRgx,preMatchRgx=_wrapRegExp(/<([a-z]{3,})[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+src[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(\\?["'](?:https?:)?)/,{tagName:1,protocol:2}),noPreloadTxt="".concat(preMatchRgx.source,"//(?<srcMatch>").concat(srcRegex.source,")"),noPreloadRgx=new RegExp(noPreloadTxt,"ig");return html.replace(noPreloadRgx,"<$<tagName> wkndTmpsrc=$<protocol>//$<srcMatch>")}exports.excludeFromPreloadRgx=excludeFromPreloadRgx,adjustPreloadContent.undo=function(document,undoRgx){var affectedNodes=(document||window.document).querySelectorAll("[wkndTmpsrc]"),srcRegex=undoRgx&&new RegExp(undoRgx,"i");Array.prototype.forEach.call(affectedNodes,(function(element){var src=element.getAttribute("wkndTmpsrc");(!srcRegex||srcRegex.test(src))&&(element.removeAttribute("wkndTmpsrc"),src&&!element.getAttribute("src")&&element.setAttribute("src",src))}))}},function(module,exports,__webpack_require__){function isValid(phone,country){if(!phone)return!1;var regexMap={us:/^(\+?1)?\s?\(?[1-9]\d{2}\)?[-.\s]?\d{3}[-.\s]?\d{4}[-.\s]?$/.test(phone),uk:/^(((\+?44\D*\d{4}|\(?0?\d{4}\)?)\D*\d{3}\D*\d{3})|((\+?44\D*\d{3}|\(?0?\d{3}\)?)\D*\d{3}\D*\d{4})|((\+?44\D*\d{2}|\(?0?\d{2}\)?)\D*\d{4}\D*\d{4}))(\s*\#(\d{3,4}))?$/.test(phone)};return country?regexMap[country]:regexMap.us||regexMap.uk}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={isValid:isValid,sanitize:function(phone){var sanitizedString=phone.replace(/[^\d+]/g,"");if(!("+"===sanitizedString.charAt(0))){if(/^4{2}/.test(sanitizedString)&&isValid("+"+sanitizedString,"uk"))return"+"+sanitizedString;if("1"===sanitizedString.charAt(0)&&isValid("+"+sanitizedString,"us"))return"+"+sanitizedString;var code=function(phone){var region=null;"0"===phone.charAt(0)&&(region="UK");isValid(phone,"us")&&(region="US");if(!region&&bouncex.state&&bouncex.state.geo)region=bouncex.state.geo.country_code;else if(!region&&window.Intl&&window.Intl.Locale){var locale=Intl.DateTimeFormat().resolvedOptions().locale;region=new Intl.Locale(locale).region}else region||(region=["4253","2925","4188","874"].includes(bouncex.website.id)?"UK":"US");return region?"US"===region?"1":"44":""}(sanitizedString);return sanitizedString=sanitizedString.replace(/^0+/,""),!code&&isValid(phone,"us")&&isValid(phone,"uk")?null:code?"+"+code+sanitizedString:null}return sanitizedString},toSha256:function toSha256(ascii){function rightRotate(value,amount){return value>>>amount|value<<32-amount}for(var i,j,mathPow=Math.pow,maxWord=mathPow(2,32),result="",words=[],asciiBitLength=8*ascii.length,hash=toSha256.h=toSha256.h||[],k=toSha256.k=toSha256.k||[],primeCounter=k.length,isComposite={},candidate=2;primeCounter<64;candidate++)if(!isComposite[candidate]){for(i=0;i<313;i+=candidate)isComposite[i]=candidate;hash[primeCounter]=mathPow(candidate,.5)*maxWord|0,k[primeCounter++]=mathPow(candidate,1/3)*maxWord|0}for(ascii+="";ascii.length%64-56;)ascii+="\0";for(i=0;i<ascii.length;i++){if((j=ascii.charCodeAt(i))>>8)return;words[i>>2]|=j<<(3-i)%4*8}for(words[words.length]=asciiBitLength/maxWord|0,words[words.length]=asciiBitLength,j=0;j<words.length;){var w=words.slice(j,j+=16),oldHash=hash;for(hash=hash.slice(0,8),i=0;i<64;i++){var w15=w[i-15],w2=w[i-2],a=hash[0],e=hash[4],temp1=hash[7]+(rightRotate(e,6)^rightRotate(e,11)^rightRotate(e,25))+(e&hash[5]^~e&hash[6])+k[i]+(w[i]=i<16?w[i]:w[i-16]+(rightRotate(w15,7)^rightRotate(w15,18)^w15>>>3)+w[i-7]+(rightRotate(w2,17)^rightRotate(w2,19)^w2>>>10)|0);(hash=[temp1+((rightRotate(a,2)^rightRotate(a,13)^rightRotate(a,22))+(a&hash[1]^a&hash[2]^hash[1]&hash[2]))|0].concat(hash))[4]=hash[4]+temp1|0}for(i=0;i<8;i++)hash[i]=hash[i]+oldHash[i]|0}for(i=0;i<8;i++)for(j=3;j+1;j--){var b=hash[i]>>8*j&255;result+=(b<16?0:"")+b.toString(16)}return result}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.baddjs=baddjs,exports.bcxReady=bcxReady,exports.can_init=can_init,exports.can_init_post_cookie=can_init_post_cookie,exports.createIframe=createIframe,exports.deactivate_campaign=deactivate_campaign,exports.fireUserSubmitEvent=fireUserSubmitEvent,exports.initBa=initBa,exports.init_browser=init_browser,exports.init_endpageview_event=init_endpageview_event,exports.init_page_types=init_page_types,exports.initPreInitCustomJs=initPreInitCustomJs,exports.init_protocol_and_domain=init_protocol_and_domain,exports.init_public_functions=init_public_functions,exports.init_testmode_before_cookie=init_testmode_before_cookie,exports.init_testmode_after_cookie=init_testmode_after_cookie,exports.init_url_and_referrer=init_url_and_referrer,exports.init_visit_cookie=init_visit_cookie,exports.init_website_custom_js=init_website_custom_js,exports.loadCouponsAndValidateForm=loadCouponsAndValidateForm,exports.parseJSON=parseJSON,exports.report_submit=report_submit,Object.defineProperty(exports,"Logger",{enumerable:!0,get:function(){return _logger.default}}),Object.defineProperty(exports,"Records",{enumerable:!0,get:function(){return _records.default}}),Object.defineProperty(exports,"visitorTestMode",{enumerable:!0,get:function(){return _helpers.visitorTestMode}}),Object.defineProperty(exports,"isBxInternalTraffic",{enumerable:!0,get:function(){return _helpers.isBxInternalTraffic}}),Object.defineProperty(exports,"Cookie",{enumerable:!0,get:function(){return _cookie.default}}),Object.defineProperty(exports,"EventStream",{enumerable:!0,get:function(){return _eventStream.default}}),Object.defineProperty(exports,"BehavioralCriteria",{enumerable:!0,get:function(){return _behavioralCriteria.default}}),Object.defineProperty(exports,"CampaignHelpers",{enumerable:!0,get:function(){return _campaignHelpers.default}}),Object.defineProperty(exports,"BrowserUtil",{enumerable:!0,get:function(){return _browser.default}}),Object.defineProperty(exports,"Debug",{enumerable:!0,get:function(){return _debug.default}}),Object.defineProperty(exports,"setTimeoutWrapper",{enumerable:!0,get:function(){return _scheduling.setTimeoutWrapper}}),Object.defineProperty(exports,"Perf",{enumerable:!0,get:function(){return _perf.default}}),Object.defineProperty(exports,"NativeCapture",{enumerable:!0,get:function(){return _nativeCapture.default}}),Object.defineProperty(exports,"ReloadCampaigns",{enumerable:!0,get:function(){return _reloadCampaigns.default}}),Object.defineProperty(exports,"Criteria",{enumerable:!0,get:function(){return _criteria.default}}),Object.defineProperty(exports,"ComplianceChecks",{enumerable:!0,get:function(){return _complianceChecks.default}}),Object.defineProperty(exports,"Activations",{enumerable:!0,get:function(){return _activations.default}}),Object.defineProperty(exports,"buildReport",{enumerable:!0,get:function(){return _report.buildReport}}),Object.defineProperty(exports,"event_js_eval",{enumerable:!0,get:function(){return _eventJsEval.event_js_eval}}),exports.wndsize=exports.wndorientation=exports.trigger_ad=exports.TabTalk=exports.SinglePageApp=exports.show_ad=exports.setAccessibilityProperties=exports.report=exports.parseSiteElementSelector=exports.noteCookieAdShown=exports.make_include_string=exports.loadImages=exports.isMissingTarget=exports.InitSequence=exports.init_ibx_tracking=exports.init_event_tracking=exports.initBehavioralCriteriaInstruments=exports.initActivationInstruments=exports.getTimeMs=exports.getTime2=exports.getScript=exports.getCalloutTargets=exports.evaluateBehavioralTriggers=exports.CustomVariables=exports.CouponCodes=exports.can_show_ad=exports.campaignEligible=exports.BxInterval=exports.behavioralCriteriaComplete=exports.bcx_init=exports.activateInstruments=exports.activate_campaign=void 0,__webpack_require__(81);var _recirc=_interopRequireDefault(__webpack_require__(82)),_ads=_interopRequireDefault(__webpack_require__(83)),_gbi=_interopRequireDefault(__webpack_require__(87)),_bouncex=_interopRequireDefault(__webpack_require__(67)),_logger=_interopRequireDefault(__webpack_require__(1)),_records=_interopRequireDefault(__webpack_require__(16)),_helpers=_interopRequireWildcard(__webpack_require__(0)),_indexeddb=_interopRequireDefault(__webpack_require__(90)),_cookie=_interopRequireDefault(__webpack_require__(73)),_sms=_interopRequireDefault(__webpack_require__(91)),_analytics=_interopRequireDefault(__webpack_require__(66)),_phoneNumber=_interopRequireDefault(__webpack_require__(28)),_segmentation=_interopRequireDefault(__webpack_require__(79)),_clientEvent=_interopRequireDefault(__webpack_require__(72)),_userTracking=_interopRequireDefault(__webpack_require__(33)),_eventStream=_interopRequireDefault(__webpack_require__(3)),_behavioralCriteria=_interopRequireDefault(__webpack_require__(35)),_campaignHelpers=_interopRequireDefault(__webpack_require__(6)),Url=_interopRequireWildcard(__webpack_require__(4)),_browser=_interopRequireDefault(__webpack_require__(8)),_eventHelpers=__webpack_require__(21),_eventBinding=__webpack_require__(9),_lzString=_interopRequireDefault(__webpack_require__(109)),_debug=_interopRequireDefault(__webpack_require__(5)),_dash=_interopRequireDefault(__webpack_require__(76)),_scheduling=__webpack_require__(2),_perf=_interopRequireDefault(__webpack_require__(12)),_nativeCapture=_interopRequireDefault(__webpack_require__(49)),_bxInterval=_interopRequireDefault(__webpack_require__(10)),_customVariables=_interopRequireDefault(__webpack_require__(17)),_ajax=_interopRequireDefault(__webpack_require__(11)),_removeTestModeItems=__webpack_require__(48),_time=__webpack_require__(7),_images=__webpack_require__(24),_deviceGraph=_interopRequireDefault(__webpack_require__(47)),_conversion=_interopRequireDefault(__webpack_require__(46)),_tabTalk=_interopRequireDefault(__webpack_require__(40)),_pushEvent=_interopRequireDefault(__webpack_require__(77)),_utilities=_interopRequireDefault(__webpack_require__(92)),_reloadCampaigns=_interopRequireDefault(__webpack_require__(78)),_couponCodes=_interopRequireDefault(__webpack_require__(22)),_criteria=_interopRequireDefault(__webpack_require__(54)),_complianceChecks=_interopRequireDefault(__webpack_require__(45)),_inbox=_interopRequireDefault(__webpack_require__(93)),_video=_interopRequireDefault(__webpack_require__(94)),_eventTracking=_interopRequireDefault(__webpack_require__(106)),_ibxTracking=_interopRequireDefault(__webpack_require__(60)),_iosHelper=_interopRequireDefault(__webpack_require__(23)),_onsiteRetargeting=_interopRequireDefault(__webpack_require__(107)),_urlIncluder=_interopRequireDefault(__webpack_require__(80)),_accessibility=_interopRequireDefault(__webpack_require__(30)),_facebook=_interopRequireDefault(__webpack_require__(32)),_activations=_interopRequireDefault(__webpack_require__(64)),_report=__webpack_require__(25),_consoleHelper=_interopRequireDefault(__webpack_require__(108)),_eventJsEval=__webpack_require__(20),_emailCapture=_interopRequireDefault(__webpack_require__(37)),_windowSize=__webpack_require__(38),_xdIframe=_interopRequireDefault(__webpack_require__(39));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _wrapRegExp(re,groups){_wrapRegExp=function(re,groups){return new BabelRegExp(re,void 0,groups)};var _RegExp=_wrapNativeSuper(RegExp),_super=RegExp.prototype,_groups=new WeakMap;function BabelRegExp(re,flags,groups){var _this=_RegExp.call(this,re,flags);return _groups.set(_this,groups||_groups.get(re)),_this}function buildGroups(result,re){var g=_groups.get(re);return Object.keys(g).reduce((function(groups,name){return groups[name]=result[g[name]],groups}),Object.create(null))}return _inherits(BabelRegExp,_RegExp),BabelRegExp.prototype.exec=function(str){var result=_super.exec.call(this,str);return result&&(result.groups=buildGroups(result,this)),result},BabelRegExp.prototype[Symbol.replace]=function(str,substitution){if("string"==typeof substitution){var groups=_groups.get(this);return _super[Symbol.replace].call(this,str,substitution.replace(/\$<([^>]+)>/g,(function(_,name){return"$"+groups[name]})))}if("function"==typeof substitution){var _this=this;return _super[Symbol.replace].call(this,str,(function(){var args=[];return args.push.apply(args,arguments),"object"!==_typeof(args[args.length-1])&&args.push(buildGroups(args,_this)),substitution.apply(this,args)}))}return _super[Symbol.replace].call(this,str,substitution)},_wrapRegExp.apply(this,arguments)}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _wrapNativeSuper(Class){var _cache="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(Class){if(null===Class||!_isNativeFunction(Class))return Class;if("function"!=typeof Class)throw new TypeError("Super expression must either be null or a function");if(void 0!==_cache){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,Class)})(Class)}function _construct(Parent,args,Class){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(Parent,args,Class){var a=[null];a.push.apply(a,args);var instance=new(Function.bind.apply(Parent,a));return Class&&_setPrototypeOf(instance,Class.prototype),instance}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _isNativeFunction(fn){return-1!==Function.toString.call(fn).indexOf("[native code]")}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}bouncex.video=_video.default,bouncex=new _bouncex.default(bouncex),bouncex.version="smart-tag-20220208.01",bouncex.gbi=_gbi.default,bouncex.gbi2=_ads.default,bouncex.recirc=_recirc.default,bouncex.sms=_sms.default,bouncex.indexdb=new _indexeddb.default(window.indexedDB,loadVisitsFromDb),bouncex.seg=_segmentation.default,bouncex.clientEvents=_clientEvent.default,bouncex.lz=_lzString.default,bouncex.lz.decompressFromURI=bouncex.lz.decompressFromEncodedURIComponent,bouncex.lz.compressToURI=bouncex.lz.compressToEncodedURIComponent,bouncex.on=_eventBinding.bindOn,bouncex.off=_eventBinding.bindOff;var make_include_string=_urlIncluder.default.make_include_string;exports.make_include_string=make_include_string;var getEnabledPageTypes=_urlIncluder.default.getEnabledPageTypes,tryCatch=_debug.default.tryCatch,setTimeout2=_scheduling.setTimeoutWrapper,setInterval2=_scheduling.setIntervalWrapper,BxInterval=_bxInterval.default;exports.BxInterval=BxInterval;var bxBind=_eventBinding.bxBind,CustomVariables=_customVariables.default;exports.CustomVariables=CustomVariables;var getTime2=_time.getTimeWithServerDiff;exports.getTime2=getTime2;var getTimeMs=_helpers.getTimeMs;exports.getTimeMs=getTimeMs;var TabTalk=_tabTalk.default;exports.TabTalk=TabTalk;var loadImages=_images.loadImages;exports.loadImages=loadImages;var campaignEligible=_campaignHelpers.default.eligible;exports.campaignEligible=campaignEligible;var activateInstruments=_campaignHelpers.default.activateInstruments;exports.activateInstruments=activateInstruments;var shouldCheckDfp=_helpers.default.shouldCheckDfp,can_show_ad=_campaignHelpers.default.can_show_ad;exports.can_show_ad=can_show_ad;var noteCookieAdShown=_campaignHelpers.default.noteCookieAdShown;exports.noteCookieAdShown=noteCookieAdShown;var initBehavioralCriteriaInstruments=_campaignHelpers.default.initBehavioralCriteriaInstruments;exports.initBehavioralCriteriaInstruments=initBehavioralCriteriaInstruments;var parseSiteElementSelector=_campaignHelpers.default.parseSiteElementSelector;exports.parseSiteElementSelector=parseSiteElementSelector;var initActivationInstruments=_campaignHelpers.default.initActivationInstruments;exports.initActivationInstruments=initActivationInstruments;var isMissingTarget=_campaignHelpers.default.isMissingTarget;exports.isMissingTarget=isMissingTarget;var getCalloutTargets=_campaignHelpers.default.getCalloutTargets;exports.getCalloutTargets=getCalloutTargets;var behavioralCriteriaComplete=_campaignHelpers.default.behavioralCriteriaComplete;exports.behavioralCriteriaComplete=behavioralCriteriaComplete;var evaluateBehavioralTriggers=_campaignHelpers.default.evaluateBehavioralTriggers;exports.evaluateBehavioralTriggers=evaluateBehavioralTriggers;var meetsCommonBehavioralCriteria=_campaignHelpers.default.meetsCommonBehavioralCriteria,onlyBehavioralCriteriaNegations=_campaignHelpers.default.onlyBehavioralCriteriaNegations,evalCalloutTarget=_campaignHelpers.default.evalCalloutTarget,activate_campaign=_campaignHelpers.default.activateCampaign;exports.activate_campaign=activate_campaign;var CouponCodes=_couponCodes.default;exports.CouponCodes=CouponCodes;var init_event_tracking=_eventTracking.default.init.bind(_eventTracking.default);exports.init_event_tracking=init_event_tracking;var init_ibx_tracking=_ibxTracking.default.init;exports.init_ibx_tracking=init_ibx_tracking;var trigger_ad=_campaignHelpers.default.triggerAd;exports.trigger_ad=trigger_ad;var focusOnFirstFocusableElement=_accessibility.default.focusOnFirstFocusableElement,report=_report.report;exports.report=report;var event_stream_report=_eventStream.default.report,show_ad=_campaignHelpers.default.show_ad;exports.show_ad=show_ad;var setAccessibilityProperties=_accessibility.default.setProperties;exports.setAccessibilityProperties=setAccessibilityProperties;var XD=_xdIframe.default,wndsize=_windowSize.wndsize;exports.wndsize=wndsize;var wndorientation=_windowSize.wndorientation;exports.wndorientation=wndorientation;var InitSequence={status:{preInit1Ready:!1,startedInit1:!1,init1Complete:!1},preInit1:{entry:function(){setTimeout((function(){init_browser(),can_init()&&(init_public_functions(),_debug.default.initErrorHandling(),init_protocol_and_domain(),init_url_and_referrer(),init_testmode_before_cookie(),_complianceChecks.default.init(),_cookie.default.initCookieCheck(),_cookie.default.init_cookie_functions(),init_visit_cookie(),bouncex.local_storage_enabled||bouncex.local_storage_initialized||setTimeout((function(){InitSequence.preInit1.cookieReady()}),0),loadVisitsFromDb(),_dash.default.init())}),0)},cookieReady:function(){can_init_post_cookie()&&(_cookie.default.init_cookie(),bouncex.cookieReady=!0,InitSequence.preInit1.postCookieFunctions(),InitSequence.preInit1.integrations(),InitSequence.init1.setStatus("preInitReady"),setTimeout((function(){InitSequence.init1.serviceReady("preInit")}),0))},postCookieFunctions:function(){bouncex.ibx=_inbox.default,initBa(),_pushEvent.default.init(),"object"===_typeof(window.bxconv)&&_conversion.default.sync(window.bxconv),init_testmode_after_cookie(),initAds()},integrations:function(){initPreInitCustomJs(),_reloadCampaigns.default.init(),BxInterval.init(),SinglePageApp.init(),init_page_types(),CustomVariables.init()}},init1:{serviceReady:function(service){this.log("service ready: "+service),this.isReadyToRequest()&&(InitSequence.status.startedInit1||(this.setStatus("requesting"),this._request()))},isReadyToRequest:function(){if(!_complianceChecks.default.compliancePassed)return this.log("compliance check not ready",!0),!1;if(!InitSequence.status.preInit1Ready)return this.log("pre-init not ready",!0),!1;if(bouncex.website.bxidLoadFirst&&(!bouncex.dg||!bouncex.dg.softID))return this.log("bxid not ready",!0),!1;var prospectDetectorEnabled=window.bxgraph&&bouncex.website.dge&&bouncex.website.pde,completedDgFirstLoad=bouncex.cookie&&bouncex.cookie.dgFirstLoad;return!(prospectDetectorEnabled&&!completedDgFirstLoad)||(this.log("Init1 request deferred: prospect detector enabled",!0),!1)},_request:function(){bcxReady((function(){bouncex.updateBounceCookie(),baddjs(make_include_string()),_perf.default.times("init1request")}))},setStatus:function(status){switch(_perf.default.times("setStatus ".concat(status)),status){case"preInitReady":this.log("pre-init ready"),InitSequence.status.preInit1Ready=!0;break;case"requesting":this.log("requesting"),InitSequence.status.startedInit1=!0;break;case"complete":this.log("complete"),InitSequence.status.init1Complete=!0}},log:function(msg,isError){InitSequence.log("init1",msg,isError)}},postInit1:{entry:function(){if(_perf.default.times("postInit1 entry"),InitSequence.status.init1Complete||InitSequence.init1.setStatus("complete"),!InitSequence.postInit1.pageReady())return(0,_scheduling.setTimeoutWrapper)((function(){InitSequence.postInit1.entry()}),100),!1;_perf.default.times("init1"),bouncex.state.no_kinesis&&InitSequence.postInit1.report(),InitSequence.postInit1.publicAssignments(),InitSequence.postInit1.editCookie(),InitSequence.postInit1.preCampaignFunctions(),InitSequence.postInit1.integrations(),InitSequence.postInit1.loadCampaigns(),bouncex.bcxReady((function(){"function"==typeof window.bxAsyncInit&&window.bxAsyncInit()}))},report:function(){var pars;if(bouncex.state.newvid){bouncex.indexdb.isSupported()&&_debug.default.tryCatch((function(){bouncex.indexdb.addVisit(getTime2(),loadVisitsFromDb)}))();var wndsize=bouncex.wndsize();pars={"visit:useragent":navigator.userAgent,"visit:referrer":bouncex.cookie.r,"visit:landingpageurl":bouncex.cookie.lp,"visit:resolutionx":wndsize.width,"visit:resolutiony":wndsize.height,"visit:customvariables":bouncex.varsToAPI,"visit:cookie":JSON.stringify(Object.assign({},bouncex.cookie,{v:{}})),"useragent:browser":bouncex.state.device.browser,"useragent:version":bouncex.state.device.version,"useragent:platform":bouncex.state.device.platform,"useragent:devicetype":bouncex.state.device.device_type,"customer:hasconverted":bouncex.vars.has_converted||bouncex.cookie.lc?1:0};var geoPropNames=["country_code","country_code3","country_name","city","postal_code","continent_code","region","region_name"];for(var propName in bouncex.state.geo){if(bouncex.state.geo.hasOwnProperty(propName)&&geoPropNames.indexOf(propName)>-1&&bouncex.state.geo[propName])pars["geo:"+propName.replace("_","")]=bouncex.state.geo[propName]}_eventStream.default.report("visit",pars)}append_anchors_to_event(pars={"pageview:url":decodeURIComponent(bouncex.calling_url),"pageview:customvariables":bouncex.varsToAPI,"pageview:cookiesize":JSON.stringify(bouncex.cookie).length},bouncex.campaigns),_eventStream.default.report("pageview",pars)},pageReady:function(){return!!jQueryIsAvailable()&&(InitSequence.postInit1.setupPage(),!(!bouncex.body||!bouncex.body.length))},setupPage:function(){bouncex.window=jQuery(window).eq(0),bouncex.document=jQuery(document).eq(0),bouncex.body=jQuery("body").eq(0),bouncex.head=jQuery("head").eq(0),bouncex.html=jQuery("html").eq(0),bouncex.pa=0},publicAssignments:function(){bouncex.direction="up",bouncex.events={},bouncex.triggers_filled={},bouncex.overlay_visible=!1,bouncex.server_client_time_diff=bouncex.state.tn-parseInt(getTimeMs()/1e3),bouncex.cookie.as>0&&0==window.document.title.length&&(window.document.title=window.location.hostname),init_post_campaign_public_function(),bouncex.timespaced=!1},editCookie:function(){if(bouncex.cookie.v)for(var n in bouncex.cookie.v)bouncex.vars[n]&&bouncex.setv(n,bouncex.cookie.v[n]);var allCookies="multi_cookie"==bouncex.website.ct||"fp_local_storage"==bouncex.website.ct;_cookie.default.clearBounceCookie(allCookies),bouncex.setBounceCookie()},preCampaignFunctions:function(){bouncex.website.dge&&bouncex.dg.init(),_campaignHelpers.default.gbi2Enabled()&&bouncex.gbi2.syncUsers(),shouldCheckDfp()&&bouncex.gbi2.initDfp(),bouncex.seg.init(),bouncex.ca=_activations.default.init(),bouncex.ibx._init(),bouncex.sms.init(),init_endpageview_event()},integrations:function(){init_ibx_tracking(),init_event_tracking(),init_website_custom_js()},loadCampaigns:function(){bouncex.campaigns?(bouncex.loadBounceCss((function(){bouncex.loadBrandStyles(),_campaignHelpers.default.init_activation_funcs()})),bouncex.loadWebfonts()):bouncex.usd&&_campaignHelpers.default.unhideSite()}},dynamic:{tearDown:function(){if(bouncex.campaigns)for(var ca_id in bouncex.campaigns)bouncex.campaigns.hasOwnProperty(ca_id)&&bouncex.destroy_ad(ca_id);CustomVariables.clearAll(),BxInterval.clearTasks()},startUp:function(){init_url_and_referrer(),incrementPageView(),loadVisitsFromDb(),InitSequence.preInit1.integrations(),InitSequence.postInit1.report(),InitSequence.postInit1.setupPage(),InitSequence.postInit1.integrations()}},log:function(group,msg,isError){var data={group:"init",message:group+"-"+msg};isError?_logger.default.error(data):_logger.default.info(data)}};function incrementPageView(){bouncex.updateBounceCookie((function(cookie){cookie.vpv++,bouncex.state.pvid=cookie.vpv}))}function jQueryIsAvailable(){return!("undefined"==typeof jQuery||void 0===jQuery.fn)}function init_protocol_and_domain(){bouncex.sau="https://"+bouncex.website.bau,-1!==bouncex.website.beu.indexOf("127.0.0.1")?bouncex.seu="http://"+bouncex.website.beu:bouncex.seu="https://"+bouncex.website.beu,bouncex.au="https://"+bouncex.website.bau,bouncex.eu="https://"+bouncex.website.beu}function init_url_and_referrer(){bouncex.referrer=bouncex.utils.url.formatReferrer(document.referrer),bouncex.calling_url=encodeURIComponent(window.location.href),bouncex.cookie_domain=!1,"bind_to_domain"!=bouncex.website.ct&&"multi_cookie"!=bouncex.website.ct&&"fp_local_storage"!=bouncex.website.ct||bouncex.calling_url.indexOf(bouncex.website.domain.toLowerCase())>0&&(bouncex.cookie_domain=bouncex.website.domain)}function init_testmode_before_cookie(){bouncex.testmode={bxdev:determineTestModeFromUrl()}}function determineTestModeFromUrl(){if(-1===bouncex.calling_url.indexOf("bxdev"))return!1;var bxdevParams=bouncex.utils.getParam("bxdev").toLowerCase();if("off"===bxdevParams)return!1;var testmodeItems=["cvars","events","page_types","campaign_js","spa","coupons","log","log:error","log:warn","log:debug"];if(""===bxdevParams||"all"===bxdevParams)return testmodeItems.reduce((function(acc,curr){return acc[curr]=!0,acc}),{});var bxdev=bxdevParams.split(",").reduce((function(acc,curr){return testmodeItems.indexOf(curr)>-1&&(acc[curr]=!0),acc}),{});return 0!==Object.keys(bxdev).length&&bxdev}function init_testmode_after_cookie(){bouncex.updateBounceCookie((function(cookie){bouncex.testmode.bxtest=cookie.hcs_bxtest||-1!==bouncex.calling_url.indexOf("bxtest"),-1===bouncex.calling_url.indexOf("bxdev")?bouncex.testmode.bxdev=cookie.bxdev||!1:bouncex.testmode.bxdev?cookie.bxdev=bouncex.testmode.bxdev:delete cookie.bxdev}))}function can_init_post_cookie(){return!bouncex.gdpr_opt_out}function can_init(){if(document.visibilityState&&"prerender"===document.visibilityState){var visibilityListener=_debug.default.tryCatch((function(){"prerender"!==document.visibilityState&&((0,_eventHelpers.removeEvent)(document,"visibilitychange",visibilityListener),bcx_init())}));return(0,_eventHelpers.addEvent)(document,"visibilitychange",visibilityListener),bouncex.prerendered=!0,!1}if(bouncex.baddjs)return!1;if(!JSON.parse)return!1;if(!window.postMessage)return!1;if(!bouncex.website.ei&&window!=window.top)return!1;if(!areCookiesEnabled())return!1;if(bouncex.browser.prerenderio)return!1;if(bouncex.browser.msie&&bouncex.browser.msie<11)return!1;if(bouncex.website.burls.length)for(var k in bouncex.website.burls)if(bouncex.website.burls.hasOwnProperty(k)){var burl=bouncex.website.burls[k];if(-1!=burl.prop.indexOf("contains")){var c=window.location.href.indexOf(burl.val);if("contains"==burl.prop&&-1!=c||"not_contains"==burl.prop&&-1==c)return!1}else if(-1!=burl.prop.indexOf("regex_match")){var m=new RegExp(burl.val,"gi").test(window.location.href);if("regex_match"==burl.prop&&m||"not_regex_match"==burl.prop&&!m)return!1}}return!("fp_local_storage"===bouncex.website.ct&&!fpLocalStorageAvailable())}function init_visit_cookie(){if(!bouncex.gdpr_opt_out){var c=bouncex.getBounceVisitCookie();c&&(bouncex.visit_cookie=bouncex.parseJSON(c),bouncex.visit_cookie.ex&&(new Date).getTime()>bouncex.visit_cookie.ex&&(bouncex.visit_cookie=!1)),bouncex.visit_cookie?!bouncex.visit_cookie.ueh&&Url.getParam("ueh")&&bouncex.updateBounceVisitCookie((function(cookie){cookie.ueh=Url.getParam("ueh")})):(bouncex.visit_cookie={},bouncex.visit_cookie.lp=bouncex.calling_url.substring(0,500).replace(/\+/g,"%2B").replace(/\%[A-F0-9]?[^A-F0-9]/,""),bouncex.visit_cookie.r=bouncex.referrer,bouncex.visit_cookie.ueh=Url.getParam("ueh")||void 0,bouncex.setBounceVisitCookie())}}function loadVisitsFromDb(){_debug.default.tryCatch((function(){bouncex.indexdb.isSupported()&&bouncex.indexdb.getVisitsAsHoursAgoArray(0,getTime2(),(function(visitsHistoryAsHoursAgo){bouncex.visitsHistoryAsHoursAgo=visitsHistoryAsHoursAgo}))}))()}function init_public_functions(){var g;window.console||(window.console={log:function(){return{}}}),bouncex.setv=bouncex.setVar=CustomVariables.setVar.bind(CustomVariables),bouncex.setVarAndReload=CustomVariables.setVarAndReload.bind(CustomVariables),bouncex.getVar=CustomVariables.getVar.bind(CustomVariables),bouncex.perf=_perf.default,bouncex.loadBounceCss=_campaignHelpers.default.loadBounceCss,bouncex.updateQS=Url.updateQS,bouncex.make_include_string=make_include_string,bouncex.baddjs=baddjs,bouncex.wndsize=wndsize,bouncex.init=InitSequence.postInit1.entry,bouncex.bcxReady=bcxReady,bouncex.stringify=stringify,bouncex.parseJSON=parseJSON,bouncex.addCss=_helpers.default.addCss,bouncex.createIframe=createIframe,bouncex.unload_campaigns=_campaignHelpers.default.unload_campaigns,bouncex.unload_campaign=_campaignHelpers.default.unload_campaign,bouncex.reload_campaigns=window.reload_campaigns=_reloadCampaigns.default.addRequest.bind(_reloadCampaigns.default),bouncex.dynamicPageChange=SinglePageApp.dynamicPageChange,bouncex.nextStep=nextStep,bouncex.submitCampaignStep=submitCampaignStep,bouncex.setJumpStep=setJumpStep,bouncex.placeCampaign=_campaignHelpers.default.placeCampaign,bouncex.alignCampaign=_campaignHelpers.default.alignCampaign,bouncex.destroyAll=destroyAll,bouncex.passiveEventRegistry={},"window"in(g=window)&&"document"in g&&("atob"in g&&"btoa"in g||(g.atob=function(a){var d=0,e=[],b=0,c=0;if(0==(a=(a=String(a)).replace(/\s/g,"")).length%4&&(a=a.replace(/=+$/,"")),1==a.length%4)throw Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(a))throw Error("InvalidCharacterError");for(;d<a.length;)b=b<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(d)),24===(c+=6)&&(e.push(String.fromCharCode(b>>16&255)),e.push(String.fromCharCode(b>>8&255)),e.push(String.fromCharCode(255&b)),b=c=0),d+=1;return 12===c?e.push(String.fromCharCode(b>>4&255)):18===c&&(b>>=2,e.push(String.fromCharCode(b>>8&255)),e.push(String.fromCharCode(255&b))),e.join("")},g.btoa=function(a){a=String(a);var b,c,f,g,d=0,e=[];if(/[^\x00-\xFF]/.test(a))throw Error("InvalidCharacterError");for(;d<a.length;)g=(b=a.charCodeAt(d++))>>2,b=(3&b)<<4|(c=a.charCodeAt(d++))>>4,c=(15&c)<<2|(f=a.charCodeAt(d++))>>6,f&=63,d===a.length+2?f=c=64:d===a.length+1&&(f=64),e.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f));return e.join("")})),bouncex.repressCampaigns=_campaignHelpers.default.repressCampaigns,bouncex.isGbi2Campaign=_campaignHelpers.default.isGbi2Campaign,bouncex.isBxPlayerCampaign=_campaignHelpers.default.isBxPlayerCampaign,bouncex.serviceReady=InitSequence.init1.serviceReady.bind(InitSequence.init1),bouncex.callCookieReady=InitSequence.preInit1.cookieReady}function init_browser(){var nav=navigator.userAgent;if(bouncex.browser={},bouncex.browser.webkit=/WebKit/.test(nav),bouncex.browser.firefox=/Firefox/.test(nav),bouncex.browser.msie=/Trident\/7\.|MSIE/.test(nav),bouncex.browser.opera=/Opera|OPR\//.test(nav),bouncex.browser.msie&&nav.indexOf("MSIE")>0&&(bouncex.browser.msie=parseInt(nav.split("MSIE")[1])),bouncex.browser.msie&&nav.indexOf("rv:")>0&&(bouncex.browser.msie=parseInt(nav.split("rv:")[1])),bouncex.browser.edge=/Edge/.test(nav),bouncex.browser.edge&&(bouncex.browser.edge=parseInt(nav.split("Edge/")[1])),bouncex.browser.android=nav.match(/\bAndroid( [\d.]+)?/),bouncex.browser.android&&(bouncex.browser.android=parseFloat(bouncex.browser.android[1])||!0),bouncex.browser.prerenderio=nav.indexOf("Prerender")>-1,bouncex.browser.iphone=nav.indexOf("iPhone")>-1,bouncex.browser.ipad=nav.indexOf("iPad")>-1,bouncex.browser.ios8=!1,bouncex.browser.ios9=!1,bouncex.browser.ios=!1,bouncex.browser.iphone||bouncex.browser.ipad){if(bouncex.browser.ios=parseInt(nav.split("Version/")[1]),bouncex.browser.ios9=9===bouncex.browser.ios,bouncex.browser.ios8=8===bouncex.browser.ios,bouncex.browser.chrome=/CriOS/.test(nav),bouncex.browser.chrome){var iosVersionMatch=nav.match(_wrapRegExp(/iPhone[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]OS[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]([0-9]{0,2})/,{version:1}));bouncex.browser.ios=!!iosVersionMatch&&parseInt(iosVersionMatch.groups.version)}}else bouncex.browser.chrome=/Chrome/.test(nav);bouncex.browser.safari=!(-1==nav.indexOf("Safari")||-1!=nav.indexOf("Chrome")),bouncex.browser.safari&&nav.indexOf("Version/")>0&&(bouncex.browser.safari=parseInt(nav.split("Version/")[1].replace(".",""))),bouncex.browser.chrome&&nav.indexOf("Chrome/")>0&&(bouncex.browser.chrome=parseInt(nav.split("Chrome/")[1])),bouncex.browser.firefox&&nav.indexOf("Firefox/")>0&&(bouncex.browser.firefox=parseInt(nav.split("Firefox/")[1])),bouncex.ssl="https:"==window.location.protocol}function init_post_campaign_public_function(){bouncex.setBounceCookie=function(){window.setBounceCookie()},bouncex.initActivationFuncs=function(){_campaignHelpers.default.init_activation_funcs()},bouncex.contains=!jQuery.contains||-1!=jQuery().jquery.indexOf("1.4.")||jQuery().jquery.indexOf("1.8.")>-1?eval("document.contains||document.compareDocumentPosition?function(a,b){var adown=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(adown.contains?adown.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16))}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true}}}return false};"):jQuery.contains,bouncex.close_ad=function(ca_id,silent,no_report){_campaignHelpers.default.close_ad(ca_id,silent,no_report)},bouncex.report=function(ca_id,eventname,extra){if(bouncex.campaigns[ca_id])return report(ca_id,eventname,extra)},bouncex.report_submit=function(ca_id,obj,complete){return report_submit(ca_id,obj,complete)},bouncex.report_ga=function(action,label,bypass){report_ga(action,label,bypass)},bouncex.report_conversion=function(obj,source){_conversion.default.report(obj,source)},window.close_bouncex_ad=_campaignHelpers.default.close_ad,bouncex.fs=_campaignHelpers.default.fs,bouncex.by_parent_id=function(pid){return _campaignHelpers.default.by_parent_id(pid)},bouncex.show_ad=function(ca_id){return 1===arguments.length?trigger_ad.call(this,"manual",ca_id):show_ad.apply(this,arguments)},bouncex.align_callout=_campaignHelpers.default.align_callout_public,bouncex.destroy_ad=_campaignHelpers.default.destroy_ad,bouncex.unload_campaigns=_campaignHelpers.default.unload_campaigns,bouncex.reload_campaigns=_reloadCampaigns.default.addRequest.bind(_reloadCampaigns.default),bouncex.reportGa=reportGa,bouncex.loadBrandStyles=loadBrandStyles,bouncex.loadWebfonts=loadWebfonts,bouncex.activate_campaign=activate_campaign}function initBa(){bouncex.website.ba.enabled&&(bouncex.ba={fbel:[],fbrc:0,fbto:null,lip:{}})}function initAds(){bouncex.website.gbi_enabled&&(bouncex.website.gbi_enabled=_campaignHelpers.default.canShowGbi())}function init_website_custom_js(){if(bouncex.website.cjs)try{eval(bouncex.website.cjs)}catch(err){bouncex.err(err,{source:"bouncex.website.cjs"})}}function initPreInitCustomJs(){if(bouncex.website.preinit_cjs)try{eval(bouncex.website.preinit_cjs)}catch(err){bouncex.err(err,{source:"bouncex.website.preinit_cjs"})}}exports.InitSequence=InitSequence,bouncex.push=_pushEvent.default.send;var SinglePageApp={init:function(){if(bouncex.website.spa){if(bouncex.website.spatm&&!(0,_helpers.visitorTestMode)("spa"))return;this._setParams(),this._pageChangeListener()}},setCustomParams:function(overwrite){overwrite.shouldCheckSpa&&(this._shouldCheckSpa=overwrite.shouldCheckSpa),overwrite.pageChangeListener&&(BxInterval.stopTask("spa default listener"),this._pageChangeListener=overwrite.pageChangeListener),overwrite.currentPageIdentifier&&(this._currentPageIdentifier=overwrite.currentPageIdentifier)},_setParams:function(){void 0===this._shouldCheckSpa&&(this._shouldCheckSpa=this._defaults.shouldCheckSpa),void 0===this._pageChangeListener&&(this._pageChangeListener=this._defaults.pageChangeListener),void 0===this._currentPageIdentifier&&(this._currentPageIdentifier=this._defaults.currentPageIdentifier)},_defaults:{shouldCheckSpa:function(){return!0},pageChangeListener:function(){this._shouldCheckSpa()&&BxInterval.addTask(this._detectPageChange.bind(this),0,"spa default listener")},currentPageIdentifier:function(){return window.location.pathname}},_detectPageChange:function(){this._currentPage=this._currentPageIdentifier(),this._prevPage=this._prevPage||this._currentPage,this._prevPage!==this._currentPage&&(this.dynamicPageChange(),this._prevPage=this._currentPage)},dynamicPageChange:function(){bouncex.log("%c ~ spa new page  ~","color: #000FFF"),InitSequence.dynamic.tearDown(),bouncex.state.newvid=!1,InitSequence.dynamic.startUp(),_reloadCampaigns.default.addRequest("spa new page")}};function bcxReady(f){bouncex.website.fbe||!(bouncex.website.sd>-1&&bouncex.website.vars)?f():(bouncex._bcxReady||eval('bouncex._bcxReady=function(){function i(){if(r.isReady){return}try{document.documentElement.doScroll("left")}catch(e){bouncex.setTimeout2(i,1);return}r.ready()}function s(t){r.bindReady();var n=r.type(t);e.done(t)}var e,t,n={};n["[object Boolean]"]="boolean";n["[object Number]"]="number";n["[object String]"]="string";n["[object Function]"]="function";n["[object Array]"]="array";n["[object Date]"]="date";n["[object RegExp]"]="regexp";n["[object Object]"]="object";var r={isReady:false,readyWait:1,holdReady:function(e){if(e){r.readyWait++}else{r.ready(true)}},ready:function(t){if(t===true&&!--r.readyWait||t!==true&&!r.isReady){if(!document.body){return bouncex.setTimeout2(r.ready,1)}r.isReady=true;if(t!==true&&--r.readyWait>0){return}e.resolveWith(document,[r])}},bindReady:function(){if(e){return}e=r._Deferred();if(document.readyState==="complete"){return bouncex.setTimeout2(r.ready,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",t,false);window.addEventListener("load",r.ready,false)}else if(document.attachEvent){document.attachEvent("onreadystatechange",t);window.attachEvent("onload",r.ready);var n=false;try{n=window.frameElement==null}catch(s){}if(document.documentElement.doScroll&&n){i()}}},_Deferred:function(){var e=[],t,n,i,s={done:function(){if(!i){var n=arguments,o,u,a,f,l;if(t){l=t;t=0}for(o=0,u=n.length;o<u;o++){a=n[o];f=r.type(a);if(f==="array"){s.done.apply(s,a)}else if(f==="function"){e.push(a)}}if(l){s.resolveWith(l[0],l[1])}}return this},resolveWith:function(r,s){if(!i&&!t&&!n){s=s||[];n=1;try{while(e[0]){e.shift().apply(r,s)}}finally{t=[r,s];n=0}}return this},resolve:function(){s.resolveWith(this,arguments);return this},isResolved:function(){return!!(n||t)},cancel:function(){i=1;e=[];return this}};return s},type:function(e){return e==null?String(e):n[Object.prototype.toString.call(e)]||"object"}};if(document.addEventListener){t=function(){document.removeEventListener("DOMContentLoaded",t,false);r.ready()}}else if(document.attachEvent){t=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",t);r.ready()}}}return s}()'),bouncex._bcxReady(f))}function getJString(e){var t=_typeof(e);if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,r,i=[],s=e&&e.constructor==Array;for(n in e)"string"==(t=_typeof(r=e[n]))?r='"'+r+'"':"object"==t&&null!==r&&(r=getJString(r)),i.push((s?"":'"'+n+'":')+String(r));return(s?"[":"{")+String(i)+(s?"]":"}")}function stringify(e){return"undefined"==typeof JSON||"function"!=typeof JSON.stringify?getJString(e):JSON.stringify(e)}function parseJSON(e,def){def=def||{};try{var parsed=JSON.parse(e);return parsed&&"object"===_typeof(parsed)?parsed:def}catch(e){return def}}function createIframe(attributes){return(0,_helpers.createElement)("iframe",attributes)}function destroyAll(reason){document.cookie.split(";").forEach((function(cookie){var cookieName=cookie.split("=")[0];(cookieName.indexOf("_ibx")>-1||cookieName.indexOf("bounceClientVisit")>-1)&&(document.cookie=cookieName+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;",document.cookie=cookieName+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain="+bouncex.cookie_domain+";")})),localStorage.removeItem(bouncex.website.cookie_name),localStorage.removeItem(bouncex.website.cookie_name+"v"),bouncex.indexdb.deleteDatabase(),bouncex.gdpr_opt_out||(bouncex.gdpr_opt_out=!0,bouncex.local_storage_frame&&bouncex.local_storage_frame.contentWindow&&(bouncex.local_storage_frame.contentWindow.postMessage("clear_all_data","*"),bouncex.local_storage_frame.remove()),bouncex.campaigns&&init_post_campaign_public_function(),InitSequence.dynamic.tearDown(),bouncex.website.vars=[],bouncex.website.etjson=[],bouncex.website.cjs="",bouncex.website.preinit_cjs="",bouncex.website.etjs="",bouncex.baddjs=exports.baddjs=baddjs=function(){},_eventStream.default.report=function(){},bouncex.cookie&&(bouncex.cookie.vid=bouncex.cookie.did=0),"client_opt_out"!==reason&&"gdpr_no_consent_cookie"!==reason&&report_optout("bx_suppress",{reason:reason}),bouncex.cookie={})}function areCookiesEnabled(){var cookieEnabled=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||cookieEnabled||(document.cookie="testcookie",cookieEnabled=-1!=document.cookie.indexOf("testcookie")),cookieEnabled}function fpLocalStorageAvailable(){if(window.localStorage)try{if(localStorage.setItem("bxtest",!0),localStorage.getItem("bxtest"))return localStorage.removeItem("bxtest"),!0}catch(e){}return!1}function init_page_types(){if(bouncex.website.pt){bouncex.website.pt=(0,_removeTestModeItems.removeTestModeItems)("page_types");var page=findPageTypeMatch(bouncex.website.pt);bouncex.website.pts=page}}function findPageTypeMatch(obj){for(var pageTypeName in obj)if(obj.hasOwnProperty(pageTypeName)){var pageTypeSettings=obj[pageTypeName];if(void 0!==pageTypeSettings.val?new _criteria.default(pageTypeName,pageTypeSettings.val,"pagetype").evaluate():new _criteria.default(pageTypeName,pageTypeSettings,"pagetype").evaluate())return pageTypeName}return!1}function percentageLiveTraffic(num){return bouncex.cookie&&bouncex.cookie.did&&bouncex.cookie.did.substr(bouncex.cookie.did.length-2)<num}function report_optout(eventname,params){var baseurl=bouncex.seu+"/track.gif/"+encodeURIComponent(eventname)+"?";params.websiteid=bouncex.website.id,params.source||(params.source="web"),params.agent||(params.agent="user");var url=baseurl+Url.qs(params),img=document.createElement("img");return img.src=url,img.src}function report_submit(ca_id,obj,complete){return obj.m=bouncex.cookie.m,obj.d=bouncex.cookie.d,obj.visit_id=bouncex.cookie.vid,obj.device_id=bouncex.cookie.did,obj.campaign_id=ca_id,obj.website_id=bouncex.website.id,obj.pvid=bouncex.state.pvid,obj.cts=getTimeMs(),_eventStream.default.nextSequenceId(),obj.cookie=bouncex.stringify(bouncex.getBounceCookie()),obj.hasOwnProperty("step")||(obj.step=1),complete&&(obj.last_step=1),bouncex.dg&&bouncex.dg.hardID&&(obj.hard_id=bouncex.dg.hardID),bouncex.dg&&bouncex.dg.softID&&(obj.soft_id=bouncex.dg.softID),jQuery('<img src="'+bouncex.sau+"/capture/submit.gif?"+Url.qs(obj)+'"/>')}function post_submit_redirect(mca_id){var is_api=bouncex.campaigns[mca_id].is_api,redirect=bouncex.campaigns[mca_id].submission_redirect,delay=bouncex.campaigns[mca_id].submission_redirect_delay;if(is_api&&delay<.3)delay=.3;else if(!is_api)return!1;redirect&&(0,_scheduling.setTimeoutWrapper)((function(){window.top.location.href=redirect}),delay?1e3*delay:0)}function reportGa(ca_id,eventname){var ga_eventname=eventname;"pop"==eventname&&(ga_eventname="impression"),bouncex.website.gar&&bouncex.campaigns[ca_id].ga_i&&bouncex.campaigns[ca_id].ga_i[ga_eventname]&&bouncex.report_ga(ga_eventname,bouncex.campaigns[ca_id].ga_i.label)}function report_ga(action,label,bypass){_analytics.default.report(action,label,bypass)}function report_endpageview(event){if("visibilitychange"!==event.type||"hidden"===document.visibilityState){var endpageview_params={"pageview:url":bouncex.calling_url,"pageview:customvariables":JSON.stringify(bouncex.vars),"pageview:event":event.type,"perf:times":JSON.stringify(bouncex.perf.timesArr)};if(append_anchors_to_event(endpageview_params,bouncex.campaigns),bouncex.campaigns)for(var ca_id in bouncex.campaigns){var campaign=bouncex.campaigns[ca_id],frameWatcher=campaign.frameWatcher;frameWatcher&&campaign.trigger&&(endpageview_params["creatives:loaded:".concat(ca_id)]=1*frameWatcher.loadSucceeded,endpageview_params["creatives:failed:".concat(ca_id)]=1*frameWatcher.loadFailed,endpageview_params["creatives:load_delay:".concat(ca_id)]=frameWatcher.loadDelay,campaign.winningBid&&(endpageview_params["creatives:provider:".concat(ca_id)]=campaign.winningBid.provider))}if(shouldCheckDfp()){var dfpEvent=bouncex.gbi2.getDfpEndPageViewEvent();endpageview_params.dfp_status=dfpEvent.dfp_status,endpageview_params.line_item_id=dfpEvent.line_item_id,endpageview_params.dfp_report_status=dfpEvent.dfp_report_status,endpageview_params.dfp_suppression_causes=dfpEvent.dfp_suppression_causes}_eventStream.default.report("endpageview",endpageview_params),bouncex.off(bouncex.window,".bx_endpageview"),bouncex.off(bouncex.document,".bx_endpageview")}}function init_endpageview_event(){bouncex.state.mobile&&bouncex.on(bouncex.document,"visibilitychange.bx_endpageview",report_endpageview),bouncex.on(bouncex.window,"beforeunload.bx_endpageview pagehide.bx_endpageview unload.bx_endpageview",report_endpageview)}function append_anchors_to_event(event_parameters,campaigns){Object.keys(campaigns).forEach((function(campaign_id){var campaign=campaigns[campaign_id];campaign.callout_t&&(event_parameters["pageview:anchor:found:".concat(campaign_id)]=isMissingTarget(campaign)?0:1)}))}function baddjs(file){var oScript=document.createElement("script");oScript.setAttribute("src",file),oScript.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(oScript)}function loadBrandStyles(){if(bouncex.brandStyles){bouncex.brandStylesLoaded=bouncex.brandStylesLoaded||{};var newBrandStyles="",newBrandStyleIds="";for(var style_id in bouncex.brandStyles)bouncex.brandStyles.hasOwnProperty(style_id)&&!bouncex.brandStylesLoaded[style_id]&&(newBrandStyles+=bouncex.brandStyles[style_id],newBrandStyleIds+="-"+style_id,bouncex.brandStylesLoaded[style_id]=!0);newBrandStyles&&bouncex.addCss(newBrandStyles,bouncex.head[0],"bx-brand"+newBrandStyleIds)}}function loadWebfonts(){if(bouncex.webfonts){bouncex.fontCSSLoaded=bouncex.fontCSSLoaded||{};var newStylesheets="";for(var fontFolder in bouncex.webfonts)bouncex.webfonts.hasOwnProperty(fontFolder)&&!bouncex.fontCSSLoaded[fontFolder]&&(newStylesheets+='<link href="//assets.bounceexchange.com/fonts/'+fontFolder+'/stylesheet.css" rel="stylesheet" type="text/css" media="all" />',bouncex.fontCSSLoaded[fontFolder]=1);jQuery(newStylesheets).appendTo(bouncex.head)}}function show_ad_ng(type,ca_id){_campaignHelpers.default._prepareAndDisplay(ca_id)}exports.SinglePageApp=SinglePageApp,bouncex.setTimeout2=_scheduling.setTimeoutWrapper,bouncex.setInterval2=_scheduling.setIntervalWrapper,bouncex.buildReport=_report.buildReport,bouncex.event_js_eval=_eventJsEval.event_js_eval;var zcCallbacks=[],getScript=_ajax.default.getScript;function showGenieFormErrors(ca_id,jform,response,cloneForm){var errors=(response=response||{}).errors||!1;if(!errors)return!1;var errRows=jQuery();for(var inputName in errors){var errField=jform.find(".bx-error-"+ca_id+"-"+inputName),errorText=errors[inputName];if(errField.length){var errRow=errField.text(errorText).closest(".bx-row");if(errRow.addClass("bx-row-validation"),cloneForm&&cloneForm.length)cloneForm.find(".bx-error-"+ca_id+"-"+inputName).text(errorText).closest(".bx-row").addClass("bx-row-validation");errRow.find(":input").attr("aria-invalid",!0).attr("aria-describedby","bx-error-"+ca_id+"-"+inputName),errRows=errRows.add(errRow)}}return!!errRows.length&&(errRows.eq(0).find(":input").focus(),!0)}function processSubmittedCampaignForm(result,ca_id){if(bouncex.carbTrap=bouncex.carbTrap||""!==result["carb-trap"],!bouncex.carbTrap){if(_emailCapture.default.setSubmittedCookies(result,ca_id),(result.email||result.phone_number)&&(_userTracking.default.setRedactEmail(result,ca_id),result.email)){var triggerOffsiteJson=!!bouncex.campaigns[ca_id].trigger_offsite_json&&JSON.parse(bouncex.campaigns[ca_id].trigger_offsite_json);triggerOffsiteJson&&triggerOffsiteJson.campaignId&&bouncex.push(["requestemail",{email:result.email,campaignId:triggerOffsiteJson.campaignId,testmode:(0,_helpers.visitorTestMode)("bxdev")?1:0}])}reportGa(ca_id,"submission"),(0,_eventJsEval.event_js_eval)(ca_id,"submission",result),"function"==typeof bouncex.onformsubmit&&bouncex.onformsubmit(result.email),post_submit_redirect(ca_id)}}function processCampaignSubmitClose(ca_id,noPostSubmit){bouncex.campaigns[ca_id].acas&&(bouncex.events[ca_id].timeout_auto_submission_close=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.close_ad(ca_id)}),1e3*bouncex.campaigns[ca_id].acas)),noPostSubmit&&bouncex.close_ad(ca_id,!1,!0)}function processLastStep(ca_id,noPostSubmit){if(!bouncex.campaigns[ca_id].submittedYet){bouncex.campaigns[ca_id].submittedYet=!0;var qs=bouncex.campaigns[ca_id].obj1.find(".bx-input").serialize();processSubmittedCampaignForm(Url.queryStringToObject(qs),ca_id),processCampaignSubmitClose(ca_id,noPostSubmit)}}function loadCouponsAndValidateForm(ca_id){CouponCodes.insertCodesInFormAndSubmit(ca_id,function(ca_id){validateForm(bouncex.campaigns[ca_id].jform,ca_id)}.bind(this,ca_id))}function validateForm(jform,ca_id){var cloneForm=bouncex.campaigns[ca_id].obj2.filter(".bx-pusher").find(".bx-active-step form");if(bouncex.formSubmitting)return!1;bouncex.formSubmitting=!0,_eventStream.default.nextSequenceId();var isLastStep=bouncex.campaigns[ca_id].next_step==bouncex.campaigns[ca_id].numSteps&&!bouncex.campaigns[ca_id].noPostSubmit||bouncex.campaigns[ca_id].forceLastStep,noPostSubmit=bouncex.campaigns[ca_id].current_step==bouncex.campaigns[ca_id].numSteps&&(1===bouncex.campaigns[ca_id].numSteps||bouncex.campaigns[ca_id].noPostSubmit),last_step=isLastStep||noPostSubmit?1:0,serial=jform.serialize(),submitData=Url.queryStringToObject(serial);for(var key in serial+="&step="+bouncex.campaigns[ca_id].current_step+"&visit_id="+bouncex.cookie.vid+"&m="+bouncex.cookie.m+"&d="+bouncex.cookie.d,serial+="&cookie="+encodeURIComponent(bouncex.stringify(bouncex.cookie)),serial+="&pos=overlay&step_name=before",serial+="&last_step="+last_step,serial+="&device_id="+bouncex.cookie.did,serial+="&cts="+getTimeMs(),serial+="&pvid="+bouncex.state.pvid,serial+="&url="+bouncex.calling_url,serial+="&request_token="+bouncex.state.request_token,bouncex.cookie.t&&(serial+="&testmode="+bouncex.cookie.t),bouncex.dg&&bouncex.dg.hardID&&(serial+="&hard_id="+bouncex.dg.hardID),bouncex.dg&&bouncex.dg.softID&&(serial+="&soft_id="+bouncex.dg.softID),bouncex.vars)serial+="&var["+key+"]="+encodeURIComponent(bouncex.vars[key]);var action=jform.attr("action");jform.find(".bx-row-validation").removeClass("bx-row-validation"),cloneForm.find(".bx-row-validation").removeClass("bx-row-validation"),jform.find('[aria-invalid="true"]').removeAttr("aria-invalid");var options={url:action,data:serial,dataType:"jsonp",contentType:"multipart/form-data",crossDomain:!0,global:!1,success:function(response){var edwTimeout=bouncex.events[ca_id].edwTimeout,hasErrors=showGenieFormErrors(ca_id,jform,response,cloneForm),hasSmsOptin=jform.find(".bx-sms-optin").val();bouncex.formSubmitting=!1,edwTimeout&&clearTimeout(edwTimeout),hasErrors||(hasSmsOptin&&bouncex.updateBounceCookie((function(cookie){cookie.ps=1})),bouncex.nextStep(ca_id),last_step&&processLastStep(ca_id,noPostSubmit)),jQuery.event.trigger({campaign_id:ca_id,isEmptyResponse:!response,response:response,stepNumber:bouncex.campaigns[ca_id].current_step,type:"bxValidateFormComplete"})},error:function(){bouncex.formSubmitting=!1,bouncex.events[ca_id].edwTimeout&&clearTimeout(bouncex.events[ca_id].edwTimeout),bouncex.nextStep(ca_id)}};bouncex.campaigns[ca_id].edw||(bouncex.events[ca_id].edwTimeout=(0,_scheduling.setTimeoutWrapper)((function(){bouncex.nextStep(ca_id),last_step&&processLastStep(ca_id,noPostSubmit)}),2500)),fireUserSubmitEvent(submitData,ca_id),_records.default.addRecord({group:"email_capture",campaignId:ca_id,data:options.data}),jQuery.ajax(options)}function fireUserSubmitEvent(submitData,campaignId){if(!bouncex.carbTrap&&""===submitData["carb-trap"]&&(_userTracking.default.setRedactEmail(submitData,campaignId),submitData.email||submitData.phone_number)){var userEvent={campaignid:campaignId,source:"campaign_submit"};if(submitData.email&&(userEvent.email=submitData.email),submitData.phone_number&&_phoneNumber.default.isValid(submitData.phone_number)){var sanitizedNumber=_phoneNumber.default.sanitize(submitData.phone_number);sanitizedNumber?(userEvent.phone=sanitizedNumber,userEvent.phone_sha256=_phoneNumber.default.toSha256(sanitizedNumber)):userEvent.phone_unmatched=submitData.phone_number}bouncex.push(["user",userEvent])}}function submitCampaignStep(ca_id,ca_id2){return ca_id=ca_id2||ca_id,bouncex.campaigns[ca_id].jform.find(".bx-input").length>0?loadCouponsAndValidateForm(ca_id):nextStep(ca_id),!1}function setJumpStep(ca_id,jumpStep,forceLastStep){bouncex.campaigns[ca_id].jumpStep=jumpStep,bouncex.campaigns[ca_id].forceLastStep=forceLastStep}function nextStep(ca_id){bouncex.campaigns[ca_id].jumpStep&&(bouncex.campaigns[ca_id].next_step=bouncex.campaigns[ca_id].jumpStep,bouncex.campaigns[ca_id].jumpStep=!1),bouncex.campaigns[ca_id].next_step<=bouncex.campaigns[ca_id].numSteps&&(bouncex.campaigns[ca_id].obj2.find(".bx-step-"+ca_id+"-"+bouncex.campaigns[ca_id].current_step).removeClass("bx-active-step"),bouncex.campaigns[ca_id].obj2.find(".bx-step-"+ca_id+"-"+bouncex.campaigns[ca_id].next_step).addClass("bx-active-step"),_campaignHelpers.default.cacheCreativeForm(ca_id,bouncex.campaigns[ca_id].next_step),bouncex.campaigns[ca_id].obj2.trigger("nextStep",[{currentStep:bouncex.campaigns[ca_id].current_step}]),bouncex.campaigns[ca_id].obj2.removeClass("bx-active-step-"+bouncex.campaigns[ca_id].current_step).addClass("bx-active-step-"+bouncex.campaigns[ca_id].next_step),bouncex.campaigns[ca_id].current_step=bouncex.campaigns[ca_id].next_step,bouncex.campaigns[ca_id].next_step++,CouponCodes.insertCodesInCurrentStep(ca_id),_campaignHelpers.default.show_close(ca_id),_campaignHelpers.default.alignCampaign(ca_id),_accessibility.default.setFocusableElements(ca_id),_accessibility.default.focusOnFirstFocusableElement(ca_id,!0))}function deactivate_campaign(campaign,callback){var campaignId=campaign.id||campaign.pid;if(campaign.video&&!campaign.video.status.stopped&&campaign.video.vast.isVPAID){bouncex.log(campaignId,"stopping VPAID");var onetimeCallback=_helpers.default.onetimeFunction(deactivate_campaign.bind(null,campaign,callback));return campaign.video.status.stopped=!0,campaign.video.vpaid.ad.subscribe(onetimeCallback,"AdStopped"),campaign.video.vpaid.ad.stopAd(),(0,_scheduling.setTimeoutWrapper)(onetimeCallback,200)}return bouncex.log(campaignId,"deactivating"),campaign.obj1&&campaign.obj1.add(campaign.obj2).remove(),campaign.gbi.ready=!1,!callback||(0,_scheduling.setTimeoutWrapper)(callback,0)}function generateUniqueId(){return getTimeMs()+Math.random()}function zoomDisable(w){}function zoomEnable(){}exports.getScript=getScript,bouncex.caAutofill=function(ca_id,data){for(var characteristic in data="object"===_typeof(data)?data:{})data.hasOwnProperty(characteristic)&&bouncex.campaigns[ca_id].inputs.filter("[name="+characteristic+"]").val(data[characteristic]).trigger("click")},bouncex.fb=_facebook.default;var init_vars=InitSequence.preInit1.integrations,bcx_init=InitSequence.preInit1.entry;exports.bcx_init=bcx_init,bouncex.log=_consoleHelper.default.log,bouncex.console=_consoleHelper.default.console,bouncex.table=_consoleHelper.default.table,bouncex.loaded=!0,bouncex.init1Response=_debug.default.tryCatch((function(resp){bouncex.state=resp.state,"no_consent"===bouncex.complianceFlag||"gdpr_no_consent"===bouncex.complianceFlag&&bouncex.state.gdpr||(bouncex.cookie=resp.cookie,bouncex.brandStyles=resp.brand_styles,bouncex.webfonts=resp.webfonts,bouncex.campaigns=resp.campaigns,bouncex.creatives=resp.creatives,bouncex.debug=resp.debug,bouncex.testmode=resp.testmode,bouncex.gbi.stacks=resp.gbi_stacks,bouncex.website.gbi2Enabled=resp.gbi2_enabled,bouncex.website.sspConfig=resp.ssp_config,bouncex.website.pushFilepath=resp.push_filepath,bouncex.website.smsEnabled=resp.sms_enabled,bouncex.website.smsTC=resp.sms_terms_conditions_link,bouncex.website.smsShortCodes=resp.sms_short_codes,bouncex.website.brandName=resp.brand_name,bouncex.website.adsConfig=resp.ads_config,bouncex.setBounceCookie(),InitSequence.postInit1.entry(),_complianceChecks.default.report())})),bouncex.utils=_utilities.default,bouncex.utils.getParam=bouncex.utils.url.getParam,bouncex.dg=_deviceGraph.default,bouncex.et=_eventTracking.default,bouncex.osr=_onsiteRetargeting.default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Accessibility={showAlly:function(ca_id){"overlay"==bouncex.campaigns[ca_id].type&&Accessibility.showAllyOverlay(ca_id),bouncex.campaigns[ca_id].obj1.attr("aria-hidden",!1)},hideAlly:function(ca_id){bouncex.campaigns[ca_id].obj1.attr("aria-hidden",!0),"overlay"==bouncex.campaigns[ca_id].type&&Accessibility.hideAllyOverlay(ca_id)},hideAllyOverlayPostOutro:function(ca_id){bouncex.campaigns[ca_id].siblings.each((function(){for(var el=jQuery(this),attrsToRemove=["aria-hidden","aria-live"],i=0;i<attrsToRemove.length;i++){var attr=attrsToRemove[i],oldAttrVal=el.attr("data-bx-"+attr);oldAttrVal?el.attr(attr,oldAttrVal):el.removeAttr(attr),el.removeAttr("data-bx-"+attr)}}))},setFocusableElements:function(ca_id){var ca=bouncex.campaigns[ca_id];ca.focusableEls=ca.obj1.find("form, :input, a").not(":hidden, .bx-ally-tab-decoy, .bx-carb-trap, .bx-ally-no-focus")},focusOnFirstFocusableElement:function(ca_id,exclude_close_btn){var ca=bouncex.campaigns[ca_id],focusable=exclude_close_btn?ca.focusableEls.not(".bx-close-outside, .bx-close-inside"):ca.focusableEls;focusable.eq(0)&&focusable.eq(0).focus()},showAllyOverlay:function(ca_id){bouncex.campaigns[ca_id].tabDecoys.bind("focus.bcx_campaign_ally_"+ca_id,{ca_id:ca_id},handleTabDecoyFocus),bouncex.body.bind("keydown.bcx_campaign_ally_"+ca_id,{ca_id:ca_id},handleAllyKeyDown),bouncex.campaigns[ca_id].focusedBeforeCampaign=jQuery(document.activeElement),bouncex.campaigns[ca_id].siblings=bouncex.campaigns[ca_id].obj2.siblings(),bouncex.campaigns[ca_id].siblings.each((function(){var el=jQuery(this),attrsToAdd={"aria-hidden":"true","aria-live":"off"};for(var attrName in attrsToAdd)if(attrsToAdd.hasOwnProperty(attrName)){var currentAttrVal=el.attr(attrName);currentAttrVal&&el.attr("data-bx-"+attrName,currentAttrVal),el.attr(attrName,attrsToAdd[attrName])}})),Accessibility.setFocusableElements(ca_id)},hideAllyOverlay:function(ca_id){bouncex.campaigns[ca_id].tabDecoys.unbind("focus.bcx_campaign_ally_"+ca_id,handleTabDecoyFocus),bouncex.body.unbind("keydown.bcx_campaign_ally_"+ca_id,handleAllyKeyDown),bouncex.campaigns[ca_id].focusedBeforeCampaign&&bouncex.campaigns[ca_id].focusedBeforeCampaign.focus()},setProperties:function(ca_id){var campaign=bouncex.campaigns[ca_id];bouncex.browser.msie&&"overlay"==campaign.type&&campaign.obj2.removeAttr("role"),campaign.tabDecoys=campaign.obj1.find(".bx-ally-tab-decoy")}};function handleTabDecoyFocus(e){var ca_id=e.data.ca_id,ca=bouncex.campaigns[ca_id];e.stopImmediatePropagation(),e.preventDefault(),this===ca.tabDecoys.get(0)?function(ca_id,exclude_close_btn){var ca=bouncex.campaigns[ca_id],focusable=exclude_close_btn?ca.focusableEls.not(".bx-close-outside, .bx-close-inside"):ca.focusableEls;focusable.eq(focusable.length-1)&&focusable.eq(focusable.length-1).focus()}(ca_id):this===ca.tabDecoys.get(1)&&Accessibility.focusOnFirstFocusableElement(ca_id)}function handleAllyKeyDown(e){var ca_id=e.data.ca_id;"Escape"!==e.code&&27!==e.keyCode||bouncex.close_ad(ca_id)}var _default=Accessibility;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports._setPageId=function(num){_pageId=num},exports.default=void 0;var _helpers=__webpack_require__(0),_pageId=Math.floor(100*Math.random());function _filterByDevice(percentage){var deviceId=bouncex.cookie&&bouncex.cookie.did;return!!deviceId&&Number(deviceId.substr(deviceId.length-2))<percentage}var _default={apply:function(settings,callback){(function(settings){if(settings.internal&&(0,_helpers.isBxInternalTraffic)())return!0;if(settings.liveTraffic)switch(settings.type){case"canary":return percentage=settings.liveTraffic,_pageId<percentage;case"device":default:return _filterByDevice(settings.liveTraffic)}var percentage;return!1})(settings)&&callback()}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_scheduling=__webpack_require__(2),_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};var _default={report:function(eventName,params){if(1===bouncex.website.ba.fbte&&"user"===params.agent){for(var fbEvents=function(bxEventName,bxParams){var fbEvents=[],eventMap={"add to cart":"AddToCart","added to cart":"AddToCart","view item":"ViewContent","viewed item":"ViewContent",conversion:"Purchase"},eventParams={source:"bx",bx_event_name:bxEventName};if("conversion"!==bxEventName){var itemid="item:id"in bxParams?bxParams["item:id"]:bouncex.ba.lip["item:id"],price="item:price"in bxParams?bxParams["item:price"]:bouncex.ba.lip["item:price"],category="item:category"in bxParams?bxParams["item:category"]:bouncex.ba.lip["item:category"],name="item:copy"in bxParams?bxParams["item:copy"]:bouncex.ba.lip["item:copy"];itemid&&(eventParams.content_type="product",eventParams.content_ids=[itemid]),price&&(eventParams.value=price),category&&(eventParams.content_category=category),name&&(eventParams.content_name=name)}var fbEventName="bx:"+bxEventName+" - "+(void 0===bouncex.getBounceCookie().lc?"prospect":"customer");return fbEvents.push({eventType:"trackCustom",eventName:fbEventName,eventParams:eventParams}),bxEventName in eventMap&&fbEvents.push({eventType:"track",eventName:eventMap[bxEventName],eventParams:eventParams}),fbEvents}(eventName,params),i=0;i<fbEvents.length;i++)bouncex.ba.fbel.push(fbEvents[i]);!function sendEventsToFacebook(isRetry){if(void 0!==window.fbq)for(var e;null!=(e=bouncex.ba.fbel.pop());)window.fbq(e.eventType,e.eventName,e.eventParams),bouncex.ba.fbto&&clearTimeout(bouncex.ba.fbto);else null!=bouncex.ba.fbto&&1!=isRetry||bouncex.ba.fbrc<5&&(bouncex.ba.fbto=(0,_scheduling.setTimeoutWrapper)(sendEventsToFacebook,500),bouncex.ba.fbrc++)}(!1),"item"===eventName&&(bouncex.ba.lip=params)}},login:function(callback){callback="function"==typeof callback?callback:function(){},window.FB?FB.login((function(response){response.authResponse?FB.api("/me",{fields:"id,email,first_name,last_name,gender,name"},(function(response){if(response.error){var msg=response.error&&response.error.message;bouncex.fb.warn("FB.api returned an error: "+msg)}response.fname=response.first_name,response.lname=response.last_name,callback(response)})):(bouncex.fb.warn("FB.login not authenticated"),callback())}),{scope:"email, public_profile"}):(bouncex.fb.warn("FB sdk not found"),callback())},nextStep:function(campaignId,jump,forceLastStep){bouncex.fb.login((function(response){return bouncex.caAutofill(campaignId,response),bouncex.setJumpStep(campaignId,jump,forceLastStep),bouncex.submitCampaignStep(campaignId),!1}))},popCa:function(campaignId){bouncex.fb.login((function(response){var timeout=0;response&&response.email&&(bouncex.campaigns[campaignId].inputs.filter("[name=email]").val("Autofilling from Facebook...").trigger("click"),timeout=1500),(0,_scheduling.setTimeoutWrapper)((function(){bouncex.caAutofill(campaignId,response)}),timeout)}))},warn:function(msg){_logger.default.warn({group:"bouncex.fb",message:msg})}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};var policyExceptions={isCompliantCampaign:function(params){if(!("campaign_submit"===params["user:source"]&&params.campaignid))return!1;var id=params.campaignid,gdprCompliantCampaign=bouncex.state.gdpr&&bouncex.website.cmp.gdpr&&bouncex.campaigns[id].compliance.gdpr,caslCompliantCampaign=bouncex.state.casl&&bouncex.campaigns[id].compliance.casl;return gdprCompliantCampaign||caslCompliantCampaign},loggedInTrackingAllowed:function(params){var sourceIsLoggedIn=params["user:source"]&&"loggedin"===params["user:source"].toLowerCase(),gdprCompliant=bouncex.state.gdpr&&bouncex.website.cmp.gdpr&&bouncex.website.cmp.whitelist_check,caslCompliant=bouncex.state.casl&&bouncex.website.cmp.whitelist_check;return sourceIsLoggedIn&&(gdprCompliant||caslCompliant)},fromCompliantSource:function(params){var compliantUserSourceDefined=bouncex.website.ibx&&"string"==typeof bouncex.website.ibx.cus,userSourceAllowed=params["user:source"]&&bouncex.website.ibx.cus.indexOf(params["user:source"])>-1;return compliantUserSourceDefined&&userSourceAllowed},fieldMappingCompliant:function(params){var gdprCompliant="input"===params["user:source"]&&bouncex.state.gdpr&&bouncex.website.cmp.gdpr&&bouncex.website.cmp.whitelist_check,caslCompliant="input"===params["user:source"]&&bouncex.state.casl&&bouncex.website.cmp.whitelist_check;return gdprCompliant||caslCompliant}},_default={prevent:function(params){return function(params){if((!bouncex.state.casl||!bouncex.state.gdpr)&&params.email){var domain=params.email.split(".").pop().toLowerCase();bouncex.state.casl||(bouncex.state.casl=1===bouncex.restrictedTlds.casl[domain]),bouncex.state.gdpr||(bouncex.state.gdpr=1===bouncex.restrictedTlds.gdpr[domain])}}({email:params["user:email"]}),enforceGdpr=(policies={gdpr:!0,casl:!0}).gdpr&&bouncex.state.gdpr,enforceCasl=policies.casl&&bouncex.state.casl&&!bouncex.website.cmp.whitelist_check,(enforceGdpr||enforceCasl)&&!function(params){var msg={};for(var policyName in policyExceptions)try{if(policyExceptions[policyName](params))return msg={group:"Compliance Policy Exception",message:policyName.concat(" with source ",params["user:source"])},_logger.default.info(msg),!0}catch(e){msg={group:"Compliance Policy Exception Error",message:e},_logger.default.error(msg)}return!1}(params);var policies,enforceGdpr,enforceCasl},setRedactEmail:function(submitData,campaignId){var result=submitData.email&&this.prevent({"user:email":submitData.email,"user:source":"campaign_submit",campaignid:campaignId});bouncex.state.redactEmail=result}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};var _default={send:function(options){if(options.eventName&&options.data&&options.type){var shq_send_handle,shq_target_event,schema={conversion:{source:options.eventName,obj:options.data},event:{eventname:options.eventName,params:options.data}};if(window._shq&&window._shq.push?(shq_send_handle=window._shq.push.bind(_shq),shq_target_event="onProcessWknd"):window._smtr&&window._smtr.push&&(shq_send_handle=window._smtr.push.bind(_smtr),shq_target_event="onDLProcess"),schema.hasOwnProperty(options.type)&&shq_send_handle&&shq_target_event)try{shq_send_handle([shq_target_event,schema[options.type]])}catch(e){var msg={group:"Event Sharing Cartridge",message:e};_logger.default.error(msg)}}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _activationTrigger=_interopRequireDefault(__webpack_require__(19)),_logger=_interopRequireDefault(__webpack_require__(1)),_helpers=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={evaluate:function(criteria,campaignId){this._debug.init(campaignId);for(var i=0;i<criteria.length;i++){var andBlock=criteria[i];if(this._debug.initCriteriaSet(andBlock,i),!this._andCriteriaSatisfied(andBlock,campaignId))return!1}return!0},_andCriteriaSatisfied:function(andBlock,campaignId){for(var i=0;i<andBlock.length;i++){var orBlock=andBlock[i];if(this._orCriteriaSatisfied(orBlock,campaignId))return this._debug.setCriteriaStatus(!0),!0}return this._debug.setCriteriaStatus(!1),!1},_orCriteriaSatisfied:function(orBlock,campaignId){var trigger=_activationTrigger.default.getRegistered(orBlock,campaignId),orCriteriaSatisfied=trigger&&trigger.triggered?!orBlock.shouldBeAbsent:!!orBlock.shouldBeAbsent;return this._debug.setActivationStatus(orBlock,orCriteriaSatisfied),orCriteriaSatisfied},_debug:{init:function(campaignId){this.campaignId=campaignId,void 0===this.shouldDebug&&(this.shouldDebug=(0,_helpers.isBxInternalTraffic)())},initCriteriaSet:function(set,criteriaIndex){this.shouldDebug&&(this.failedCriteriaArr=[],this.setInfo="behavioral criteria - criteria "+criteriaIndex+": "+set.map((function(set){return set.activation})).join(","))},setActivationStatus:function(activation,passed){activation.status=passed,this.shouldDebug&&(passed||this.failedCriteriaArr.push(activation.type))},setCriteriaStatus:function(passed){if(this.shouldDebug){var msg=passed?" - passed":" - failed ("+this.failedCriteriaArr.join(",")+")";this.log(this.campaignId,this.setInfo+msg)}},log:function(campaignId,msg){if(this.shouldDebug){var data={group:"rtbc",message:msg,color:"#ff69b4",campaignId:campaignId};_logger.default.info(data)}}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _helpers=__webpack_require__(0),_bxInterval=_interopRequireDefault(__webpack_require__(10)),_browser=_interopRequireDefault(__webpack_require__(8));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default=function(){this.listeners={},this.register=function(listener){var id=(0,_helpers.getTimeMs)()+Math.random();return this.listeners[id]=listener,id},this.stop=function(id){this.listeners.hasOwnProperty(id)&&(this.listeners[id].stop(),delete this.listeners[id])},this.stopAll=function(){for(var id in this.listeners)this.stop(id)},this.on=function(target,event,callback,selector){var listener={event:event,selector:selector,stop:function(){bouncex.off(target,event+"."+listenerId,selector)}},listenerId=this.register(listener);return bouncex.on(target,event+"."+listenerId,callback,selector),listenerId},this.setInterval=function(callback){var bxIntervalId=_bxInterval.default.addTask(callback),listener={event:"bxInterval",stop:function(){_bxInterval.default.stopTask(bxIntervalId)}};return this.register(listener)},this.onTabVisible=function(callback){var listener={stop:function(){bouncex.off(bouncex.document,"visibilitychange."+listenerId)}},listenerId=this.register(listener);bouncex.on(bouncex.document,"visibilitychange."+listenerId,function(){_browser.default.currentTab.isVisible()&&(callback(),this.stop(listenerId))}.bind(this))},this.onTabVisibilityChange=function(callback){return this.on(bouncex.document,"visibilitychange",callback)},this.onScroll=function(callback){return this.on(bouncex.document,"scroll",callback)}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _time=__webpack_require__(7),_default={setSubmittedCookies:function(result,ca_id){bouncex.campaigns[ca_id].submitted=!0,bouncex.updateBounceCookie((function(cookie){cookie.campaigns[ca_id].ls=(0,_time.getTimeWithServerDiff)(),bouncex.campaigns[ca_id].is_ec&&(cookie.es=!0)}))}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.wndorientation=exports.wndsize=void 0;var obj,_helpers=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj};exports.wndsize=function(){var e=0,t=0;return window.innerWidth?(e=_helpers.default.minExceptZero([window.innerWidth,window.outerWidth]),t=_helpers.default.minExceptZero([window.innerHeight,window.outerHeight])):0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.body.clientWidth,t=document.body.clientHeight),{width:e,height:t}};exports.wndorientation=function(){return window.orientation}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};var _default={postMessage:function(message,campaign){_logger.default.warn({group:"Deprecated Function",message:"XD.postMessage is deprecated"})},receiveMessage:function(callback){_logger.default.warn({group:"Deprecated Function",message:"XD.receiveMessage is deprecated"})}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _scheduling=__webpack_require__(2),TabTalk={_flashTitle:function(campaignId,howManyTimes){var campaign=bouncex.campaigns[campaignId];howManyTimes=howManyTimes||5,TabTalk.cancelTitleUpdate(campaignId),function step(){campaign.custom_tab_title.flashOn?(campaign.custom_tab_title.flashOn=!1,campaign.custom_tab_title.formattedTitle&&(document.title=bouncex.originalTitle),TabTalk.changeFavicon(campaignId,!0)):(campaign.custom_tab_title.flashOn=!0,campaign.custom_tab_title.formattedTitle&&(document.title=campaign.custom_tab_title.formattedTitle),TabTalk.changeFavicon(campaignId,!1)),--howManyTimes>0&&(bouncex.events[campaignId].effect_timeout=(0,_scheduling.setTimeoutWrapper)(step,2e3))}()},_scrollTitle:function(campaignId,position){var campaign=bouncex.campaigns[campaignId];campaign.custom_tab_title.formattedTitle&&(position=position||0,TabTalk.cancelTitleUpdate(campaignId),function step(){var msg=campaign.custom_tab_title.formattedTitle+"  ";position>msg.length&&(position=0),document.title=msg.substr(position)+msg.substr(0,position),position+=3,bouncex.events[campaignId].effect_timeout=(0,_scheduling.setTimeoutWrapper)(step,1e3)}())},cancelTitleUpdate:function(campaignId){clearTimeout(bouncex.events[campaignId].effect_timeout),bouncex.originalTitle?document.title=bouncex.originalTitle:document.title="",delete bouncex.campaigns[campaignId].custom_tab_title.flashOn},changeFavicon:function(campaignId,toOrig){var campaign=bouncex.campaigns[campaignId];if(campaign.custom_tab_title.favicon_url){jQuery('link[rel~="icon"]').remove();var link=document.createElement("link");link.type=toOrig?"image/x-icon":campaign.linkType,link.rel="icon",link.href=toOrig?campaign.originalFavicon:campaign.custom_tab_title.favicon_url,document.getElementsByTagName("head")[0].appendChild(link)}},updateTitle:function(campaignId){var campaign=bouncex.campaigns[campaignId];bouncex.originalTitle=bouncex.originalTitle||document.title;var iconLink=jQuery('link[rel~="icon"]');campaign.originalFavicon=iconLink&&iconLink.attr("href")||"/favicon.ico",campaign.linkType=campaign.custom_tab_title.favicon_type||"image/x-icon";var effect=campaign.custom_tab_title.effect,flashTimes="flashForever"===effect?1/0:1;"scroll"===effect?TabTalk._scrollTitle(campaignId):TabTalk._flashTitle(campaignId,2*flashTimes-1),TabTalk.changeFavicon(campaignId,!1)}},_default=TabTalk;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStyle=void 0;exports.getStyle=function(element,property){var value="";return element.currentStyle?value=element.currentStyle[property]:window.getComputedStyle&&(value=document.defaultView.getComputedStyle(element,null).getPropertyValue(property)),value}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=Campaign,exports.campaignMethods=void 0;var _event=__webpack_require__(43),_deployment_type=__webpack_require__(68),_logger=_interopRequireDefault(__webpack_require__(1)),_browser=_interopRequireDefault(__webpack_require__(8)),_helpers=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Campaign(campaign,campaign_id){campaign&&Object.assign(this,campaign),campaign_id&&(this.id=campaign_id),this.__init()}function deployment(campaign){if("overlay"===campaign.type)return campaign.type;if(campaign.subtype)return campaign.subtype;try{var placementId=campaign.activePlacementId||Object.keys(campaign.gbi.placements)[0];return campaign.gbi.placements[placementId].deployment||null}catch(e){return null}}Object.assign(Campaign,{isGbi2Campaign:function(campaign){return!!(campaign&&campaign.gbi&&campaign.gbi.placements)}}),Object.assign(Campaign.prototype=Object.create(_event.EventTargetMixin,{constructor:Object.getOwnPropertyDescriptor(Campaign.prototype,"constructor")}),{isGBI2:!1,document:window.document,visibilityThreshold:.55,__init:function(){this.__init_eventTarget(),this.deployment=deployment(this),this.sortOrder=sortOrder(this),this.__assertCongruency(),this.deployment_type=(0,_deployment_type.DeploymentType)(this.deployment,this),this.domElementID="bx-campaign-".concat(this.id)},__assertCongruency:function(){if(!this.id)throw new TypeError("Campaign Congruency: ID missing");if(this.isGBI2!==Campaign.isGbi2Campaign(this))throw new TypeError("Campaign Congruency: (".concat(this.id,") GBI2 mismatch"))},getElement:function(){return this.document.getElementById(this.domElementID)},getElementSlab:function(){return this.document.querySelector("#".concat(this.domElementID," > .bx-slab"))},getContainer:function(){return this.document.querySelector("#".concat(this.domElementID," .bx-group-placeholder"))},clearContainer:function(){var container=this.getContainer();container&&(0,_helpers.emptyElement)(container)},getStyleSheet:function(){return this.document.getElementById("".concat(this.domElementID,"-style")).sheet},hide:function(unhide){!!this.hidden!=!unhide&&(this.getElementSlab().hidden=this.hidden=!unhide)},unhide:function(){this.hide(!0)},getClientRect:function(){var styleDisplay,element=this.getElement(),campaignCreative=this.document.getElementById("bx-creative-".concat(this.id))||this.getElementSlab()||element,isHidden=!campaignCreative.clientHeight;isHidden&&(styleDisplay=element.style.getPropertyValue("display"),element.style.setProperty("display","block","important"));var clientRect=campaignCreative&&campaignCreative.getBoundingClientRect();return isHidden&&(styleDisplay?element.style.setProperty("display",styleDisplay,""):element.style.removeProperty("display")),clientRect},getClientVisibility:function(){if("visible"!==this.document.visibilityState)return 0;var domRect=this.getClientRect(),visibility=_browser.default.viewport.clientVisibility(domRect);return null!==this.visibilityThreshold?visibility&&visibility>=this.visibilityThreshold:visibility},onClientVisible:function(callback){this.getClientVisibility()?callback():setTimeout(this.onClientVisible.bind(this),120,callback)},preclude:function(precludingCampaignID){this.repress(precludingCampaignID),this.suppress(precludingCampaignID)},repress:function(repressingCampaignID){this.repressed_by_ca_id=repressingCampaignID,this.repressed=!0},unrepress:function(){delete this.repressed_by_ca_id,delete this.repressed},suppress:function(suppressingCampaignID){this.supressed_by_ca_id=suppressingCampaignID,bouncex.close_ad(this.id,!0)},repressOthers:function(){this.getRepSuppressableCampaigns(this.repress_overlay,this.repress_top,this.repress_bottom).forEach((function(nca){nca.repress(this.id)}),this)},unrepressOthers:function(){Object.values(bouncex.campaigns).forEach((function(nca){this.id==nca.repressed_by_ca_id&&nca.unrepress()}),this)},suppressOthers:function(){var suppress_overlay=this.suppress_overlay||this.supress_overlay,suppress_top=this.suppress_top||this.supress_top,suppress_bottom=this.suppress_bottom||this.supress_bottom;this.getRepSuppressableCampaigns(suppress_overlay,suppress_top,suppress_bottom).forEach((function(nca){nca.suppress(this.id)}),this)},getRepSuppressableCampaigns:function(overlay,top,bottom){return overlay||top||bottom?Object.values(bouncex.campaigns).filter((function(nca){return this.id!==nca.id&&(overlay&&("none"!==nca.coverlay||"overlay"===nca.type)||top&&("none"!==nca.ctop||"nanobar"===nca.type||"floater"===nca.deployment)||bottom&&("none"!==nca.cbottom||"conversionbar"===nca.type))}),this):[]},log:function(message,type){_logger.default[type||"info"]({campaignId:this.id,message:message})}});var deploymentSortOrder={overlay:10,floater:20,masthead:30,infeed:40,encore:50,endcap:60,default:127};function sortOrder(campaign){var sortOrder=deploymentSortOrder[campaign.deployment];return null==sortOrder?deploymentSortOrder.default:sortOrder}var campaignMethods={deployment:deployment,sortOrder:sortOrder};exports.campaignMethods=campaignMethods},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.BXEventListener=BXEventListener,exports.BXScrollHandler=BXScrollHandler,exports.EventTargetMixin=void 0;var _helpers=__webpack_require__(0);function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function BXEventListener(target,type,handler,options){return this.__init(target,type,handler,options),this.add()}Object.assign(BXEventListener,{remove:function(listener){return!!(listener&&listener instanceof BXEventListener)&&listener.remove()}}),Object.assign(BXEventListener.prototype,{__init:function(target,type,handler,options){this.target=target,this.type=type,this.handler=handler,this.options=options;var handleEvent="function"==typeof handler?"handleEventFn":"handleEventObj";return this.handleEvent=this[handleEvent],this},handleEventFn:function(event){return this.handler(event,this)},handleEventObj:function(event){return this.handler.handleEvent(event,this)},add:function(){return this.target.addEventListener(this.type,this,this.options),this},remove:function(){return this.target.removeEventListener(this.type,this,this.options),this}});var EventTargetMixin={document:window.document,__init_eventTarget:function(eventTarget){return this.eventTarget=eventTarget||this.document.createElement("div")},on:function(eventType,handler,options){return new BXEventListener(this.eventTarget,eventType,handler,options)},off:function(eventType,handler,options){return this.eventTarget.removeEventListener(eventType,handler,options)},dispatchEvent:function(eventType,detail){var event=new CustomEvent(eventType,{bubbles:!0,detail:detail});return this.eventTarget.dispatchEvent(event)},once:function(eventType,handler,options){var newOptions={once:!0};return options&&"object"===_typeof(options)?newOptions=Object.assign({},options,newOptions):void 0!==options&&(newOptions.capture=!!options),this.on(eventType,handler,newOptions)}};function BXScrollHandler(handler){return BXScrollHandler.hasInitialized||BXScrollHandler.init(),new BXEventListener(window,BXScrollHandler.eventType,handler,{capture:!1,passive:!0})}exports.EventTargetMixin=EventTargetMixin,Object.assign(BXScrollHandler,{eventType:"scroll.bx",hasInitialized:!1,scrollListener:null,init:function(){BXScrollHandler.hasInitialized=!0,BXScrollHandler.windowProps=new _helpers.WindowProps,BXScrollHandler.scrollListener=new BXEventListener(window,"scroll",BXScrollHandler.delayedScrollHandler,{capture:!1,passive:!0})},delayedScrollHandler:function(){BXScrollHandler.ticking||(BXScrollHandler.ticking=!0,setTimeout(window.requestAnimationFrame,120,BXScrollHandler.scrollHandler))},scrollHandler:function(){BXScrollHandler.ticking=!1;var windowProps=BXScrollHandler.windowProps.refresh(),scrollPixelSpeed=windowProps.previous.scrollY-windowProps.scrollY,scrollPageSpeed=windowProps.previous.scrollPageY-windowProps.scrollPageY;if(scrollPixelSpeed){var event=new CustomEvent("scroll.bx",{bubbles:!0,cancelable:!1,detail:{pos:windowProps.scrollY,speed:Math.abs(scrollPageSpeed),pixelSpeed:Math.abs(scrollPixelSpeed),fast:Math.abs(scrollPageSpeed)>22,direction:scrollPixelSpeed<0?"down":"up"}});window.dispatchEvent(event)}}})},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=FrameWatcher;var fw_constants_loadCompleteEventName="loadComplete.bx",fw_constants_loadSuccessEventName="loadSuccess.bx",fw_constants_adInterventionEventName="adIntervention.bx",fw_constants_checkLoadCompleteIntervalDelay=1e3,fw_constants_watchFrameAssetsIntervalDelay=100,fw_constants_observerConfig={childList:!0,subtree:!0,attributes:!0,characterData:!0},fw_constants_enum={FrameWatcher:{lastChanged:null,loadComplete:!1,loadFailed:!1,frameList:null,frameElement:null,startTime:null,completeTime:null,loadDelay:null,impressTime:null},__FrameWatcher:{id:null,lastChanged:null,creative:null,loaded:!1,blocked:!1,failed:!1,startTime:null,completeTime:null,frameElement:null,childFrameList:null},__FrameWatcher__PropertyDescriptors:{document:{enumerable:!1,writable:!0},outerFrame:{enumerable:!1,writable:!0},parentFrame:{enumerable:!1,writable:!0},__innerFrames:{enumerable:!1,writable:!0}}};function FrameWatcher(frameElement){if(!(this instanceof FrameWatcher))return new FrameWatcher(frameElement);Object.assign(this,fw_constants_enum.FrameWatcher),this.__init(),frameElement&&(this.frameElement=frameElement,this.watch(frameElement))}function __FrameWatcher(outerFrame,frameElement,parentFrame){Object.assign(this,fw_constants_enum.__FrameWatcher),Object.defineProperties(this,fw_constants_enum.__FrameWatcher__PropertyDescriptors),this.frameElement=frameElement,this.outerFrame=outerFrame,this.parentFrame=parentFrame,this.id=outerFrame.frameList.length+1,this.__init()}function interceptSrc(element,srcRegex){if(!element.hasOwnProperty("unwrapInterceptor")&&"src"in element){var oldSrc=element.src,newSrc=element.hasAttribute("src")?oldSrc:null;return Object.defineProperty(element,"src",{enumerable:!0,configurable:!0,get:function(){return oldSrc},set:function(value){(newSrc=String(value),srcRegex.test(value))||this.unwrapInterceptor();return newSrc}}),Object.defineProperty(element,"unwrapInterceptor",{enumerable:!1,configurable:!0,value:function(unwrapRgx){return!(unwrapRgx&&!unwrapRgx.test(newSrc))&&(delete this.unwrapInterceptor,delete this.src,null!==newSrc&&(this.src=newSrc),!0)}}),element}}FrameWatcher.prototype={__init:function(){this.topFrame=null,this.frameList=[],this.startTime=new Date,this.__loadCompleteEvent=new CustomEvent(fw_constants_loadCompleteEventName,{bubbles:!1,bxFrameWatcher:this}),this.__loadSuccessEvent=new CustomEvent(fw_constants_loadSuccessEventName,{bubbles:!1,bxFrameWatcher:this}),this.__adInterventionEvent=new CustomEvent(fw_constants_adInterventionEventName,{bubbles:!1,bxFrameWatcher:this}),this.__checkLoadCompleteInterval=setInterval(this.checkLoadComplete.bind(this),fw_constants_checkLoadCompleteIntervalDelay)},touch:function(){this.lastChanged=new Date},watch:function(frameElement,parentFrame){var fw=new __FrameWatcher(this,frameElement,parentFrame);return null===this.topFrame&&(this.topFrame=fw),frameElement.dataset.bxFrameWatcherId=fw.id=this.frameList.push(fw),fw},checkLoadComplete:function(){if(this.loadComplete)return this.__loadComplete();var status=this.__checkLoadStatus(),intervalDelay=fw_constants_checkLoadCompleteIntervalDelay,msLastChanged=this.lastChanged&&new Date-this.lastChanged;(status.loadComplete||status.domComplete&&msLastChanged>=intervalDelay)&&this.__loadComplete(status.loadFailed||status.loadBlocked)},__checkLoadStatus:function(){var domIncompleteFrames=0,noncreativeStatus={count:0,pending:!1,loaded:!1,blocked:!1,failed:!1},creativeStatus={count:0,pending:!1,loaded:!1,blocked:!1,failed:!1};this.frameList.forEach((function(f){var status=f.creative?creativeStatus:noncreativeStatus;status.count++,f.creativeLoaded()?status.loaded=!0:(status[(f.failed?"failed":f.isBlocked()&&"blocked")||f.loaded&&"loaded"||"pending"]=!0,domIncompleteFrames+=!f.domComplete())}));var hasCreatives=creativeStatus.count>0,status=hasCreatives?creativeStatus:noncreativeStatus;return{loadFailed:status.failed&&(hasCreatives||!status.pending||!domIncompleteFrames),loadBlocked:status.blocked,loadComplete:status.loaded&&!status.pending,domComplete:status.count&&!domIncompleteFrames}},__loadComplete:function(loadFailed){this.loadComplete||(this.loadComplete=!0,this.loadFailed=!!loadFailed,this.completeTime=new Date,this.topFrame&&this.topFrame.loaded&&(this.startTime=this.topFrame.startTime),this.__calcLoadDelay(),setTimeout(this.dispatchEvent.bind(this),0,this.__loadCompleteEvent),this.loadFailed||setTimeout(this.dispatchEvent.bind(this),0,this.__loadSuccessEvent)),this.__cleanup()},impressionStart:function(impressTime){this.impressTime=impressTime||new Date,this.loadComplete&&this.__calcLoadDelay()},__calcLoadDelay:function(){var startTime=Math.max(this.impressTime,this.startTime);this.loadDelay=Math.max(this.completeTime-startTime,0)},__cleanup:function(){this.loadComplete=!0,this.frameList.forEach((function(f){f.__cleanup()}));try{this.__checkLoadCompleteInterval&&clearInterval(this.__checkLoadCompleteInterval)}catch(e){}this.__checkLoadCompleteInterval=null},get loadSucceeded(){return this.loadComplete&&!this.loadFailed},addEventListener:function(){return this.frameElement.addEventListener.apply(this.frameElement,arguments)},removeEventListener:function(){return this.frameElement.removeEventListener.apply(this.frameElement,arguments)},dispatchEvent:function(){return this.frameElement.dispatchEvent.apply(this.frameElement,arguments)},reportAdIntervention:function(frame,reports,observer){this.intervention||(this.intervention={frame:frame,reports:reports},this.dispatchEvent(this.__adInterventionEvent),this.__loadComplete(!0))},interceptElements:function(interceptRgx){return this.topFrame.interceptElements(interceptRgx)},unwrapInterceptor:function(unwrapRgx){return this.topFrame.unwrapInterceptor(unwrapRgx)}},__FrameWatcher.prototype={__init:function(){this.childFrameList=[],this.__mutationObserver=new MutationObserver(this.touch.bind(this));var ready=this.ready.bind(this),fn_error=this.onLoadError.bind(this);this.frameElement.addEventListener("load",ready,!1),this.frameElement.addEventListener("error",fn_error,!1),this.__watchFrameAssetsInterval=setInterval(this.watchFrameAssets.bind(this),fw_constants_watchFrameAssetsIntervalDelay),ready()},__init_document:function(){if(this.document=this.frameElement.contentDocument,this.startTime=new Date,this.loaded=!1,this.blocked=!1,this.failed=!1,this.__childFrameCount=0,this.__mutationObserver.disconnect(),this.document){this.__mutationObserver.observe(this.document,fw_constants_observerConfig),this.__innerFrames=this.document.getElementsByTagName("iframe");var isurl=new RegExp(/^(https?:|)\/\//i),fn_error=function(event){!this.creative&&"IMG"!==event.target.tagName&&event.target.src&&isurl.test(event.target.src)&&this.onLoadError()}.bind(this);this.document.addEventListener("error",fn_error,!0),this.listenAdIntervention()}else this.__innerFrames=null;this.touch()},ready:function(loadEvent){if(this.loadComplete)return!0;loadEvent?(this.touch(),this.document!==this.frameElement.contentDocument?this.__init_document():this.listenAdIntervention(),this.document||this.onFrameLoaded()):this.__init_document(),this.watchFrameAssets()},domComplete:function(){return!(!this.loaded&&!this.loadComplete)||(this.creative?this.failed||this.creativeLoaded():this.document?"complete"===this.document.readyState:this.parentFrame?this.parentFrame.domComplete():"complete"===this.frameElement.ownerDocument.readyState)},touch:function(){this.creative||(this.__hasChanged=!0,this.lastChanged=new Date,this.outerFrame.touch())},watch:function(frameElement){var fw=this.outerFrame.watch(frameElement,this);return this.childFrameList.push(fw),fw},interceptElements:function(interceptRgx){this.frameElement.contentDocument?(this.intercepted||(this.intercepted=[]),this.intercepted.push(function(contentDocument,interceptRgx){var interceptTxt="^(?:https?:)?//(?:".concat(interceptRgx.source,")"),srcRegex=new RegExp(interceptTxt,"i"),intercepted=new Set;return intercepted.origCreateElement=contentDocument.createElement,intercepted.hasOwnCreateElement=contentDocument.hasOwnProperty("createElement"),intercepted.contentDocument=contentDocument,contentDocument.createElement=function(){var element=intercepted.origCreateElement.apply(this,arguments);return interceptSrc(element,srcRegex)&&intercepted.add(element),element},intercepted.unwrapInterceptor=function(currentDocument,unwrapRgx){var unwrapRegex=unwrapRgx&&new RegExp(unwrapRgx,"i");contentDocument&&!unwrapRegex&&(this.hasOwnCreateElement?contentDocument.createElement=this.origCreateElement:delete contentDocument.createElement),this.forEach((function(element){element&&element.hasOwnProperty("unwrapInterceptor")&&element.unwrapInterceptor(unwrapRegex)&&currentDocument&&element.ownerDocument!==currentDocument&&currentDocument.body.appendChild(element)}))},intercepted}(this.frameElement.contentDocument,interceptRgx))):setTimeout(this.interceptElements.bind(this,interceptRgx),25)},unwrapInterceptor:function(unwrapRgx){if(this.intercepted){var currentDocument=this.document;this.intercepted.forEach((function(intercepted){intercepted.unwrapInterceptor(currentDocument,unwrapRgx)}))}},watchFrameAssets:function(){if(this.loadComplete)return this.onFrameLoaded();this.document!==this.frameElement.contentDocument&&this.__init_document(),this.__hasChanged&&!this.getCreative()&&this.watchInnerFrames(),this.loaded||this.checkFrameLoaded(),this.__hasChanged=!1},checkFrameLoaded:function(){if(this.domComplete()){var intervalDelay=fw_constants_watchFrameAssetsIntervalDelay;this.lastChanged<=new Date-intervalDelay&&this.onFrameLoaded()}},getCreative:function(){if(this.creative)return this.creative;var creative=this.getCeltraCreative()||this.getVideoCreative();return creative&&this.watchCreative(creative)},watchCreative:function(creative){return this.creative=creative,this.failed=!1,this.loaded=this.creativeLoaded(),this.loaded?this.onFrameLoaded():this.listenCreativeLoaded(),creative},getCeltraCreative:function(){if(this.document&&this.frameElement.contentWindow&&this.frameElement.contentWindow.celtra){var celtraCreative=this.document.querySelectorAll(".celtra-ad-v3, .celtra-ad-v4")[0];if(celtraCreative&&celtraCreative.celtra)return celtraCreative}return null},getVideoCreative:function(){var videoCreative=this.document?this.document.getElementsByTagName("VIDEO")[0]:"VIDEO"===this.frameElement.tagName&&this.frameElement;return videoCreative?{video:videoCreative}:null},listenCreativeLoaded:function(){this.creative.celtra?(this.creative.addEventListener("celtraLoaded",this.onFrameLoaded.bind(this),!1),this.creative.addEventListener("celtraError",this.onLoadError.bind(this),!1)):this.creative.video&&(this.creative.video.addEventListener("loadstart",this.onLoadStarted.bind(this),!1),this.creative.video.addEventListener("loadeddata",this.onFrameLoaded.bind(this),!1),this.creative.video.addEventListener("error",this.onLoadError.bind(this),!1))},creativeLoaded:function(){if(this.failed||!this.creative)return!1;if(this.creative.celtra)return this.creative.celtra.loaded;if(this.creative.video){var v=this.creative.video;return v.src?v.readyState&&v.readyState>1:v.buffered.length>0}return!1},watchInnerFrames:function(){var iframes=this.document&&this.__innerFrames;if(iframes&&iframes.length!==this.__childFrameCount){this.__childFrameCount=iframes.length;for(var i=0;i<iframes.length;i++){var iframe=iframes[i];iframe.dataset.bxFrameWatcherId||this.watch(iframe)}}},isBlocked:function(){return!0!==this.blocked&&this.document?!!this.document.querySelector("div.GoogleActiveViewClass > div[style*=iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAAGWvHq], div.GoogleActiveViewElement > div[style*=iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAAGWvHq]")&&(this.blocked=!0):this.blocked},onFrameLoaded:function(){return setTimeout(this.outerFrame.checkLoadComplete.bind(this.outerFrame),0),this.completeTime=new Date,this.loaded=!0},onLoadError:function(){this.failed=!0,this.domComplete()&&setTimeout(this.outerFrame.checkLoadComplete.bind(this.outerFrame),0)},onLoadStarted:function(){return this.loadComplete||(this.startTime=new Date),!0},get loadComplete(){return this.outerFrame.loadComplete},__cleanup:function(){try{this.__watchFrameAssetsInterval&&clearInterval(this.__watchFrameAssetsInterval),this.__mutationObserver&&this.__mutationObserver.disconnect()}catch(e){}this.loaded=this.loadComplete||!this.document,this.__watchFrameAssetsInterval=null},listenAdIntervention:function(){var contentWindow=this.frameElement.contentDocument&&this.frameElement.contentWindow;if(contentWindow&&contentWindow.ReportingObserver){var ReportingObserver=contentWindow.ReportingObserver,reportAdIntervention=this.reportAdIntervention.bind(this),observer=new ReportingObserver(reportAdIntervention,{types:["intervention"]});observer.observe(),contentWindow.addEventListener("unload",(function(){var reports=observer.takeRecords();reportAdIntervention(reports,observer)}),!0)}},reportAdIntervention:function(reports,observer){if(!this.intervention&&reports&&reports.length)return this.intervention=reports,this.outerFrame.reportAdIntervention(this,reports,observer)}}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _eventStream=_interopRequireDefault(__webpack_require__(3)),_debug=_interopRequireDefault(__webpack_require__(5)),_logger=_interopRequireDefault(__webpack_require__(1)),_scheduling=__webpack_require__(2),_url=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ComplianceChecks={init:function(){this.onFailure=bouncex.destroyAll,this.onSuccess=bouncex.serviceReady,this._checkComplianceIntegrations()},_checkComplianceIntegrations:function(){for(var integrationName in this._finished=!1,this._integrations)if(this._integrations.hasOwnProperty(integrationName)){var integration=this._integrations[integrationName];this._setIntegrationActions(integration.name),this._initIntegration(integration)}},_hasFailingIntegration:function(){for(var integrationName in this._integrations){if(this._integrations.hasOwnProperty(integrationName))if(!this._integrations[integrationName].passed)return!0}return!1},_initIntegration:function(integration){delete integration.passed,integration.init()},_integrationPassed:function(){this._finished||this._hasFailingIntegration()||(this.compliancePassed=!0,this._finished=!0,this.onSuccess("compliance check"))},_integrationFailed:function(integrationName){this.compliancePassed=!1,this._finished=!0,this.onFailure(integrationName)},_setIntegrationActions:function(integrationName){var integration=this._integrations[integrationName];for(var action in this._integrationActions)integration[action]=this._integrationActions[action].bind(this,integration)},_integrationActions:{log:function(integration,msg){this._log(integration.name,msg)},failsCheckInEU:function(integration,msg){if(!0===bouncex.gdprApplies||bouncex.state&&bouncex.state.gdpr)return integration.failsCheck(msg);bouncex.complianceFlag=bouncex.complianceFlag||"gdpr_no_consent",integration.passesCheck(msg)},failsCheckInCA:function(integration,msg){if(!0===integration.ccpaApplies)return integration.failsCheck(msg);integration.passesCheck(msg)},passesCheck:function(integration,msg){integration.passed=!0,this._log(integration.name,msg,!1),this._integrationPassed()},failsCheck:function(integration,msg){integration.passed=!1,(0,_scheduling.setTimeoutWrapper)(function(){ComplianceChecks._finished||(bouncex.complianceFlag="no_consent",this._log(integration.name,msg,!0),this._integrationFailed(integration.name))}.bind(this),5e3)}},_integrations:{ccpa:{name:"ccpa",init:function(){if(!window.__uspapi)return this.ccpaApplies=!1,this.passesCheck("CCPA does not apply");window.__uspapi("getUSPData",1,function(uspData,success){return success&&this.hasOptedOut(uspData)?this.failsCheckInCA(this.name,"user has opted out"):this.passesCheck("user has not opted out or CCPA N/A")}.bind(this))},hasOptedOut:function(data){return!(!data||!data.uspString||"Y"!==data.uspString.charAt(2))&&(this.ccpaApplies=!0,!0)}},iab_cmp:{name:"iab_cmp",bxVendorId:256,bxPurposeIds:[1],init:function(){if(this.cmpVersion=null,this.consentEventData={"consent:timeStamp":Date.now()},window.__tcfapi)this.cmpVersion=2,this.addTcf();else{if(!window.__cmp)return this.consentEventData["consent:hasConsent"]="no cmp",this.passesCheck("no __cmp");this.cmpVersion=1,this.getVendorConsents()}this.pingTimeout=(0,_scheduling.setTimeoutWrapper)(function(){this.failsCheckInEU("ping timed out")}.bind(this),200),this.pingCMP()},gdprApplies:function(gdpr){return!1===gdpr||"false"===gdpr?bouncex.gdprApplies=!1:!0!==gdpr&&"true"!==gdpr||(bouncex.gdprApplies=!0),bouncex.gdprApplies},addTcf:function(){window.__tcfapi("addEventListener",2,_debug.default.tryCatch(function(tcData,success){if(this.consentEventData["consent:tcData"]=(0,_url.qs)(tcData),this.getVendorConsentsCalled=!0,!success)return this.failsCheckInEU("success false");var gdprApplies=this.gdprApplies(tcData.gdprApplies);if(gdprApplies){if(!this.consentPasses(tcData.vendor.consents[this.bxVendorId]))return;for(var i=0;i<this.bxPurposeIds.length;i++){var purposeConsentId=this.bxPurposeIds[i];if(!this.consentPasses(tcData.purpose.consents[purposeConsentId]))return}this.consentEventData["consent:hasConsent"]=!0,this.passesCheck("checks passed")}else!1===gdprApplies&&this.passesCheck("gdpr does not apply")}.bind(this)))},pingCMP:function(){this.firstTime=this.firstTime||Date.now(),1===this.cmpVersion?window.__cmp("ping",null,_debug.default.tryCatch(this.pingHandler.bind(this))):2===this.cmpVersion&&window.__tcfapi("ping",2,_debug.default.tryCatch(this.pingHandler.bind(this)))},pingHandler:function(result,success){if(clearTimeout(this.pingTimeout),!this._finished){if(!result||!success&&1===this.cmpVersion)return this.failsCheckInEU("ping success false");var gdprApplies=this.gdprApplies(result.gdprApplies);if(!gdprApplies){if(!1===gdprApplies)return this.passesCheck("gdpr does not apply");if(Date.now()-this.firstTime>=2e3)return this.getVendorConsentsCalled?this.failsCheckInEU("gdpr consent unknown"):this.passesCheck("cmp not loaded in time");(0,_scheduling.setTimeoutWrapper)(this.pingCMP.bind(this),200)}}},getVendorConsents:function(){window.__cmp("getVendorConsents",[this.bxVendorId],_debug.default.tryCatch(function(consent,success){if(this.getVendorConsentsCalled=!0,!success)return this.failsCheckInEU("success false");var gdprApplies=this.gdprApplies(consent.gdprApplies);if(gdprApplies){if(!this.consentPasses(consent.vendorConsents[this.bxVendorId]))return;for(var i=0;i<this.bxPurposeIds.length;i++){var purposeConsentId=this.bxPurposeIds[i];if(!this.consentPasses(consent.purposeConsents[purposeConsentId]))return}this.passesCheck("checks passed")}else!1===gdprApplies&&this.passesCheck("gdpr does not apply")}.bind(this)))},consentPasses:function(consent){return!0===consent||(!1===consent?this.failsCheck("fails consent"):this.failsCheckInEU("unexpected response"),!1)},report:function(){(!0===bouncex.gdprApplies||bouncex.state&&bouncex.state.gdpr)&&_eventStream.default.report("cmp",this.consentEventData)}}},_log:function(integration,msg,fail){var data={group:"compliance",message:integration+": "+msg};fail?_logger.default.error(data):_logger.default.info(data)},report:function(){for(var integration in this._integrations)"function"==typeof this._integrations[integration].report&&this._integrations[integration].report()}},_default=ComplianceChecks;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _perf=_interopRequireDefault(__webpack_require__(12)),_eventSharingCartridge=_interopRequireDefault(__webpack_require__(34)),_eventStream=_interopRequireDefault(__webpack_require__(3)),_phoneNumber=_interopRequireDefault(__webpack_require__(28)),_time=__webpack_require__(7),_helpers=__webpack_require__(0);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Conversion={report:function(obj,source){obj=obj||{},source=source||"async",Conversion.sync(obj,source)},sync:function sync(obj,source){_perf.default.times("conversion"),obj=obj||{},source=source||"sync",_eventSharingCartridge.default.send({eventName:source,data:obj,type:"conversion"}),bouncex.cookie=bouncex.getBounceCookie();var bamount=void 0===obj.amount?0:obj.amount,border_id=void 0===obj.order_id?"":obj.order_id,bemail=void 0===obj.email?"":obj.email,bgoal=void 0===obj.goal?"":obj.goal,sid=_eventStream.default.nextSequenceId(),pvid=bouncex.state?bouncex.state.pvid:bouncex.cookie.vpv+1,url=bouncex.sau+"/capture/convert.gif?m="+bouncex.cookie.m+"&d="+bouncex.cookie.d+"&goal="+encodeURIComponent(bgoal)+"&email="+encodeURIComponent(bemail)+"&email_sha256="+(obj.email_sha256?encodeURIComponent(obj.email_sha256):"")+"&order_id="+encodeURIComponent(border_id)+"&amount="+encodeURIComponent(bamount)+"&website_id="+bouncex.website.id+"&visit_id="+bouncex.cookie.vid+"&device_id="+bouncex.cookie.did+"&pvid="+pvid+"&sid="+sid+"&cts="+(0,_helpers.getTimeMs)()+"&source="+source+"&cookie="+escape(bouncex.stringify(bouncex.cookie))+"&"+bouncex.ibx.conv_params();if(_phoneNumber.default.isValid(obj.phone)){var sanitizedNumber=_phoneNumber.default.sanitize(obj.phone);sanitizedNumber?(url+="&phone="+encodeURIComponent(sanitizedNumber),url+="&phone_sha256="+_phoneNumber.default.toSha256(sanitizedNumber)):url+="&phone_unmatched="+encodeURIComponent(obj.phone)}bouncex.cookie.t&&(url+="&testmode="+bouncex.cookie.t),bouncex.dg&&bouncex.dg.hardID&&(url+="&hard_id="+bouncex.dg.hardID),bouncex.dg&&bouncex.dg.softID&&(url+="&soft_id="+bouncex.dg.softID);var urlLengthLimit=32e3,newUrl=url+"&extradata="+escape(bouncex.stringify(obj));newUrl.length<urlLengthLimit&&(url=newUrl);var img=document.createElement("img");if(img.alt="conversion pixel",img.src=url,bouncex.website.tcjs)try{eval(bouncex.website.tcjs)}catch(err){bouncex.err(err,{source:"bouncex.website.tcjs"})}if(bouncex.website.ibx.te&&1===bouncex.website.ibx.te)try{eval(bouncex.website.ibx.cjs)}catch(err){bouncex.err(err,{source:"bouncex.website.ibx.cjs"})}bouncex.updateBounceCookie((function(cookie){cookie.lc=(0,_time.getTimeWithServerDiff)()}))}},_default=Conversion;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _customVariables=_interopRequireDefault(__webpack_require__(17)),_eventStream=_interopRequireDefault(__webpack_require__(3)),_xhr=_interopRequireDefault(__webpack_require__(75)),_perf=_interopRequireDefault(__webpack_require__(12)),_logger=_interopRequireDefault(__webpack_require__(1)),_helpers=__webpack_require__(0),_scheduling=__webpack_require__(2),_url=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DeviceGraph={init:function(){bouncex.website.dgp&&(this.dg_timeout=(0,_scheduling.setTimeoutWrapper)((function(){_customVariables.default.evalVars("devicegraph"),bouncex.err("dg timeout")}),3e3)),this.initPostDeviceGraph(null)},initPostDeviceGraph:function(error,json){_perf.default.times("initPostDeviceGraph"),null===error?(void 0!==json&&json.IDs&&(this.idTime=(0,_helpers.getTimeMs)(),this.json=json,this.softID=json.IDs.deviceID,this.hardID=json.IDs.cookieID,!json.info.firstLoad&&bouncex.cookie.dgFirstLoad||(bouncex.updateBounceCookie({dgFirstLoad:!0}),bouncex.website.pde&&this.previousCustomerLookup()),DeviceGraph.assignCookieDGids()),void 0!==bouncex.state&&void 0!==this.json&&(json=this.json,bouncex.perf.manualTiming("bxid",this.idTime),bouncex.website.dgp&&(clearTimeout(this.dg_timeout),this.store=bouncex.parseJSON(json.cookie),this._replenishCookie(),_customVariables.default.evalVars("devicegraph")))):this.handleError(error)},getAdsOptStatus:function(error,json){if(null===error){var deviceId=json.deviceID||json.IDs.deviceID;window.bouncex.gbi.deviceOptedStatus=deviceId||""}},previousCustomerLookup:function(){if(!bouncex.gdpr_opt_out){_perf.default.times("pd-start2");var pdBaseURL="https://pd.cdnwidget.com";"development"!==bouncex.env&&"staging"!==bouncex.env||(pdBaseURL="https://pd.stg.cdnwidget.com");var pdURL=pdBaseURL+"/lookup?deviceID="+this.softID+"&cookieID="+this.hardID+"&bxwid="+bouncex.website.id;(0,_xhr.default)({url:pdURL,type:"GET",then:function(resp){var subcribeOptions={name:"deviceGraph",callback:function(name){bouncex.unsubscribeFromCookie(name);try{bouncex.serviceReady("graph callback")}catch(e){var msg={group:"Device Graph",message:e};_logger.default.error(msg)}}};bouncex.subscribeToCookie(subcribeOptions),bouncex.updateBounceCookie({dg:resp})},catch:this.handleError,finally:function(){_perf.default.times("pd-stop2")}})}},_replenishCookie:function(){var updatedValues=[],previousCvars=bouncex.stringify(bouncex.cookie.v);if(this.store&&this.store.v)for(var name in this.store.v)if(this.store.v.hasOwnProperty(name)&&bouncex.cookie.v[name]!==this.store.v[name]){if(void 0===_customVariables.default.getVar(name)){delete this.store.v[name];continue}updatedValues.push(name),bouncex.setv(name,this.store.v[name])}if(updatedValues.length){bouncex.reload_campaigns("device_graph_hydration",updatedValues.join(","));var dg_hydrate_params={hydrated_deviceid:this.store.did,hydrated_visitid:this.store.vid,hydrated_cookie:bouncex.stringify(this.store),cookie:bouncex.stringify(bouncex.cookie),hydrated_cvar:bouncex.stringify(this.store.v),previous_cvar:previousCvars};_eventStream.default.report("device_graph_hydration",dg_hydrate_params)}},updateDeviceGraphCookie:function(){this.store.did=bouncex.cookie.did,this.store.vid=bouncex.cookie.vid;var updateParams={bxwid:bouncex.website.id,deviceID:this.softID,obj:encodeURIComponent(bouncex.stringify(this.store))};jQuery.ajax({type:"GET",url:"https://ids.cdnwidget.com/u?"+(0,_url.qs)(updateParams),error:function(){bouncex.err("device graph update failed")}})},handleError:function(error){bouncex.updateBounceCookie({dgFirstLoad:!0});var msg={group:"Device Graph",message:error};_logger.default.error(msg),bouncex.serviceReady("graph callback")},assignCookieDGids:function(){bouncex.updateBounceCookie((function(cookie){bouncex.website.dge&&cookie&&bouncex.dg&&(!bouncex.dg.hardID||cookie.hardID===bouncex.dg.hardID&&cookie.softID===bouncex.dg.softID?!bouncex.dg.hardID&&cookie.hardID&&(bouncex.dg.hardID=cookie.hardID,bouncex.dg.softID=cookie.softID):(cookie.hardID=bouncex.dg.hardID,cookie.softID=bouncex.dg.softID))}))}},_default=DeviceGraph;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeTestModeItems=void 0;var _helpers=__webpack_require__(0);exports.removeTestModeItems=function(item){var collection={page_types:bouncex.website.pt,cvars:bouncex.website.vars}[item];if(!(0,_helpers.visitorTestMode)(item))if(bouncex.removedItems=bouncex.removedItems||{},bouncex.removedItems[item]=[],Array.isArray(collection))collection=collection.filter((function(v){return v.testmode&&bouncex.removedItems[item].push(v.name),!v.testmode}));else for(var name in collection)collection.hasOwnProperty(name)&&collection[name].testmode&&(bouncex.removedItems[item].push(name),delete collection[name]);return collection}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _debug=_interopRequireDefault(__webpack_require__(5)),_logger=_interopRequireDefault(__webpack_require__(1)),_phoneNumber=_interopRequireDefault(__webpack_require__(28));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={_captureContexts:[],_hasSentEvent:!1,_inputExclusionIdentifiers:["[type=button]","[type=submit]","[type=reset]","[type=hidden]","[type=radio]","[type=checkbox]","[type=image]","[type=password]"],_submitIdentifiers:[["[type=submit]","[class*=submit]","[id*=submit]"],["[type=button]","[class*=button]","button"],["a"]],_addCaptureListeners:function(){this._log("adding capture context listeners");var self=this;this._captureContexts.forEach((function(captureContext){var eventHandler=_debug.default.tryCatch((function(){self._log("submit detected; checking input value");var value=captureContext.input.value;value&&bouncex.utils.validate.email(value)?(self._log("email detected"),self._trackUser(value,captureContext.input.id)):self._log("no email detected")}));captureContext.submit.addEventListener("click",eventHandler),captureContext.input.addEventListener("keydown",(function(e){"Enter"!==e.code&&13!==e.keyCode||eventHandler()}))}))},_addCustomCaptureContexts:function(){var customElements=bouncex.website.els,customPairs={},exclusions=this._getExclusionIdentifiers(bouncex.website.fmx);if(customElements&&Object.keys(customElements).length>0)for(var key in customElements){if(key.indexOf("native_capture_input")>-1){var inputSelector=customElements[key]+":not("+exclusions+")",input=jQuery(inputSelector).get(0);customPairs[objKey=this._customElemObjKey(key,"native_capture_input")]=customPairs[objKey]?customPairs[objKey]:{},customPairs[objKey].input=input}if(key.indexOf("native_capture_submit")>-1){var objKey,trigger=jQuery(customElements[key]).get(0);customPairs[objKey=this._customElemObjKey(key,"native_capture_submit")]=customPairs[objKey]?customPairs[objKey]:{},customPairs[objKey].submit=trigger}}for(var pair in customPairs)customPairs[pair].input&&customPairs[pair].submit&&this._captureContexts.push({input:customPairs[pair].input,submit:customPairs[pair].submit})},_customElemObjKey:function(key,searchKey){return key.replace(searchKey,"")+"_"},_getExclusionIdentifiers:function(customExclusions){var identifiers=this._inputExclusionIdentifiers.slice();return customExclusions?identifiers.concat(customExclusions.split(",").map((function(exclusion){return exclusion.trim()}))):identifiers},_getInputSelector:function(){var selector="input";return this._getExclusionIdentifiers(bouncex.website.fmx).forEach((function(exclusion){selector+=":not("+exclusion+")"})),selector},_initCaptureContexts:function(inputFields){for(var i=0;i<inputFields.length;i++)submissionIdentifierLoop:for(var j=0;j<this._submitIdentifiers.length;j++)for(var submitString=this._submitIdentifiers[j].join(","),currentNode=inputFields[i].parentNode,k=0;k<10&&currentNode;k++){var result=currentNode.querySelector(submitString);if(result){this._captureContexts.push({input:inputFields[i],submit:result});break submissionIdentifierLoop}currentNode=currentNode.parentNode}},_log:function(message){_logger.default.info({group:"capture",message:message})},_trackUser:function(email,inputFieldId){if(this._hasSentEvent)return!1;this._log("sending user event");var data={email:email,source:"input_submission"};inputFieldId&&(data.input_id=inputFieldId),bouncex.push(["user",data]),this._hasSentEvent=!0},init:function(){this._log("initializing native capture"),this._addCustomCaptureContexts();var inputSelector=this._getInputSelector(),inputFields=jQuery(inputSelector).get();if(!this._captureContexts.length&&!inputFields.length)return this._log("no input fields found"),!1;this._log("searching for capture contexts"),this._initCaptureContexts(inputFields),this._captureContexts.length?(this._log("found "+this._captureContexts.length+" capture contexts"),this._addCaptureListeners()):this._log("no capture contexts found")},activateFieldMapping:function(){var selector="input:not([type=button],[type=submit],[type=reset],[type=hidden],[type=radio],[type=checkbox],[type=image],[type=password], #privy-container input, #dwfrm_giftcert_purchase_recipientEmail, #dwfrm_wishlist_search_email)";bouncex.website.fmx&&(selector+=":not("+bouncex.website.fmx+")");bouncex.off(bouncex.body,"blur.bx-miw",selector),bouncex.on(bouncex.body,"blur.bx-miw",(function(){var userData={source:"input"},data=jQuery(this).val();if(/^\S+@\S+\.\S+$/.test(data)&&(userData.email=data),_phoneNumber.default.isValid(data)){var sanitizedPhone=_phoneNumber.default.sanitize(data);sanitizedPhone?(userData.phone=sanitizedPhone,userData.phone_sha256=_phoneNumber.default.toSha256(sanitizedPhone)):userData.phone_unmatched=data}var inputId=jQuery(this).attr("id");inputId&&(userData.input_id=inputId),bouncex.push(["user",userData])}),selector)},fieldMappingEnabled:function(){var fieldMappingEnabled=bouncex.website.fme,fieldMappingCountries=bouncex.website.fmc,region=bouncex.state&&bouncex.state.geo&&bouncex.state.geo.country_code;if(!region&&window.Intl&&window.Intl.Locale){var locale=Intl.DateTimeFormat().resolvedOptions().locale;region=new Intl.Locale(locale).region}return!!(fieldMappingEnabled&&fieldMappingCountries&&region)&&fieldMappingCountries.indexOf(region)>-1}};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SSP_BSW,exports.SSP_BSW_Request=SSP_BSW_Request;var _ssp=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(13));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function SSP_BSW(settings){this.__init(settings||{})}function SSP_BSW_Request(request_settings){_ssp.SSP_Request.apply(this,arguments)}Object.assign(SSP_BSW.prototype=Object.create(_ssp.default.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_BSW.prototype,"constructor")}),{__Request_Class:SSP_BSW_Request,provider:"bsw",deployment_campaigns:null,__createAllBidRequests:function(providerBidSettings){var request_settings=Object.assign({campaigns:{},campaign_settings:{},lookup_campaign_ids:{}},providerBidSettings);for(var campaign_id in this.auction.campaigns)this.__createCampaignBidRequests(request_settings,campaign_id);return[this.__instantiateBidRequest(request_settings)]},__createCampaignBidRequests:function(request_settings,campaign_id){for(var campaign=request_settings.campaigns[campaign_id]=this.auction.campaigns[campaign_id],campaign_settings=request_settings.campaign_settings[campaign_id]={campaign:campaign,deployment:campaign.deployment,placement_settings:{},lookup_placement_ids:{video:{},display:{}}},campaign_placement_ids=this.campaign_placement_ids[campaign_id],i=0;i<campaign_placement_ids.length;i++){var placement_id=campaign_placement_ids[i];this.__createPlacementBidRequest(request_settings,campaign_settings,placement_id)}return request_settings.lookup_campaign_ids[campaign.deployment]=campaign_id,campaign_settings},__createPlacementBidRequest:function(request_settings,campaign_settings,placement_id){var placement=campaign_settings.campaign.gbi.placements[placement_id],placement_settings=campaign_settings.placement_settings[placement_id]={placement:placement,placementId:placement_id,adUnitId:placement.adUnitId,type:placement.mediaType,width:placement.width,height:placement.height,deployment:placement.deployment,moat:placement.moat};return this.lookupPlacementID(campaign_settings.lookup_placement_ids,placement_settings,placement_id),placement_settings},lookupPlacementID:function(placementLookupTable,placementSettings,placementID){if(placementLookupTable&&placementSettings){var mediaType="video"===placementSettings.type?"video":"display",width=placementSettings.width||"0",height=placementSettings.height||"0",placementTypeLookup=placementLookupTable[mediaType]||(placementLookupTable[mediaType]={}),placementLookupKey="".concat(width,"x").concat(height);return void 0===placementID?placementTypeLookup[placementLookupKey]||Object.values(placementTypeLookup)[0]:placementTypeLookup[placementLookupKey]=placementID}}}),SSP_BSW_Request.__SSP_Class=SSP_BSW,Object.assign(SSP_BSW_Request.prototype=Object.create(_ssp.SSP_Request.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_BSW_Request.prototype,"constructor")}),{provider:"bsw",init:function(){var requestData=this.getRequestData(),options=this.getOptions(requestData);return this.fetch(options)},getOptions:function(requestData){return{url:this._getProviderConfig("endpoint"),data:JSON.stringify(requestData),dataType:"json",contentType:"text/plain; charset=UTF-8",method:"POST",type:"POST",timeout:5e3,context:this,complete:function(response,status){this.handleResponse(response,status),this.done()}}},getSiteId:function(){var site_id=this._getProviderConfig("site_id"),qa_site_id=this._getProviderConfig("qa_site_id");return this.getCampaign().qbxtest&&qa_site_id||site_id},getRequestData:function(){var siteId=this.getSiteId(),segments=(bouncex.segments||[]).map(String),requestData={publisher_id:Number(siteId)||0,placements:[],schain:this.schainObject(),segments:segments};for(var campaign_id in this.campaign_settings)this.__getCampaignRequestData(requestData,this.campaign_settings[campaign_id]);return requestData},__getCampaignRequestData:function(requestData,campaign_settings){var campaignData={code:campaign_settings.deployment};for(var placement_id in campaign_settings.placement_settings)this.__getPlacementRequestData(campaignData,campaign_settings.placement_settings[placement_id]);return requestData.placements.push(campaignData),campaignData},__getPlacementRequestData:function(campaignData,placement_settings){var impressonType="display"===placement_settings.type?"banner":"video",placementData=campaignData[impressonType]||(campaignData[impressonType]={sizes:[]});if("video"===impressonType&&placementData.sizes.length>0)return null;var size={w:Number(placement_settings.width),h:Number(placement_settings.height)};return placementData.sizes.push(size),placement_settings.moat&&!placementData.va&&(placementData.va=placement_settings.moat.v,"video"===impressonType&&(placementData.cr=Math.min(placement_settings.moat.c,100))),placementData},schainObject:function(){return{ver:"1.0",complete:1,nodes:[{asi:"behave.com",sid:this.getSiteId()+"",hp:1}]}},handleResponse:function(response,statusText){var results=bouncex.gbi2._constants.bidEvents,result=results.error,providerData={partner:this.provider,partner_site_id:this.getSiteId()||"NA",request_timestamp:this.startTime};if(200===response.status){var bidResponse=response.responseJSON||JSON.parse(response.responseText);if(bidResponse.placement_bid&&bidResponse.placement_bid.length){var handleResponseCampaign=this.handleResponseCampaign.bind(this,providerData);return bidResponse.placement_bid.map(handleResponseCampaign)}result=results.empty}else"abort"===statusText||"timeout"===statusText?result=results.none:0===response.status?result=results.cancelled:204===response.status&&(result=results.empty);this.reportResult(result,providerData)},getBidCampaignId:function(bidObj){if(!this.lookup_campaign_ids)return this.getCampaignId();var campaign_lookup_key=bidObj.code;return this.lookup_campaign_ids[campaign_lookup_key]||Object.values(this.lookup_campaign_ids)[0]},getBidPlacementId:function(bidObj,campaign_id){var placementLookupTable=this.campaign_settings&&this.campaign_settings[campaign_id]&&this.campaign_settings[campaign_id].lookup_placement_ids,placementSettings={type:bidObj.media_type,width:bidObj.w,height:bidObj.h};return this.ssp.lookupPlacementID(placementLookupTable,placementSettings)},handleResponseCampaign:function(providerData,bidObj){var result=bouncex.gbi2._constants.bidEvents.fill,campaign_id=this.getBidCampaignId(bidObj),campaign=this.campaigns[campaign_id],placement_id=this.getBidPlacementId(bidObj,campaign_id),placement=campaign.gbi.placements[placement_id]||{};bouncex.gbi2.log(campaign_id,"placement #"+placement_id+" received a bid from bidswitch");var bid=bouncex.gbi2._createBid({provider:this.provider,campaignId:campaign_id,placementId:placement_id,adUnitId:placement.adUnitId,arrivalTime:this.endTime,adHtml:bidObj.adm,vastData:bidObj.adm,dealId:bidObj.dealid,dealName:bidObj.deal_name,price:bidObj.price});campaign.gbi.bids.push(bid);var eventData=Object.assign({campaign_id:campaign_id,deployment:campaign.deployment||"unknown",requested_ad_units:placement.width+"x"+placement.height,deal_id:bidObj.dealid,price:bouncex.gbi2._getReportablePrice(bidObj.price),auction_number:campaign.gbi.auctionCount,ad_unit_id:placement.adUnitId},providerData);return this.reportResult(result,eventData),bid}})},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SSP_INDEX,exports.SSP_INDEX_Request=SSP_INDEX_Request;var _helpers=__webpack_require__(0),_ssp=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(13));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function SSP_INDEX(settings){this.__init(settings||{})}function SSP_INDEX_Request(request_settings){_ssp.SSP_Request.apply(this,arguments)}Object.assign(SSP_INDEX.prototype=Object.create(_ssp.default.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_INDEX.prototype,"constructor")}),{__Request_Class:SSP_INDEX_Request,provider:"index",__createAllBidRequests:function(providerBidSettings){var requests=[];return this.__groupBidRequests().forEach((function(requestGroup){var requestSettings=Object.assign(requestGroup,providerBidSettings),bidRequest=this.__instantiateBidRequest(requestSettings);requests.push(bidRequest)}),this),requests},__groupBidRequests:function(){var _this=this,requestGroups=new Map,_loop=function(campaignID){(_this.campaign_placement_ids[campaignID]||[]).forEach((function(placementID){var placementSettings={campaignID:campaignID,placementID:placementID};this.addRequestGroupPlacement(requestGroups,placementSettings)}),_this)};for(var campaignID in this.auction.campaigns)_loop(campaignID);return requestGroups},addRequestGroupPlacement:function(requestGroups,placementSettings){var campaignID=placementSettings.campaignID,placementID=placementSettings.placementID,requestGroup=this.getRequestGroup(requestGroups,placementSettings);if(void 0!==requestGroup){var campaign=(0,_helpers.getOrSet)(requestGroup.campaigns,campaignID,this.auction.campaigns[campaignID]),placement=campaign.gbi.placements[placementID],campaignSettings=(0,_helpers.getOrSet)(requestGroup.campaignSettings,campaignID,{campaignID:campaignID,deployment:campaign.deployment,placementSettings:{}});Object.assign(placementSettings,this.__createPlacementBidRequest(campaignID,placement,placementID)),campaignSettings.placementSettings[placementID]=placementSettings;var placementLookupKey=this.getPlacementLookupKey(placementSettings);requestGroup.lookupPlacementSettings[placementLookupKey]=placementSettings}},getRequestGroup:function(requestGroups,placementSettings){var requestKey=this.getRequestKey(placementSettings);return(0,_helpers.getOrSet)(requestGroups,requestKey,{requestKey:requestKey,campaigns:{},campaignSettings:{},lookupPlacementSettings:{}})},getRequestKey:function(placementSettings){var campaignID=placementSettings.campaignID;return[campaignID,this.auction.campaigns[campaignID].gbi.placements[placementSettings.placementID].mediaType].join("|")},getPlacementLookupKey:function(placementSettings){var campaignID=placementSettings.campaignID;return this.auction.campaigns[campaignID],[placementSettings.impid].join("|")},__createPlacementBidRequest:function(campaignID,placement,placementID){return{impid:this.getUniqueImpressionID(),campaignID:campaignID,placement:placement,placementID:placementID,adUnitId:placement.adUnitId,type:placement.mediaType,width:placement.width,height:placement.height,deployment:placement.deployment,moat:placement.moat}}}),SSP_INDEX_Request.__SSP_Class=SSP_INDEX,Object.assign(SSP_INDEX_Request.prototype=Object.create(_ssp.SSP_Request.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_INDEX_Request.prototype,"constructor")}),{provider:"index",intermediaryId:"869cff86d1c453c1",init:function(){var requestData=this.getRequestData(),options=this.getOptions(requestData);return this.fetch(options)},getOptions:function(requestData){var isVideo=this.isVideo(),options={url:bouncex.ssl?"https://as-sec.casalemedia.com/cygnus":"http://as.casalemedia.com/cygnus",data:{v:isVideo?"8.8":"7",cb:Date.now(),s:this.getSiteId(),r:JSON.stringify(requestData)},dataType:"text",contentType:"application/x-www-form-urlencoded",global:!1,crossDomain:!0,xhrFields:{withCredentials:!0},timeout:5e3,context:this,complete:function(response,status){this.handleResponse(response,status),this.done()}};return isVideo&&(options.data.fn="jsonp"),options},isVideo:function(){var campaignSettings=Object.values(this.campaignSettings)[0];return"video"===Object.values(campaignSettings.placementSettings)[0].type},getSiteId:function(){var site_id=this._getProviderConfig("s"),qa_site_id=this._getProviderConfig("qa_site_id");return this.getCampaign().qbxtest&&qa_site_id||site_id},getRequestData:function(){var requestData={id:String((0,_helpers.getEpochSeconds)()),imp:[],site:{page:this.getUrlWithParams(),ref:bouncex.referrer,mobile:bouncex.state.mobile?1:0},source:{pchain:"".concat(this.intermediaryId,":").concat(bouncex.website.id),ext:{schain:this.schainObject()}}};for(var campaignID in this.campaignSettings)this.__getCampaignRequestData(requestData,this.campaignSettings[campaignID]);return requestData},getUrlWithParams:function(){var campaign_type=this.getCampaign().type,pageUrl=document.location.protocol+"//"+document.location.hostname+document.location.pathname,device=bouncex.state.mobile?"mobile":"desktop";return pageUrl+"?deployment=".concat(campaign_type,"&device=").concat(device)},__getCampaignRequestData:function(requestData,campaignSettings){var campaignImpressions=requestData.imp;for(var placement_id in campaignSettings.placementSettings){var imp=this.__getPlacementRequestData(campaignSettings,campaignSettings.placementSettings[placement_id]);campaignImpressions.push(imp)}return campaignImpressions},__getPlacementRequestData:function(campaignData,placementSettings){return"video"===placementSettings.type?this.createVideoImpression(placementSettings):this.createDisplayImpression(placementSettings)},schainObject:function(bidRequestId){var schain={ver:"1.0",complete:1,nodes:[{asi:"wunderkind.co",sid:bouncex.website.id+"",hp:1}]};if(bidRequestId){var node=schain.nodes[0];node.rid=bidRequestId,node.name=bouncex.website.name,node.domain=bouncex.website.domain}return schain},handleResponse:function(response,statusText){var results=bouncex.gbi2._constants.bidEvents,result=results.error,providerData={partner:this.provider,partner_site_id:this.getSiteId()||"NA",request_timestamp:this.startTime};if(200===response.status){var bids=this.getBidsFromResponse(response);if(bids&&bids.length){var responseBid=this.handleResponseBid.bind(this,providerData);return bids.map(responseBid)}result=results.empty}else"abort"===statusText||"timeout"===statusText?result=results.none:0===response.status?result=results.cancelled:204===response.status&&(result=results.empty);this.reportResult(result,providerData)},getBidsFromResponse:function(response){try{var responseJSON=response.responseJSON;if(!responseJSON&&response.responseText){var responseText=response.responseText,jsonString=responseText.substring(responseText.indexOf("(")+1,responseText.lastIndexOf(")"));responseJSON=JSON.parse(jsonString)}return responseJSON.seatbid[0].bid}catch(e){return!1}},getBidPlacementSettings:function(bidObj){return this.lookupPlacementSettings[bidObj.impid]},handleResponseBid:function(providerData,bidObj){var result=bouncex.gbi2._constants.bidEvents.fill,placementSettings=this.getBidPlacementSettings(bidObj),placement_id=placementSettings.placementID,placement=placementSettings.placement,campaignID=placementSettings.campaignID,campaign=this.auction.campaigns[campaignID];bouncex.gbi2.log(campaignID,"placement #".concat(placement_id," received a bid from ").concat(this.provider));var bidExt=bidObj.ext||{},dealId=bidExt.dealid||bidObj.dealid,dealName=bidExt.dealname||bidObj.dealname,price=this.convertPrice(bidExt.pricelevel,dealId)||bidObj.price||0,vastData=bidExt.vasturl||bidObj.adm,requested_ad_units="display"===placementSettings.type?placementSettings.width+"x"+placementSettings.height:"video",bid=bouncex.gbi2._createBid({provider:this.provider,campaignId:campaignID,placementId:placement_id,adUnitId:placement.adUnitId,arrivalTime:this.endTime,adHtml:bidObj.adm,vastData:vastData,dealId:dealId,dealName:dealName,price:Number(price)});campaign.gbi.bids.push(bid);var eventData=Object.assign({campaign_id:campaignID,deployment:campaign.deployment||"unknown",requested_ad_units:requested_ad_units,deal_id:dealId||"NA",price:this._getReportablePrice(price)||"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:placement.adUnitId},providerData);return this.reportResult(result,eventData),bid},convertPrice:function(priceString,dealId){if(!priceString)return 0;var decimalIndex=priceString.length-2,charArray=priceString.split("");charArray.splice(decimalIndex,0,".");var formattedString=charArray.join("").replace(/[^0-9.]/g,"");return(dealId?Number(formattedString):Number(formattedString)/.85).toFixed(5)}})},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SSP_PBM,exports.SSP_PBM_Request=SSP_PBM_Request;__webpack_require__(0);var _ssp=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(85));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function SSP_PBM(settings){_ssp.default.call(this,settings)}function SSP_PBM_Request(request_settings){_ssp.SSP_CONSOLIDATED_Request.call(this,request_settings)}Object.assign(SSP_PBM.prototype=Object.create(_ssp.default.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_PBM.prototype,"constructor")}),{__Request_Class:SSP_PBM_Request,provider:"pbm"}),SSP_PBM_Request.__SSP_Class=SSP_PBM,Object.assign(SSP_PBM_Request.prototype=Object.create(_ssp.SSP_CONSOLIDATED_Request.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_PBM_Request.prototype,"constructor")}),{provider:"pbm",getOptions:function(requestData){var _this=this;return{url:document.location.protocol+"//"+this._getProviderConfig("endpoint"),data:JSON.stringify(requestData),method:"POST",type:"POST",dataType:"json",crossDomain:!0,xhrFields:{withCredentials:!0},timeout:5e3,context:this,complete:function(response,status){_this.handleResponse(response,status),_this.done()}}},getSiteId:function(){var siteIdKey=bouncex.state.mobile?"mobile_id":"desktop_id",site_id=this._getProviderConfig(siteIdKey),qa_site_id=this._getProviderConfig("qa_site_id");return this.getCampaign().qbxtest&&qa_site_id||site_id},getRequestData:function(impressionData){var _site,requestId=bouncex.cookie.vid+"_"+bouncex.cookie.sid,publisherId=this._getProviderConfig("publisher_id");return{id:requestId,site:(_site={id:this.getSiteId(),name:window.location.hostname,ref:decodeURIComponent(bouncex.referrer),page:decodeURIComponent(bouncex.calling_url)},_defineProperty(_site,"ref",bouncex.referrer),_defineProperty(_site,"publisher",{id:publisherId}),_site),device:{ua:navigator.userAgent,ip:bouncex.state.vip},imp:impressionData,source:{pchain:this.pchainString(),ext:{schain:this.schainObject(requestId)}},user:{eids:this.getExtraIds()},at:1,tmax:200}},getTagId:function(placementSettings){var siteID=this.getSiteId(),placement=placementSettings.placement;return placement&&placement.deployment?{overlay:"Overlay",masthead:"Masthead",endcap:"End_Cap",encore:"Encore",middleofarticle:"Middle_of_Article",skyline:"Skyline",infeed:"Infeed",floater:"Floater"}[placement.deployment]+"_"+siteID:""},__getPlacementRequestData:function(placementSettings){var overrides={secure:bouncex.ssl?1:0,tagid:this.getTagId(placementSettings)},placementRequestData=Object.getPrototypeOf(Object.getPrototypeOf(this)).__getPlacementRequestData.call(this,placementSettings);return Object.assign(placementRequestData,overrides)}})},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.activateGbiCampaign=function(ca_id){if(bouncex.campaigns[ca_id].gbi.ready)return!0;if(bouncex.gbi.log(ca_id,"activate gbi campaign"),bouncex.campaigns[ca_id].gbi.ready=!0,bouncex.campaigns[ca_id].gbi.stack_id){var stackId=bouncex.campaigns[ca_id].gbi.stack_id;bouncex.gbi.stacks[stackId].leader_id==ca_id&&"control"==bouncex.campaigns[ca_id].ttype||(bouncex.gbi.log(ca_id,"a campaign in the stack is ready, processing stack..."),processGbiStack(stackId))}else bouncex.gbi.log(ca_id,"activating out of stack campaign"),_campaignHelpers.default.eligible(ca_id),_campaignHelpers.default.activateInstruments(ca_id)},exports.processGbiStack=processGbiStack,exports.selectAdStackCampaign=selectAdStackCampaign,exports.deactivateGbiCampaign=function(ca_id){bouncex.events[ca_id].gbiRequest&&clearInterval(bouncex.events[ca_id].gbiRequest);bouncex.gbi.log(ca_id,"deactivate gbi campaign"),bouncex.campaigns[ca_id].failed=!0,bouncex.campaigns[ca_id].gbi.ready=!1},exports.finishGbiStack=finishGbiStack,exports.initGbiStack=function initGbiStack(stackId,timeout){bouncex.gbi.log(!1,"Starting stack ["+stackId+"]");var stack=bouncex.gbi.stacks[stackId];stack.started=!0,bouncex.events[stack.leader_id]||(bouncex.events[stack.leader_id]={});bouncex.events[stack.leader_id].gbiStack=(0,_scheduling.setTimeoutWrapper)((function(){processGbiStack(stackId)||(stack.processCount>9?(bouncex.gbi.log(!1,"stack ["+stackId+"]: ran out of tries"),finishGbiStack(stackId,!1)):stack.finished||(bouncex.gbi.log(!1,"stack ["+stackId+"]: no winners yet. Trying again..."),initGbiStack(stackId,1e3)))}),timeout)},exports.attachClickReportingToIframe=function(container,ca_id){bouncex.on(container,"mouseenter.gbi_click_events_"+ca_id,(function(){bouncex.on(bouncex.window,"blur.gbi_click_events_"+ca_id,(function(){bouncex.report(ca_id,"click",{value:"ad"})}))})),bouncex.events[ca_id].gbi_click=function(){bouncex.off(bouncex.window,"blur.gbi_click_events_"+ca_id)},bouncex.on(container,"mouseleave.gbi_click_events_"+ca_id,bouncex.events[ca_id].gbi_click)};var obj,_scheduling=__webpack_require__(2),_campaignHelpers=(obj=__webpack_require__(6))&&obj.__esModule?obj:{default:obj};function processGbiStack(stackId){var stack;if((stack=bouncex.gbi.stacks[stackId]).finished)return bouncex.gbi.log(!1,"stack ["+stackId+"] already finished"),!1;(stack=bouncex.gbi.stacks[stackId]).processCount=stack.processCount||0,stack.processCount++,bouncex.gbi.log(!1,"processing stack ["+stackId+"] ("+stack.processCount+") ...");var stackCampaigns=stack.campaigns;for(var priority in stack.failedCount=0,stackCampaigns)if(stackCampaigns.hasOwnProperty(priority)){var ca_id=stackCampaigns[priority],ca=bouncex.campaigns[ca_id];if(ca.failed)stack.failedCount++,bouncex.gbi.log(ca_id,"has failed");else if("control"==ca.ttype&&ca_id==stack.leader_id)stack.failedCount++;else{if(!ca.gbi.ready&&ca.gbi.config&&ca.gbi.config.stackWeight&&ca.gbi.config.stackWeight>stack.processCount)return bouncex.gbi.log(ca_id,"campaign with weight of "+ca.gbi.config.stackWeight+" didn't have enough time"),!1;if(ca.gbi.ready)return selectAdStackCampaign(ca_id),finishGbiStack(stackId,!0),!0;bouncex.gbi.log(ca_id,"not ready ")}}return stack.failedCount!==stackCampaigns.length||(bouncex.gbi.log(!1,"stack ["+stackId+"]: all campaigns have failed"),finishGbiStack(stackId,!1)),!1}function selectAdStackCampaign(ca_id){var stackId=bouncex.campaigns[ca_id].gbi.stack_id;bouncex.gbi.stacks[stackId].finished=!0,bouncex.gbi.log(ca_id,"selected"),_campaignHelpers.default.eligible(ca_id),_campaignHelpers.default.initActivationInstruments(ca_id),bouncex.gbi.stacks[stackId].selectedCampaign=ca_id,function(stackId,winner_ca_id){bouncex.gbi.log(!1,"clearing other campaigns...");var stackCampaigns=bouncex.gbi.stacks[stackId].campaigns;for(var priority in stackCampaigns)if(stackCampaigns.hasOwnProperty(priority)){var cca_id=stackCampaigns[priority];cca_id!=winner_ca_id&&(bouncex.gbi.cancelRequest(cca_id),bouncex.destroy_ad(cca_id,!0))}}(stackId,ca_id)}function finishGbiStack(stackId,success){bouncex.gbi.stacks[stackId].failed=!1,clearInterval(bouncex.events[bouncex.gbi.stacks[stackId].leader_id].gbiStack),delete bouncex.events[bouncex.gbi.stacks[stackId].leader_id].gbiStack;var hasControlLeader="control"==bouncex.campaigns[bouncex.gbi.stacks[stackId].leader_id].ttype;success||(bouncex.gbi.stacks[stackId].failed=!0,hasControlLeader&&selectAdStackCampaign(bouncex.gbi.stacks[stackId].leader_id)),bouncex.gbi.log(!1,"done looking at stack ["+stackId+"] "+(bouncex.gbi.stacks[stackId].failed?"failed":"success"))}},function(module,exports,__webpack_require__){function Criteria(name,conditions,type){this.name=name,this.conditions=conditions,this.type=type||"other",this.conditionsPassed=!1,this.evaluate=function(){try{for(var i=0;i<this.conditions.length;i++){for(var compoundCondition=this.conditions[i],conditionPassed=!1,j=0;j<compoundCondition.length&&!conditionPassed;j++){var condition=compoundCondition[j],conditionTest=Criteria.activations[condition.activation];conditionPassed="function"==typeof conditionTest&&conditionTest(condition.prop,condition.prop2,condition.prop3,condition.val)}if(!conditionPassed)return this.fail(compoundCondition)}return this.pass()}catch(err){bouncex.err(err,{source:"criteria evaluation: "+this.type})}return this.fail()},this.log=function(){if(bouncex.testmode.bxdev||bouncex.testmode.bxtest){bouncex.criteriaLog=bouncex.criteriaLog||{},bouncex.criteriaLog[this.type]=bouncex.criteriaLog[this.type]||{};var criteriaId=this.name+"-"+JSON.stringify(this.conditions).length;bouncex.criteriaLog[this.type][criteriaId]={conditions:this.conditions,conditionsPassed:this.conditionsPassed,failedCondition:this.failedCondition,name:this.name}}},this.pass=function(){return this.conditionsPassed=!0,this.log(),!0},this.fail=function(failedCondition){return this.conditionsPassed=!1,this.failedCondition=failedCondition,this.log(),!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,Criteria.activations={page_type_criteria:function(compareMethod,prop2,prop3,val){return Criteria.compare("exactly",bouncex.website.pts,val)},custom_variable_criteria:function(compareMethod,prop2,prop3,val){return Criteria.compare(compareMethod,bouncex.vars[prop2],val)},device_type_criteria:function(compareMethod,prop2,prop3,val){return Criteria.compare("exactly",bouncex.cookie.d,val)},current_page_url:function(compareMethod,prop2,prop3,val){return Criteria.compare(compareMethod,location.href,val)},js:function(compareMethod,prop2,prop3,val){return Criteria.compare("js",null,val)}},Criteria.compare=function(compareMethod,compareValue,compareTo){var compareValue=compareValue||!1===compareValue||0===compareValue?(compareValue+"").toLowerCase():"";if(compareTo||!1===compareTo||0===compareTo?"js"===compareMethod||"regex_match"===compareMethod||"not_regex_match"===compareMethod?compareTo+="":"greater"===compareMethod||"less"===compareMethod||"less_equal"===compareMethod||"greater_equal"===compareMethod?(""!==compareValue&&(compareValue=Number(compareValue)),compareTo=Number(compareTo)):compareTo=(compareTo+"").toLowerCase():compareTo="","contains"===compareMethod||"not_contains"===compareMethod)return compareValue.indexOf(compareTo)>-1==("contains"===compareMethod);if("yes"===compareMethod||"no"===compareMethod)return compareValue?"yes"===compareMethod:"no"===compareMethod;if("exactly"===compareMethod||"not_exactly"===compareMethod)return compareValue===compareTo?"exactly"===compareMethod:"exactly"!=compareMethod;if("contained_in"===compareMethod||"not_contained_in"===compareMethod)return compareTo.indexOf(compareValue)>-1?"contained_in"===compareMethod:"contained_in"!=compareMethod;if("regex_match"===compareMethod||"not_regex_match"===compareMethod){var match=new RegExp(compareTo,"gi").test(window.location.href);return match?"regex_match"===compareMethod:"regex_match"!==compareMethod}if("js"===compareMethod)try{var v=eval(compareTo);return"boolean"==typeof v&&v}catch(err){bouncex.err(err,{source:"evalCriteria - page_types"})}else{if("greater"===compareMethod)return compareValue>compareTo;if("less"===compareMethod&&""!==compareValue)return compareValue<compareTo;if("equal"===compareMethod)return compareValue===compareTo;if("less_equal"===compareMethod&&""!==compareValue)return compareValue<=compareTo;if("greater_equal"===compareMethod)return compareValue>=compareTo;if("not_equal"===compareMethod)return compareValue!==compareTo}return!1};var _default=Criteria;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _helpers=_interopRequireDefault(__webpack_require__(14)),_validations=_interopRequireDefault(__webpack_require__(18)),_http=_interopRequireDefault(__webpack_require__(97)),_response=_interopRequireDefault(__webpack_require__(98));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Init={buildVastEnv:function(campaignId,vastData,completeCallback){var vastKey;_helpers.default.groupCollapsed(campaignId,"init vast parser",!1),bouncex.campaigns[campaignId].video.vast={handlingWrapper:!1,wrapperLevel:0,tracking:{},completeCallback:completeCallback},vastKey=_helpers.default.isVastOrTag(vastData),Init.kickoffVastParse(campaignId,vastKey,vastData)},kickoffVastParse:function(campaignId,key,vastData){switch(key){case"tag":return Init.extractVastData(campaignId,vastData);case"vastxml":return _response.default.vastResponse(campaignId,vastData)}},extractVastData:function(campaignId,vastUrl){bouncex.video.log(campaignId,"extract vast url: "+vastUrl,"vast");var validatedVastUrl=_validations.default.checkVastUrl(vastUrl);_http.default.call(campaignId,validatedVastUrl,"GET",null,_response.default.vastResponse)}},_default=Init;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _debug=_interopRequireDefault(__webpack_require__(5)),_node_parsers=_interopRequireDefault(__webpack_require__(15)),_vpaid=_interopRequireDefault(__webpack_require__(57));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={vastMedia:function(campaignId,vastRecord){if(bouncex.video.canPlayMedia(campaignId)){var src=vastRecord.src&&"string"!=typeof vastRecord.src?JSON.stringify(vastRecord.src):vastRecord.src?vastRecord.src:"";bouncex.video.log(campaignId,"found compatible media file ("+src+")","vast"),bouncex.campaigns[campaignId].video.status.vastDataLoaded=!0,bouncex.video.configPlayer(campaignId)}},vpaidMedia:function(campaignId,adRecord){bouncex.campaigns[campaignId].video.status.vastDataLoaded=!0;var scriptElement=document.createElement("SCRIPT");scriptElement.type="text/javascript",scriptElement.src=adRecord.vpaidUrl;var objDefineProperty=Object.defineProperty;Object.defineProperty=_debug.default.tryCatch(objDefineProperty),scriptElement.onload=function(){Object.defineProperty=objDefineProperty,_vpaid.default.generateVPAIDManager(campaignId)},window.top.document.body.appendChild(scriptElement)},handleVPAID:function(campaignId,adRecord,video,path){var adParams=_node_parsers.default.getXmlNode(campaignId,video,"AdParameters",0);adRecord.vpaidWidth=jQuery("#bx-creative-"+campaignId+" .bx-video-wrapper").css("width").replace(/[^0-9.]/g,""),adRecord.vpaidHeight=jQuery("#bx-creative-"+campaignId+" .bx-video-wrapper").css("height").replace(/[^0-9.]/g,""),adRecord.vpaidUrl="https:"===window.location.protocol&&0===path.indexOf("http:")?"https:"+path.substring(5):path,adRecord.isVPAID=!0,bouncex.campaigns[campaignId].video.isVPAID=!0,adParams&&(adParams=_node_parsers.default.getNodeValue(adParams),adRecord.vpaidAdParams=adParams)}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;_interopRequireDefault(__webpack_require__(8));var _helpers=__webpack_require__(58),_init=_interopRequireDefault(__webpack_require__(99));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={generateVPAIDManager:function(campaignId){bouncex.video.configPlayer(campaignId),bouncex.campaigns[campaignId].video.vpaid=bouncex.campaigns[campaignId].vpaid||{};try{bouncex.video.log(campaignId,"getVPAIDAd() called","vpaid"),bouncex.campaigns[campaignId].video.vpaid.ad=window.getVPAIDAd(),(0,_helpers.versionCheck)(campaignId)}catch(err){bouncex.campaigns[campaignId].video.vpaid.ad=document.getVPAIDAd()}_init.default.initializeVPAID(campaignId)},playVPAIDBeforeImpression:function(type,campaignId){var videoCampaign=bouncex.campaigns[campaignId].video;videoCampaign.videoResponseLoaded=!0,videoCampaign.triggerType=type,videoCampaign.vpaid.ad.startAd()}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.validateAd=function(ad){if(ad.handshakeVersion&&"function"==typeof ad.handshakeVersion&&ad.initAd&&"function"==typeof ad.initAd&&ad.startAd&&"function"==typeof ad.startAd&&ad.stopAd&&"function"==typeof ad.stopAd&&ad.skipAd&&"function"==typeof ad.skipAd&&ad.resizeAd&&"function"==typeof ad.resizeAd&&ad.pauseAd&&"function"==typeof ad.pauseAd&&ad.resumeAd&&"function"==typeof ad.resumeAd&&ad.expandAd&&"function"==typeof ad.expandAd&&ad.collapseAd&&"function"==typeof ad.collapseAd&&ad.subscribe&&"function"==typeof ad.subscribe&&ad.unsubscribe&&"function"==typeof ad.unsubscribe)return!0;return!1},exports.adjustCreative=function(campaignId){jQuery("#bx-creative-"+campaignId+" .bx-wrap").css({"padding-left":"0px","padding-right":"0px"})},exports.versionCheck=function(campaignId){var versionCheck=bouncex.campaigns[campaignId].video.vpaid.ad.handshakeVersion("2.0");if(versionCheck&&"2.0"!==versionCheck)return bouncex.video.log(campaignId,"generateVPAIDManager -> Ad VPAID version ("+versionCheck+") is not supported","error"),!1;return!0}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _node_parsers=_interopRequireDefault(__webpack_require__(15)),_tracking=_interopRequireDefault(__webpack_require__(105)),_helpers=_interopRequireDefault(__webpack_require__(14)),_load_player=_interopRequireDefault(__webpack_require__(56)),_init=_interopRequireDefault(__webpack_require__(55));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ElementParsers={init:function(campaignId,vastAd,vastXml,adRecord){var impressions,trackingEvents,wrapper,inline,video,companion,error,nonLinear;impressions=_node_parsers.default.getXmlNode(campaignId,vastAd,"Impression",1),trackingEvents=_node_parsers.default.getXmlNode(campaignId,vastAd,"Tracking",1),wrapper=_node_parsers.default.getXmlNode(campaignId,vastXml,"Wrapper",0),inline=null!==_node_parsers.default.getXmlNode(campaignId,vastAd,"InLine",0)&&_node_parsers.default.getXmlNode(campaignId,vastAd,"InLine",0),video=_node_parsers.default.getXmlNode(campaignId,inline,"Linear",0)||_node_parsers.default.getXmlNode(campaignId,inline,"Video",0),error=_node_parsers.default.getXmlNode(campaignId,vastAd,"Error",1),video||inline||(nonLinear=_node_parsers.default.getXmlNode(campaignId,inline,"NonLinear",0),companion=_node_parsers.default.getXmlNode(campaignId,vastAd,"Companion",0)),companion&&bouncex.video.log(campaignId,"SKIP -> [parseVastElements]: companion ads not currently supported","warning"),nonLinear&&bouncex.video.log(campaignId,"SKIP -> [parseVastElements]: nonlinear ads not currently supported","warning"),error&&_tracking.default.recordErrorPixels(campaignId,adRecord,error),impressions&&_tracking.default.recordImpressionPixels(adRecord,impressions),trackingEvents&&_tracking.default.recordEventPixels(adRecord,trackingEvents),wrapper&&(ElementParsers.handleWrapper(campaignId,wrapper),bouncex.campaigns[campaignId].video.vast.handlingWrapper=!1,bouncex.campaigns[campaignId].video.vast.wrapperLevel+=1),video&&ElementParsers.handleVideo(campaignId,adRecord,video)},handleVideo:function(campaignId,adRecord,video){_tracking.default.recordVideoClickTrackingPixels(campaignId,adRecord,video),ElementParsers.handleDuration(campaignId,adRecord,video),ElementParsers.handleMediaFiles(campaignId,adRecord,video)},handleDuration:function(campaignId,adRecord,video){var seconds,parsedDuration,duration=_node_parsers.default.getXmlNode(campaignId,video,"Duration",0);null!==duration&&_node_parsers.default.nodeExists(duration)&&"string"!=typeof duration&&(seconds=(duration=(duration=_node_parsers.default.getNodeValue(duration)).split(".")[0]).split(":"),parsedDuration=parseInt(60*seconds[0]*60)+parseInt(60*seconds[1])+parseInt(seconds[2]),adRecord.duration=parsedDuration,bouncex.video.log(campaignId,"media duration -> "+adRecord.duration+"s","vast"))},handleMediaFiles:function(campaignId,adRecord,video){var path,mediaFiles=_node_parsers.default.getXmlNode(campaignId,video,"MediaFile",1),nonMp4File=null,foundMp4=!1;if(mediaFiles&&0!==mediaFiles.length){for(var j=0;j<mediaFiles.length;j++){if(adRecord.width=mediaFiles[j].getAttribute("width"),adRecord.height=mediaFiles[j].getAttribute("height"),adRecord.aspectRatio=adRecord.height/adRecord.width*100,adRecord.apiFramework=mediaFiles[j].getAttribute("apiFramework")||!1,adRecord.type=mediaFiles[j].getAttribute("type"),adRecord.aspectRatio=_helpers.default.calculateAspectRatioData(adRecord.width,adRecord.height),adRecord.isVPAID=!(!adRecord.apiFramework||"vpaid"!==adRecord.apiFramework.toLowerCase()||"application/javascript"!==adRecord.type),adRecord.offsetAspectRatio=bouncex.campaigns[campaignId].video.player.offsetHeight/bouncex.campaigns[campaignId].video.player.offsetWidth*100,path=null!==_node_parsers.default.getNodeValue(mediaFiles[j])?_node_parsers.default.getNodeValue(mediaFiles[j]):this.handleUrlSources(campaignId,mediaFiles[j]),adRecord.type.toLowerCase().indexOf("mp4")>-1){adRecord.src=path,foundMp4=!0;break}if(adRecord.type.toLowerCase().indexOf("application/javascript")>-1)return _load_player.default.handleVPAID(campaignId,adRecord,video,path);nonMp4File={path:path,type:adRecord.type}}!1!==foundMp4||adRecord.vpaidUrl||null===nonMp4File||(adRecord.src=nonMp4File.path,adRecord.type=nonMp4File.type,adRecord.vpaidUrl=!1)}else bouncex.video.log(campaignId,"0 media files found","error")},handleUrlSources:function(campaignId,video){var path,sources=_node_parsers.default.getXmlNode(campaignId,video,"URL",1);if(sources)for(var k=0;k<sources.length;k++)path=_node_parsers.default.getNodeValue(sources[k]);return path},handleWrapper:function(campaignId,wrapper){var urlNode,vastUrl;_tracking.default.processWrapperEventPixels(campaignId,wrapper),(vastUrl=null!==(urlNode=_node_parsers.default.getXmlNode(campaignId,wrapper,"VASTAdTagURL",0)||_node_parsers.default.getXmlNode(campaignId,wrapper,"VASTAdTagURI",0)).textContent?urlNode.textContent.trim():urlNode.firstChild.nodeValue&&""!==urlNode.firstChild.nodeValue.trim()?urlNode.firstChild.nodeValue.trim():!(!urlNode.firstChild.constructor||!urlNode.firstChild.constructor.name||"Text"!=urlNode.firstChild.constructor.name)&&urlNode.firstChild.wholeText.trim())?(bouncex.campaigns[campaignId].video.vast.handlingWrapper=!0,_init.default.extractVastData(campaignId,vastUrl)):bouncex.video.fail(campaignId,"failed to extract a VAST URL node from the XML Wrapper element")}},_default=ElementParsers;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _nativeCapture=_interopRequireDefault(__webpack_require__(49)),_eventStream=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var event_stream_report=_eventStream.default.report,ibxTracking={init:function init(){if(bouncex.website.ibx.te&&1==bouncex.website.ibx.te){try{eval(bouncex.website.ibx.tjs)}catch(err){bouncex.err(err,{source:"bouncex.website.ibx.tjs"})}_nativeCapture.default.fieldMappingEnabled()&&(_nativeCapture.default.init(),_nativeCapture.default.activateFieldMapping())}}},_default=ibxTracking;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_scheduling=__webpack_require__(2),_campaignHelpers=(obj=__webpack_require__(6))&&obj.__esModule?obj:{default:obj},_eventBinding=__webpack_require__(9);var ActivationHelpers={setIosBounceTimeout:function(ca_id,browserData,closeOnReverse,args){return(0,_scheduling.setTimeoutWrapper)((function(){if(browserData.touchEnded&&browserData.isResizing&&(browserData.refresh(),browserData.isResizing=!1,!browserData.orientation_changed)){var avgScrollSpeed=(browserData.scrollSpeed+browserData.recalcScrollSpeed())/2;browserData.isScrollingUpSlowly()||browserData.isScrollingUpSlowly(avgScrollSpeed)||(browserData.threshold_expanded?(args.trigger(_campaignHelpers.default.triggerAd),closeOnReverse||_campaignHelpers.default.can_show_ad(ca_id,!0)||((0,_eventBinding.bxPassiveUnbind)(window,"resize.bouncex_iosbounce_"+ca_id),(0,_eventBinding.bxPassiveUnbind)(window,"touchstart.bouncex_iobounce_"+ca_id),(0,_eventBinding.bxPassiveUnbind)(window,"touchend.bouncex_iosbounce_"+ca_id))):closeOnReverse&&bouncex.campaigns[ca_id].ad_visible&&(bouncex.close_ad(ca_id,!0),_campaignHelpers.default.can_show_ad(ca_id,!0)||((0,_eventBinding.bxPassiveUnbind)(window,"resize.bouncex_iosbounce_"+ca_id),(0,_eventBinding.bxPassiveUnbind)(window,"touchstart.bouncex_iobounce_"+ca_id),(0,_eventBinding.bxPassiveUnbind)(window,"touchend.bouncex_iosbounce_"+ca_id))))}}),100)},process_mouse_out:function(obj,ca_id,args){var e=obj||window.event,from=e.toElement,related=e.relatedTarget,width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;if(!(related&&(related===this||bouncex.contains(this,related))||from&&"HTML"!==from.nodeName))if(bouncex.browser.msie&&"up"===bouncex.direction){if(bouncex.campaigns[ca_id].iao>0)if(bouncex.lastX<bouncex.campaigns[ca_id].iao)return!1;if(bouncex.campaigns[ca_id].rao>0)if(width-bouncex.lastX<bouncex.campaigns[ca_id].rao)return!1;args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||jQuery("html,body").unbind("mouseout.bouncex_show_"+ca_id)}else if(!bouncex.browser.msie&&(obj.clientY<5&&obj.clientY>-50||bouncex.browser.safari&&(-32768==obj.clientY||671==obj.clientY)&&"up"==bouncex.direction)){if(bouncex.campaigns[ca_id].iao>0)if((obj.layerX?obj.layerX:obj.pageX)<bouncex.campaigns[ca_id].iao)return!1;if(bouncex.campaigns[ca_id].rao>0)if(width-(obj.layerX?obj.layerX:obj.pageX)<bouncex.campaigns[ca_id].rao)return!1;bouncex.browser.chrome>40?(bouncex.events[ca_id].bouncex_timeout||(bouncex.events[ca_id].bouncex_timeout=(0,_scheduling.setTimeoutWrapper)((function(){args.trigger(_campaignHelpers.default.triggerAd),bouncex.events[ca_id].bouncex_timeout=!1,jQuery(document).unbind("mouseenter.bx_bouncex_mousenter_"+ca_id),_campaignHelpers.default.can_show_ad(ca_id,!0)||jQuery("html,body").unbind("mouseout.bouncex_show_"+ca_id)}),0)),(0,_eventBinding.bxBind)(document,"mouseenter.bx_bouncex_mousenter_"+ca_id,(function(){jQuery(document).unbind("mouseenter.bx_bouncex_mousenter_"+ca_id),clearTimeout(bouncex.events[ca_id].bouncex_timeout),bouncex.events[ca_id].bouncex_timeout=!1}),ca_id)):(args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||jQuery("html,body").unbind("mouseout.bouncex_show_"+ca_id))}},process_mouse_move:function(obj,ca_id){if((obj.layerY?obj.layerY:obj.pageY)-(document.body.scrollTop||document.documentElement.scrollTop)<=18?bouncex.direction="up":bouncex.direction=!1,bouncex.campaigns[ca_id].iao>0||bouncex.campaigns[ca_id].rao>0){var alt_x=obj.layerX?obj.layerX:obj.pageX;bouncex.lastX=alt_x>0?alt_x:1}},setInactivityTimeout:function(ca_id,v,inactivity_events,args){return(0,_scheduling.setTimeoutWrapper)((function(){args.trigger(_campaignHelpers.default.triggerAd),(0,_eventBinding.bxPassiveUnbind)(window,inactivity_events)}),1e3*v)},setReactivityTimeout:function(ca_id,v,activity_events,args){return(0,_scheduling.setTimeoutWrapper)((function(){(0,_eventBinding.bxPassiveUnbind)(window,activity_events);var reactivity_events="mousemove.bouncex_reactivity_"+ca_id+" keydown.bouncex_reactivity_"+ca_id+" DOMMouseScroll.bouncex_reactivity_"+ca_id+" mousewheel.bouncex_reactivity_"+ca_id+" mousedown.bouncex_reactivity_"+ca_id+" touchstart.bouncex_reactivity_"+ca_id+" touchmove.bouncex_reactivity_"+ca_id+" focus.bouncex_reactivity_"+ca_id;(0,_eventBinding.bxPassiveBind)(window,reactivity_events,(function(){(0,_eventBinding.bxPassiveUnbind)(window,reactivity_events),args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)&&(0,_eventBinding.bxPassiveBind)(window,activity_events,(function(){clearTimeout(bouncex.events[ca_id].reactivity),bouncex.events[ca_id].reactivity=ActivationHelpers.setReactivityTimeout(ca_id,v,activity_events,args)}),ca_id)}),ca_id)}),1e3*v)},getCurrentScrollPosition:function($root,bottomOfWindow){return $root.scrollTop()+(bottomOfWindow?$root.height():0)},handleFinishedTyping:function(event,ca_id,normalizedIdentifier,$target,args,inputVal){clearTimeout(bouncex.events[ca_id]["typing_timeout_"+normalizedIdentifier]),""!==inputVal&&("Tab"!==event.code&&"Enter"!==event.code||9!==event.keyCode&&13!==event.keyCode)&&(bouncex.events[ca_id]["typing_timeout_"+normalizedIdentifier]=(0,_scheduling.setTimeoutWrapper)((function(){args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||$target.unbind("keyup.bx"+ca_id+normalizedIdentifier+", blur.bx"+ca_id+normalizedIdentifier)}),"blur"===event.type?0:1500))},handleHover:function(ca_id,normalizedIdentifier,delay,selector,showOnUnhover,showFn){bouncex.events[ca_id]["timeout_"+normalizedIdentifier]=(0,_scheduling.setTimeoutWrapper)((function(){showOnUnhover?(0,_eventBinding.bxBind)(selector,"mouseleave.bx"+ca_id+normalizedIdentifier,showFn,ca_id):showFn()}),delay)},unhandleHover:function(ca_id,normalizedIdentifier){clearTimeout(bouncex.events[ca_id]["timeout_"+normalizedIdentifier]),delete bouncex.events[ca_id]["timeout_"+normalizedIdentifier]},showHover:function(ca_id,normalizedIdentifier,args){args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||bouncex.events[ca_id]["listener_hover"+normalizedIdentifier]()}},_default=ActivationHelpers;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj},_helpers=__webpack_require__(0);var staticAssets={development:"https://dev-assets.wknd.ai/creatives-base-styles/creatives-base-styles.min.css",staging:"//assets.staging.bounceexchange.com/tag/css/creatives-base-styles.{FILE_HASH}.min.css",production:"//assets.bounceexchange.com/tag/css/creatives-base-styles.{FILE_HASH}.min.css"},buildSrc=function(fileHash){return staticAssets[bouncex.env].replace("{FILE_HASH}",fileHash)},_default={load:function(callback){var errorMsg;callback="function"==typeof callback?callback:function(){};var fileHash=bouncex.assets&&bouncex.assets.creativesBaseStyles;if(!fileHash)return errorMsg={group:"Creatives Base Styles",message:"asset file hash not available"},void _logger.default.error(errorMsg);if(bouncex.css_added)callback();else{var linkConfig={id:"creativesBaseStyles",rel:"stylesheet",href:buildSrc(fileHash),type:"text/css",onload:function(){callback(),bouncex.css_added=!0},onerror:function(){errorMsg={group:"Creatives Base Styles",message:"creatives base styles loading failed"},_logger.default.error(errorMsg)}};(0,_helpers.createElement)("link",linkConfig,document.head)}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _getStyle=__webpack_require__(41),blurGate={addUsingTextShadow:function(ca_id){var ca=bouncex.campaigns[ca_id];blurGate.addFillerIfNeeded(ca_id,ca.blur_gate_lorem_filler);var styles=".bx-blur-"+ca_id+".bx-blur-textshadow { text-shadow: 0 0 8px 1px "+((0,_getStyle.getStyle)(ca.calloutTarget[0],"color")||"#000")+"!important; }",styleEl=bouncex.addCss(styles,ca.obj1[0],"bx-campaign-"+ca_id+"-blur-shadow");ca.blur_gate_targets.add(ca.blur_gate_filler).addClass("bx-blur-"+ca_id+" bx-blur-textshadow"),ca.blur_gate_filler=ca.blur_gate_filler.add(styleEl)},addFillerIfNeeded:function(ca_id,fillerType){var ca=bouncex.campaigns[ca_id],contentHeight=0;ca.blur_gate_targets.each((function(i,el){return(contentHeight+=jQuery(el).height())<600}));var fillerAmountNeeded=600-contentHeight;fillerAmountNeeded>0&&blurGate.fillWithDummyContent(ca_id,fillerType,fillerAmountNeeded,0)},fillWithDummyContent:function(ca_id,fillerType,targetHeight,currentHeight){var ca=bouncex.campaigns[ca_id];if(currentHeight<targetHeight){var fillerVariationIndex=ca.blur_gate_filler.length%fillerType.length,filler=jQuery(fillerType[fillerVariationIndex]);ca.blur_gate_filler_placement.after(filler);var fillerHeight=filler.height();fillerHeight>0&&(ca.blur_gate_filler=ca.blur_gate_filler.add(filler),blurGate.fillWithDummyContent(ca_id,fillerType,targetHeight,currentHeight+fillerHeight))}},remove:function(ca_id){var ca=bouncex.campaigns[ca_id];ca.blur_gate_filler&&ca.blur_gate_filler.remove(),ca.blur_gate_targets&&ca.blur_gate_targets.removeClass("bx-blur-"+ca_id+" bx-blur bx-blur-hide bx-blur-textshadow")},add:function(ca_id){var ca=bouncex.campaigns[ca_id];ca.blur_gate_targets=jQuery(ca.callout_t+" ~ *").add(ca.blur_gate_inclusions).not(ca.blur_gate_exclusions).not(".bxc"),ca.blur_gate_filler_placement=ca.calloutTarget.next().is(ca.obj1)?ca.obj1:ca.calloutTarget,ca.blur_gate_filler=jQuery(),bouncex.browser.msie&&bouncex.browser.msie<=9?blurGate.addUsingRedactedContent(ca_id):10===bouncex.browser.msie||11===bouncex.browser.msie||bouncex.browser.edge?blurGate.addUsingTextShadow(ca_id):blurGate.addUsingCssFilters(ca_id)},addUsingRedactedContent:function(ca_id){var ca=bouncex.campaigns[ca_id],contentHeight=0;ca.blur_gate_targets.each((function(i,el){contentHeight+=jQuery(el).height()})),blurGate.fillWithDummyContent(ca_id,ca.blur_gate_redacted_filler,contentHeight,0);var textColor=(0,_getStyle.getStyle)(ca.calloutTarget[0],"color")||"#000",styles=".bx-blur-"+ca_id+".bx-blur-redacted b { color:"+textColor+"!important; background-color:"+textColor+"!important; }",styleEl=bouncex.addCss(styles,ca.obj1[0],"bx-campaign-"+ca_id+"-blur-redacted");ca.blur_gate_filler=ca.blur_gate_filler.add(styleEl),ca.blur_gate_targets.addClass("bx-blur-"+ca_id+" bx-blur-hide")},addUsingCssFilters:function(ca_id){var ca=bouncex.campaigns[ca_id];blurGate.addFillerIfNeeded(ca_id,ca.blur_gate_lorem_filler),ca.blur_gate_targets.add(ca.blur_gate_filler).addClass("bx-blur-"+ca_id+" bx-blur")}},_default=blurGate;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _activationTrigger=_interopRequireDefault(__webpack_require__(19)),_activationHelpers=_interopRequireDefault(__webpack_require__(61)),_keyboardTrigger=_interopRequireDefault(__webpack_require__(65)),_campaignHelpers=_interopRequireDefault(__webpack_require__(6)),_eventBinding=__webpack_require__(9),_helpers=_interopRequireDefault(__webpack_require__(0)),_scheduling=__webpack_require__(2),_activeTime=_interopRequireDefault(__webpack_require__(26)),_report=__webpack_require__(25);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var activationTypes={manual:function(p,v,ca_id){},control:function(p,v,ca_id){this.trigger(_campaignHelpers.default.triggerAd)},inter:function(p,v,ca_id){bouncex.cookie.vpv>=p&&this.trigger(_campaignHelpers.default.triggerAd)},bounce:function(p,v,ca_id){var bounce_campaign_registry=new Map,args=this,campaign=bouncex.campaigns[ca_id];return!!bounce_campaign_registry.has(campaign)||(bounce_campaign_registry.set(campaign,1),bouncex.state.mobile?bouncex.browser.ios&&!bouncex.browser.chrome?this.activate(activationTypes.__iosbounce):this.activate(activationTypes.__mobile_bounce):((0,_eventBinding.bxBind)("html,body","mouseout.bouncex_show_"+ca_id,(function(obj){_activationHelpers.default.process_mouse_out(obj,ca_id,args)}),ca_id),(bouncex.browser.msie||bouncex.browser.safari&&bouncex.browser.safari<=50)&&(0,_eventBinding.bxBind)("html,body","mousemove.bouncex_show_"+ca_id,(function(obj){_activationHelpers.default.process_mouse_move(obj,ca_id)}),ca_id),void _keyboardTrigger.default.setupKeyboardExitEventHandler(ca_id,args,_campaignHelpers.default.triggerAd,_eventBinding.bxBind)))},iosbounce:function(prop,val,ca_id){return this.activate(activationTypes.bounce)},__iosbounce:function(prop,val,ca_id){var args=this,closeOnReverse="yes"===val,browserData={windowProps:new _helpers.default.WindowProps,touchEnded:!0,init:function(){this.scrollSpeed=0,this.previousPosition=null,this.threshold=this.windowProps.thresholdHeight},refresh:function(){var props=this.windowProps.refresh(),previous=props.previous;this.orientation_changed=props.orientation!==previous.orientation,this.threshold_expanded=this.__thresholdExpanded(),this.orientation_changed?this.init():props.clientHeight>previous.clientHeight&&(this.threshold=props.thresholdHeight||props.clientHeight-previous.clientHeight)},__thresholdExpanded:function(){var props=this.windowProps;if(props.thresholdHeight)return props.thresholdHeight>this.threshold;var clientShrinkage=props.previous.clientHeight-props.clientHeight;return clientShrinkage&&clientShrinkage>=this.threshold},isScrollingUpSlowly:function(scrollSpeed){var scrollingUp=(scrollSpeed=null!=scrollSpeed?scrollSpeed:this.scrollSpeed)<0,scrollingSlowly=Math.abs(scrollSpeed)<=1;return scrollingUp&&scrollingSlowly},recalcScrollSpeed:function(touchY){var props=this.windowProps,prev=this.previousPosition,pos=this.previousPosition={timestamp:new Date,pageY:props.window.pageYOffset,touchY:touchY};if(!prev)return this.scrollSpeed=0;var outerHeight=props.outerHeight,seconds=(pos.timestamp-prev.timestamp)/1e3,dragged=prev.touchY&&pos.touchY&&prev.touchY-pos.touchY,scrolled=pos.pageY-prev.pageY,movement=dragged||scrolled;return this.scrollSpeed=Math.round(movement/seconds/outerHeight*100)/100}};browserData.init(),(0,_eventBinding.bxPassiveBind)(window,"touchstart.bouncex_iosbounce_"+ca_id,(function(evt){browserData.refresh(),browserData.touchEnded=!1,browserData.isResizing=!1;var touch=evt.changedTouches[0];browserData.recalcScrollSpeed(touch.clientY)}),ca_id),(0,_eventBinding.bxPassiveBind)(window,"touchend.bouncex_iosbounce_"+ca_id,(function(evt){if(!browserData.touchEnded){browserData.touchEnded=!0;var touch=evt.changedTouches[0];browserData.recalcScrollSpeed(touch.clientY),browserData.isResizing&&(clearTimeout(bouncex.events[ca_id]["orientation_timeout_"+ca_id]),bouncex.events[ca_id]["orientation_timeout_"+ca_id]=_activationHelpers.default.setIosBounceTimeout(ca_id,browserData,closeOnReverse,args))}}),ca_id),(0,_eventBinding.bxPassiveBind)(window,"resize.bouncex_iosbounce_"+ca_id,(function(){browserData.isResizing=!0,browserData.touchEnded&&(clearTimeout(bouncex.events[ca_id]["orientation_timeout_"+ca_id]),bouncex.events[ca_id]["orientation_timeout_"+ca_id]=_activationHelpers.default.setIosBounceTimeout(ca_id,browserData,closeOnReverse,args))}),ca_id)},mobile_bounce:function(prop,val,ca_id){return this.activate(activationTypes.bounce)},__mobile_bounce:function(prop,val,ca_id){var scrollDirection,args=this,lastY=0,closeOnReverse="yes"===val,closeDelayInterval=0;clearInterval(bouncex.campaigns[ca_id].mobile_interval),bouncex.campaigns[ca_id].mobile_interval=(0,_scheduling.setIntervalWrapper)((function(){var readyToClose,currentY=window.scrollY,speed=.1*Math.abs(currentY-lastY);currentY>lastY?scrollDirection="down":currentY<lastY&&(scrollDirection="up"),readyToClose=bouncex.campaigns[ca_id].ad_visible&&closeOnReverse&&"down"===scrollDirection,!0===bouncex.campaigns[ca_id].ad_shown&&closeDelayInterval++,_campaignHelpers.default.can_show_ad(ca_id)&&"up"===scrollDirection&&speed>50?(args.trigger(_campaignHelpers.default.triggerAd),closeOnReverse||clearInterval(bouncex.campaigns[ca_id].mobile_interval)):readyToClose&&closeDelayInterval>10&&(clearInterval(bouncex.campaigns[ca_id].mobile_interval),bouncex.close_ad(ca_id,!0)),lastY=currentY}),100)},timer:function(p,v,ca_id){var args=this;bouncex.events[ca_id].timeout_timer=(0,_scheduling.setTimeoutWrapper)((function(){args.trigger(_campaignHelpers.default.triggerAd)}),1e3*parseInt(v))},back:function(p,v,ca_id){if(!window.angular){var eligible=!1;if("landing_page"==p?bouncex.state.iol&&(eligible=!0):eligible=!0,eligible){var args=this;if(history.pushState){if(!history.state||!history.state.bx_rewind)if(bouncex.browser.chrome&&(bouncex.browser.iphone||bouncex.browser.ipad)){var events="touchend.bcx_rewind_fix_"+ca_id;(0,_eventBinding.bxBind)(bouncex.body,events,(function(){bouncex.body.unbind(events),history.pushState({bx_rewind:"bx_rewind1"},"","")}),ca_id)}else history.pushState({bx_rewind:"bx_rewind1"},"",decodeURIComponent(bouncex.calling_url));bouncex.original_hash=window.location.hash,(0,_eventBinding.bxBind)(bouncex.window,"popstate.bcx_popstate_"+ca_id,(function(event,v,k){history.state||"landing_page"==p&&bouncex.browser.safari&&history.state&&history.state.bx_rewind||bouncex.original_hash!==window.location.hash||history.state&&history.state.bx_rewind||"popstate"!=event.type||(_campaignHelpers.default.can_show_ad(ca_id)?(args.trigger(_campaignHelpers.default.triggerAd),clearTimeout(bouncex.rewind_control_timeout),bouncex.campaigns[ca_id].control&&!bouncex.rewind_variation_timeout?bouncex.rewind_control_timeout=(0,_scheduling.setTimeoutWrapper)((function(){history.back()}),300):bouncex.rewind_variation_timeout=(0,_scheduling.setTimeoutWrapper)((function(){delete bouncex.rewind_variation_timeout}),300)):(bouncex.window.unbind("popstate.bcx_popstate_"+ca_id),history.back()))}),ca_id)}}}},pers:function(p,v,ca_id){var eligible=!1;bouncex.campaigns[ca_id].is_pers=!0,("landing_page"===p&&bouncex.state.iol||"landing_page"!==p)&&(eligible=!0),eligible&&this.trigger(_campaignHelpers.default.triggerAd)},worm:function(p,v,ca_id){_campaignHelpers.default.noteCookieAdShown(ca_id),(0,_report.report)(ca_id,"pop",{"pop:activation":"worm"}),_campaignHelpers.default.teleport("_self",v)},inactivity:function(p,v,ca_id){var args=this,inactivity_events="mousemove.bouncex_inactivity_"+ca_id+" keydown.bouncex_inactivity_"+ca_id+" DOMMouseScroll.bouncex_inactivity_"+ca_id+" mousewheel.bouncex_inactivity_"+ca_id+" mousedown.bouncex_inactivity_"+ca_id+" touchstart.bouncex_inactivity_"+ca_id+" touchmove.bouncex_inactivity_"+ca_id+" focus.bouncex_inactivity_"+ca_id;(0,_eventBinding.bxPassiveBind)(window,inactivity_events,(function(){clearTimeout(bouncex.events[ca_id].inactivity),bouncex.events[ca_id].inactivity=_activationHelpers.default.setInactivityTimeout(ca_id,v,inactivity_events,args)}),ca_id),bouncex.events[ca_id].inactivity=_activationHelpers.default.setInactivityTimeout(ca_id,v,inactivity_events,args)},reactivity:function(p,v,ca_id){var args=this,activity_events="mousemove.bouncex_activity_"+ca_id+" keydown.bouncex_activity_"+ca_id+" DOMMouseScroll.bouncex_activity_"+ca_id+" mousewheel.bouncex_activity_"+ca_id+" mousedown.bouncex_activity_"+ca_id+" touchstart.bouncex_activity_"+ca_id+" touchmove.bouncex_activity_"+ca_id+" focus.bouncex_activity_"+ca_id;(0,_eventBinding.bxPassiveBind)(window,activity_events,(function(){clearTimeout(bouncex.events[ca_id].reactivity),bouncex.events[ca_id].reactivity=_activationHelpers.default.setReactivityTimeout(ca_id,v,activity_events,args)}),ca_id),bouncex.events[ca_id].reactivity=_activationHelpers.default.setReactivityTimeout(ca_id,v,activity_events,args)},scroll:function(detectScrollingUp,v,ca_id,speedThreshold,closeOnReverse){var lastPos,lastScrolled,checkSpeedAndDirection,args=this,docHeight=jQuery(document).height(),oldViewportHeight=bouncex.wndsize().height,targetPercentage=parseInt(v);detectScrollingUp=1===detectScrollingUp,speedThreshold=!!speedThreshold&&parseInt(speedThreshold),checkSpeedAndDirection=detectScrollingUp||speedThreshold,closeOnReverse=!!closeOnReverse,(0,_eventBinding.bxBind)(window,"scroll.bouncex_"+ca_id,(function(event){var pos,percentageScrolledCriteriaMet,changeInY,velocity,isMovingDown,now=(new Date).getTime(),scroll=window.pageYOffset||document.body.scrollTop,windowSize=bouncex.wndsize(),screenSizeChanged=windowSize.height!==oldViewportHeight,isOverScroll=windowSize.height+scroll+5>=docHeight||scroll-5<=0,isVisible=bouncex.campaigns[ca_id].ad_visible,directionCriteriaMet=!checkSpeedAndDirection,velocityCriteriaMet=!checkSpeedAndDirection;if(pos=detectScrollingUp?(docHeight-windowSize.height-scroll)/(docHeight-windowSize.height)*100:(scroll+windowSize.height)/docHeight*100,percentageScrolledCriteriaMet=detectScrollingUp?pos>=targetPercentage:parseInt(pos)+targetPercentage>100&&pos>lastPos,checkSpeedAndDirection&&(void 0===lastScrolled||void 0===pos))return lastScrolled=now,void(lastPos=pos);checkSpeedAndDirection&&(changeInY=detectScrollingUp?(docHeight-windowSize.height)*(lastPos-pos)/100:docHeight*(pos-lastPos)/100,velocity=100*Math.abs(changeInY/(now-lastScrolled)),isMovingDown=changeInY>0,directionCriteriaMet=detectScrollingUp&&!isMovingDown||!detectScrollingUp&&isMovingDown,velocityCriteriaMet=!speedThreshold||velocity>=speedThreshold);lastScrolled=now,lastPos=pos,oldViewportHeight=windowSize.height,closeOnReverse&&!screenSizeChanged&&!isOverScroll&&(isVisible&&!directionCriteriaMet||isVisible&&!percentageScrolledCriteriaMet)&&(bouncex.close_ad(ca_id,!0),_campaignHelpers.default.can_show_ad(ca_id,!0)||jQuery(window).unbind("scroll.bouncex_"+ca_id)),velocityCriteriaMet&&percentageScrolledCriteriaMet&&directionCriteriaMet&&!screenSizeChanged&&!isOverScroll&&(args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||closeOnReverse||jQuery(window).unbind("scroll.bouncex_"+ca_id))}),ca_id)},mclick:function(p,v,ca_id){var args=this;if("left"==p&&"teleport"==bouncex.campaigns[ca_id].overlay&&"_self"!==bouncex.campaigns[ca_id].overlay_teleport_type){var handle=function(){args.trigger(_campaignHelpers.default.triggerAd)};(0,_eventBinding.bxBind)(window.document,"click.bouncex_mclick_"+ca_id,handle,ca_id)}else{handle=function(event){var keyCode=event.keyCode||event.which||event.button;event.button&&2==event.button&&(keyCode=3),("left"==p&&1==keyCode||"any"==p)&&args.trigger(_campaignHelpers.default.triggerAd),("right"==p&&3==keyCode||"any"==p)&&args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||bouncex.off(jQuery(window.document),"mousedown.bouncex_mclick_"+ca_id)};(0,_eventBinding.bxBind)(window.document,"mousedown.bouncex_mclick_"+ca_id,handle,ca_id)}},hover:function(delay,selector,ca_id,showOnUnhover){delay=delay?Math.round(1e3*delay):500,showOnUnhover=1===showOnUnhover;var normalizedIdentifier=selector.replace(/\W/g,""),$target=jQuery(selector),show=_activationHelpers.default.showHover.bind(null,ca_id,normalizedIdentifier,this),handle=_activationHelpers.default.handleHover.bind(null,ca_id,normalizedIdentifier,delay,selector,showOnUnhover,show),unhandle=_activationHelpers.default.unhandleHover.bind(null,ca_id,normalizedIdentifier);(0,_eventBinding.bxBind)(selector,"mouseenter.bx"+ca_id+normalizedIdentifier,handle,ca_id),(0,_eventBinding.bxBind)(selector,"mouseleave.bx"+ca_id+normalizedIdentifier,unhandle,ca_id),bouncex.events[ca_id]["listener_hover"+normalizedIdentifier]=function(){$target.unbind("mouseenter.bx"+ca_id+normalizedIdentifier,handle),$target.unbind("mouseleave.bx"+ca_id+normalizedIdentifier,unhandle),$target.unbind("mouseleave.bx"+ca_id+normalizedIdentifier,show)}},clickon:function(p,selector,ca_id){var args=this,normalizedIdentifier=selector.replace(/\W/g,""),handle=function(){jQuery(selector).length&&(args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||bouncex.events[ca_id]["listener_clickon"+normalizedIdentifier]())};void 0!==bouncex.body.on?(bouncex.body.on("click.bx"+ca_id+normalizedIdentifier,selector,handle),bouncex.events[ca_id]["listener_clickon"+normalizedIdentifier]=function(){bouncex.body.off("click.bx"+ca_id+normalizedIdentifier,selector,handle)}):(bouncex.body.delegate(selector,"click.bx"+ca_id+normalizedIdentifier,handle),bouncex.events[ca_id]["listener_clickon"+normalizedIdentifier]=function(){bouncex.body.undelegate(selector,"click.bx"+ca_id+normalizedIdentifier,handle)})},change:function(p,selector,ca_id){var args=this,normalizedIdentifier=selector.replace(/\W/g,""),handle=function(){jQuery(selector).length&&(args.trigger(_campaignHelpers.default.triggerAd),_campaignHelpers.default.can_show_ad(ca_id,!0)||bouncex.events[ca_id]["listener_change"+normalizedIdentifier]())};void 0!==bouncex.body.on?(bouncex.body.on("change.bx"+ca_id+normalizedIdentifier,selector,handle),bouncex.events[ca_id]["listener_change"+normalizedIdentifier]=function(){bouncex.body.off("change.bx"+ca_id+normalizedIdentifier,selector,handle)}):(bouncex.body.delegate(selector,"change.bx"+ca_id+normalizedIdentifier,handle),bouncex.events[ca_id]["listener_change"+normalizedIdentifier]=function(){bouncex.body.undelegate(selector,"change.bx"+ca_id+normalizedIdentifier,handle)})},waypoint:function(offsetAmount,selector,campaign_id,unit,detectScrollingUp,bottomOfWindow,topOfTarget,closeOnReverse){var args=this;detectScrollingUp=!!detectScrollingUp,bottomOfWindow=!!bottomOfWindow,topOfTarget=!!topOfTarget,closeOnReverse=!!closeOnReverse;var offsetUnitIsPercent=!!unit;offsetAmount=(parseInt(offsetAmount)||0)/(offsetUnitIsPercent?100:1);var campaign=bouncex.campaigns[campaign_id],eventName="scroll.bx.waypoint."+campaign_id+" resize.bx.waypoint."+campaign_id,$root=bouncex.window,scrollTimeout=null,lastScrollPosition=_activationHelpers.default.getCurrentScrollPosition($root,bottomOfWindow),detectCrossing=function(){var currentScrollPosition=_activationHelpers.default.getCurrentScrollPosition($root,bottomOfWindow);if(currentScrollPosition!==lastScrollPosition){var scrollingTowardsOpen=detectScrollingUp^currentScrollPosition>lastScrollPosition,lookingToOpen=!campaign.ad_shown||campaign.ad_closed,lookingToClose=closeOnReverse&&!lookingToOpen,$element=(scrollingTowardsOpen?lookingToOpen:lookingToClose)&&jQuery(selector).eq(0);if($element&&$element.length){var elementHeight=$element.height(),offset=offsetUnitIsPercent?elementHeight*offsetAmount:offsetAmount,threshold=$element.offset().top+offset+(topOfTarget?0:elementHeight),hasCrossedWaypoint=threshold<lastScrollPosition^threshold<currentScrollPosition;hasCrossedWaypoint&&lookingToOpen&&args.trigger(_campaignHelpers.default.triggerAd),hasCrossedWaypoint&&lookingToClose&&bouncex.close_ad(campaign_id,!0)}if(campaign.trypopTriggered)(campaign.failed||(closeOnReverse?campaign.ad_closed:campaign.ad_shown)&&!_campaignHelpers.default.can_show_ad(campaign_id,!0))&&$root.unbind(eventName);lastScrollPosition=currentScrollPosition}};(0,_eventBinding.bxBind)(window,eventName,(function(){clearTimeout(scrollTimeout),scrollTimeout=(0,_scheduling.setTimeoutWrapper)(detectCrossing,30)}),campaign_id)},highlight_text:function(minTextLength,selector,campaign_id,bufferLength){var args=this,selectionEventName="selectionchange.bouncex_highlight_text_"+campaign_id,focusEventName="focus.bouncex_highlight_text_"+campaign_id,$element=jQuery(selector).eq(0);function nodesIntersect(nodeA,nodeB){var intersection=Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_CONTAIN;return nodeA===nodeB||!!(nodeA.compareDocumentPosition(nodeB)&intersection)}function isHighlighted(event){var targetNode=document.querySelector(selector),anchorNode=document.getSelection().anchorNode,focusNode=document.getSelection().focusNode,anchorOffset=document.getSelection().anchorOffset,focusOffset=document.getSelection().focusOffset,lengthSelected=Math.abs(focusOffset-anchorOffset),targetLength=targetNode.textContent.length+bufferLength,focusedElement=document.activeElement,minimumSelection=lengthSelected>=minTextLength&&lengthSelected<=targetLength,voiceOverSelection=0===anchorOffset&&0===focusOffset||focusOffset===anchorNode.length&&anchorOffset===anchorNode.length;(focusedElement===targetNode||voiceOverSelection||minimumSelection)&&function(targetNode,focusNode,anchorNode){return nodesIntersect(targetNode,anchorNode)||anchorNode!==focusNode&&nodesIntersect(targetNode,focusNode)}(targetNode,focusNode,anchorNode)&&args.trigger(_campaignHelpers.default.triggerAd)}minTextLength=parseInt(minTextLength)||5,bufferLength=parseInt(bufferLength)||5,$element.length&&((0,_eventBinding.bxBind)(document,selectionEventName,isHighlighted,campaign_id),(0,_eventBinding.bxBind)(window,focusEventName,isHighlighted,campaign_id),_campaignHelpers.default.can_show_ad(campaign_id,!0)||(bouncex.document.unbind(selectionEventName),bouncex.window.unbind(focusEventName)))},tab_unfocus:function(delay,v,ca_id,triggerClick,triggerClose){var d=parseInt(delay),args=this;(0,_eventBinding.bxBind)(window,"blur.bouncex_tabunfocus_"+ca_id,(function(){bouncex.events[ca_id].tabunfocus_delay=bouncex.events[ca_id].tabunfocus_delay||(0,_scheduling.setTimeoutWrapper)((function(){args.trigger(_campaignHelpers.default.triggerAd),(0,_eventBinding.bxBind)(window,"focus.bouncex_tabunfocus_"+ca_id,(function(){bouncex.window.unbind("focus.bouncex_tabunfocus_"+ca_id),"yes"===triggerClick&&(0,_report.report)(ca_id,"click"),"yes"===triggerClose&&(clearTimeout(bouncex.events[ca_id].tabunfocus_delay),delete bouncex.events[ca_id].tabunfocus_delay,bouncex.close_ad(ca_id))}),ca_id),_campaignHelpers.default.can_show_ad(ca_id,!0)||bouncex.window.unbind("blur.bouncex_tabunfocus_"+ca_id)}),1e3*d)}),ca_id)},tab_focus:function(delay,v,ca_id,triggerClick,triggerClose){var d=parseInt(delay)||0,args=this;(0,_eventBinding.bxBind)(window,"blur.bouncex_tab_focus_"+ca_id,(function(){bouncex.events[ca_id].tab_focus_delay=bouncex.events[ca_id].tab_focus_delay||(0,_scheduling.setTimeoutWrapper)((function(){(0,_eventBinding.bxBind)(window,"focus.bouncex_tab_focus_"+ca_id,(function(){args.trigger(_campaignHelpers.default.triggerAd),bouncex.window.unbind("focus.bouncex_tab_focus_"+ca_id),"yes"===triggerClick&&(0,_report.report)(ca_id,"click"),"yes"===triggerClose&&(clearTimeout(bouncex.events[ca_id].tab_focus_delay),delete bouncex.events[ca_id].tab_focus_delay,bouncex.close_ad(ca_id)),_campaignHelpers.default.can_show_ad(ca_id,!0)||bouncex.window.unbind("blur.bouncex_tab_focus_"+ca_id)}),ca_id)}),1e3*d)}),ca_id)},finished_typing:function(p,selector,ca_id){var args=this,$target=jQuery(selector).eq(0);if($target.length){var normalizedIdentifier=selector.replace(/\W/g,"");(0,_eventBinding.bxBind)(selector,"keyup.bx"+ca_id+normalizedIdentifier+", blur.bx"+ca_id+normalizedIdentifier,(function(event){var inputVal=jQuery(this).val();_activationHelpers.default.handleFinishedTyping(event,ca_id,normalizedIdentifier,$target,args,inputVal)}),ca_id)}},active_time:function(p,v,ca_id){var args=this,seconds=v;bouncex.campaigns[ca_id].activityArgs=args,bouncex.campaigns[ca_id].activeTimeCallback=_activeTime.default.addCallback(seconds,(function(){args.trigger(_campaignHelpers.default.triggerAd)}))}},_default={init:function(){return Object.keys(activationTypes).forEach((function(type){"function"==typeof activationTypes[type]&&(activationTypes[type]=_activationTrigger.default.wrapActivationFunction(type,activationTypes[type]))})),activationTypes}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.keyboardExitHandler=keyboardExitHandler,exports.default=void 0;var obj,_helpers=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj};function triggerAndUnbind(ev,ca_id,args,trigger_ad){args.trigger(trigger_ad),bouncex.campaigns[ca_id].ad_shown&&(ev.preventDefault(),jQuery("html,body").unbind("keydown.bouncex_bounce"))}function keyboardExitHandler(event,ca_id,args,trigger_ad){var ev=event||window.event,key=ev.key,alphaKeyArray=["1","2","3","4","5","6","7","8","9","l","m"];_helpers.default.getOS()===_helpers.default.OS.MACOS?ev.metaKey&&(["ArrowLeft","ArrowRight","Backspace"].indexOf(key)>-1||alphaKeyArray.indexOf(key)>-1)&&triggerAndUnbind(ev,ca_id,args,trigger_ad):(ev.altKey&&["ArrowLeft","ArrowRight"].indexOf(key)>-1||ev.ctrlKey&&alphaKeyArray.indexOf(key)>-1)&&triggerAndUnbind(ev,ca_id,args,trigger_ad)}var _default={setupKeyboardExitEventHandler:function(ca_id,args,trigger_ad,bxBind){bxBind("html,body","keydown.bouncex_bounce."+ca_id,(function(event){return keyboardExitHandler(event,ca_id,args,trigger_ad)}),ca_id)}};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var integrations={gtag:function(action,label){window.gtag("event",action,{send_to:bouncex.website.gai,event_category:"Wunderkind",event_label:label,non_interaction:!0})},ga:function(action,label,interaction){bouncex.website.gai?window.ga((function(){var trackers=window.ga.getAll().filter((function(tracker){return tracker.get("trackingId")===bouncex.website.gai}));trackers.length&&window.ga(trackers[0].get("name")+".send","event","Wunderkind",action,label,{nonInteraction:interaction})})):window.ga("send","event","Wunderkind",action,label,{nonInteraction:interaction})},_gaq:function(action,label,interaction){var strippedLabel=label.replace(/\(|\)/g,"");bouncex.website.gai&&window._gaq.push(["_setAccount",bouncex.website.gai]),window._gaq.push(["_trackEvent","Wunderkind",action,strippedLabel,,interaction])}},_default={report:function(action,label,bypass){if("string"==typeof action&&"string"==typeof label){var type,formattedAction=function(action,bypass){var formattedAction;return void 0!==bypass&&!!bypass||(formattedAction="Wunderkind "+action.charAt(0).toUpperCase()+action.slice(1).toLowerCase()),formattedAction||action}(action,bypass),interaction=/Impression$/.test(formattedAction);"function"==typeof window.gtag&&bouncex.website.gai?type="gtag":"function"==typeof window.ga?type="ga":"object"===_typeof(window._gaq)&&(type="_gaq"),type&&integrations[type]&&integrations[type](formattedAction,label,interaction)}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=BounceX;var _campaign=_interopRequireDefault(__webpack_require__(42)),_gbi_campaign=_interopRequireDefault(__webpack_require__(69)),_logger=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function BounceX(bouncex){bouncex&&Object.assign(this,bouncex),this.updateQueue={bounce:[],visit:[],subscribers:new Map}}Object.assign(BounceX.prototype,{campaigns:null,instantiateCampaigns:function(){this.campaigns&&(Object.keys(this.campaigns).forEach(this.instantiateCampaignId,this),this.sortCampaigns())},instantiateCampaignId:function(campaign_id){var campaign=this.campaigns[campaign_id];if(campaign&&!(campaign instanceof _campaign.default)){var prototype=_campaign.default.isGbi2Campaign(campaign)?_gbi_campaign.default:_campaign.default;this.campaigns[campaign_id]=new prototype(campaign,campaign_id)}return this.campaigns[campaign_id]},sortCampaigns:function(){var campaigns=this.campaigns;if(!campaigns||Object.keys(campaigns).length<=1)return campaigns;var campaigns_sorted=Object.keys(campaigns).sort((function(a,b){return campaigns[a].sortOrder-campaigns[b].sortOrder}));return campaigns_sorted.join()===Object.keys(campaigns).join()||campaigns_sorted.forEach((function(campaignId){var campaign=campaigns[campaignId];delete campaigns[campaignId]&&(campaigns[campaignId]=campaign)})),campaigns},processQueuedUpdates:function(){try{this._processBounceCookieQueue(),this._processBounceVisitCookieQueue(),this._notifyCookieSubscribers()}catch(e){_logger.default.error(e)}},_notifyCookieSubscribers:function(){0!==this.updateQueue.subscribers.size&&this.updateQueue.subscribers.forEach((function(callback,name){callback(name)}))},subscribeToCookie:function(options){var requiredOptions=options.callback&&options.name,alreadySubscribed=this.updateQueue.subscribers.has(options.name);requiredOptions&&!alreadySubscribed&&this.updateQueue.subscribers.set(options.name,options.callback)},unsubscribeFromCookie:function(subscriberName){this.updateQueue.subscribers.delete(subscriberName)},_processBounceCookieQueue:function(){0!==this.updateQueue.bounce.length&&void 0!==(this.getBounceCookie&&this.getBounceCookie())&&(this.updateQueue.bounce.forEach((function(update){if(this.cookie=this.getBounceCookie(),this.cookie){if(update)if("function"==typeof update)try{update(this.cookie),this.setBounceCookie()}catch(e){var msg={group:"Cookie Updates",message:e};_logger.default.error(msg)}else Object.assign(this.cookie,update),this.setBounceCookie()}else msg={group:"Cookie Updates",message:"Could not retrieve cookie or cookie undefined"},_logger.default.error(msg)}),this),this.updateQueue.bounce=[])},_processBounceVisitCookieQueue:function(){0!==this.updateQueue.visit.length&&(void 0!==this.getBounceVisitCookie()?(this.updateQueue.visit.forEach((function(update){this.visit_cookie=this.parseJSON(this.getBounceVisitCookie()),update&&("function"==typeof update?(update(this.visit_cookie),this.setBounceVisitCookie()):(Object.assign(this.visit_cookie,update),this.setBounceVisitCookie()))}),this),this.updateQueue.visit=[]):_logger.default.error("Could not retrieve cookie or cookie undefined"))},updateBounceCookie:function(update){try{this.updateQueue.bounce.push(update),this.processQueuedUpdates()}catch(e){var msg={group:"Cookie Updates",message:e};_logger.default.error(msg)}},updateBounceVisitCookie:function(update){try{this.updateQueue.visit.push(update),this.processQueuedUpdates()}catch(e){var msg={group:"Cookie Updates",message:e};_logger.default.error(msg)}}})},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.DeploymentType=DeploymentType,exports.DeploymentFloater=DeploymentFloater,exports.DeploymentMasthead=DeploymentMasthead;var obj,_event=__webpack_require__(43),_helpers=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj};function DeploymentType(deployment,campaign){var deploymentType=deployment&&DeploymentType.types[deployment];if(deploymentType)return new deploymentType(campaign)}function DeploymentFloater(campaign){this.__init(campaign)}function DeploymentMasthead(campaign){this.__init(campaign)}Object.assign(DeploymentType,{BLOCKED_NONE:0,BLOCKED_SOFT:1,BLOCKED_HARD:2,findCampaign:function(deployment){for(var campaignList=Object.values(bouncex.campaigns||{}),i=0;i<campaignList.length;i++)if(!campaignList[i].failed&&campaignList[i].deployment===deployment)return campaignList[i];return null}}),Object.assign(DeploymentType.prototype,{__init:function(campaign){this.campaign=campaign},handleEvent:function(event){var eventType=event.type;null!==this.handleEventTypes&&eventType in this.handleEventTypes&&this.handleEventTypes[eventType].apply(this,arguments)},handleEventTypes:null,isBlocked:function(){return DeploymentType.BLOCKED_NONE},isReadyForAuction:function(inthefuture){var isBlocked=this.isBlocked();return inthefuture?isBlocked!==DeploymentType.BLOCKED_HARD:!isBlocked},canShow:function(){return this.isBlocked()===DeploymentType.BLOCKED_NONE}}),Object.assign(DeploymentFloater.prototype=Object.create(DeploymentType.prototype,{constructor:Object.getOwnPropertyDescriptor(DeploymentFloater.prototype,"constructor")}),{topScrolledPos:0,__init:function(campaign){DeploymentType.prototype.__init.apply(this,arguments),this.pinned=!1,this.attachListeners(campaign)},attachListeners:function(campaign){campaign.once("impression.bx",this,!1),campaign.once("activation.bx",this,!1)},pinCreative:function(){var campaignElement=this.campaign.getElement();campaignElement.classList.add("bx-deployment-floater-pinned"),campaignElement.classList.remove("bx-deployment-floater"),this.pinned=!0,this.campaign.unhide()},scaleFloatingMasthead:function(){var availableHeight=Math.ceil(.2*(new _helpers.default.WindowProps).height),adHeight=this.campaign.getElement().offsetHeight,scale=Math.round(100*availableHeight/adHeight)/100;if(scale<1){var selector=".bxc.bx-base.bx-campaign-".concat(this.campaign.id,".bx-deployment-floater .bx-wrap"),rule="{ transform-origin: top; transform: scale(".concat(scale,"); height: ").concat(availableHeight,"px }");this.campaign.getStyleSheet().insertRule("".concat(selector," ").concat(rule),0),this.topScrolledPos+=adHeight-availableHeight}},handleEventTypes:{"impression.bx":function(){var campaignElement=this.campaign.getElement(),campaignElementJQ=jQuery(this.campaign.getElement()),height=campaignElementJQ.find(".bx-slab").height(),maxWidth=this.campaign.calloutTarget&&this.campaign.calloutTarget.width();maxWidth=maxWidth?"".concat(maxWidth,"px"):"inherit",campaignElementJQ.css({height:"".concat(height,"px"),"max-width":maxWidth});var clientRects=campaignElement.getBoundingClientRect&&campaignElement.getBoundingClientRect(),topBodyPos=clientRects&&clientRects.top||0;topBodyPos<0?(this.topScrolledPos=window.scrollY+topBodyPos,this.scaleFloatingMasthead(),(0,_event.BXScrollHandler)(this)):this.pinCreative()},"scroll.bx":function(event,listener){var campaign=this.campaign;if(campaign&&!campaign.ad_closed&&campaign.ad_visible&&!this.pinned){var downScroll="down"===event.detail.direction,isTopScrolled=event.detail.pos<=this.topScrolledPos,isFastScroll=event.detail.fast;downScroll?campaign.hide():isTopScrolled?(this.pinCreative(),_event.BXEventListener.remove(listener)):isFastScroll&&campaign.unhide()}else _event.BXEventListener.remove(listener)},"activation.bx":function(){var masthead=Object.values(bouncex.campaigns).filter((function(ca){return"masthead"===ca.deployment}))[0];masthead&&!masthead.failed&&masthead.preclude(this.campaign.id)}},isBlocked:function(){var masthead=DeploymentType.findCampaign("masthead");return masthead&&masthead.trigger?DeploymentType.BLOCKED_HARD:DeploymentType.BLOCKED_NONE},canShow:function(){if(this.isBlocked()!==DeploymentType.BLOCKED_NONE)return!1;if(this.campaign.hasBids())return!0;var masthead=DeploymentType.findCampaign("masthead");return!(masthead&&masthead.hasBids())}}),Object.assign(DeploymentMasthead.prototype=Object.create(DeploymentType.prototype,{constructor:Object.getOwnPropertyDescriptor(DeploymentMasthead.prototype,"constructor")}),{isBlocked:function(){var floatingMasthead=DeploymentType.findCampaign("floater");return floatingMasthead&&floatingMasthead.trigger?DeploymentType.BLOCKED_HARD:DeploymentType.BLOCKED_NONE},canShow:function(){if(this.isBlocked()!==DeploymentType.BLOCKED_NONE)return!1;var floatingMasthead=DeploymentType.findCampaign("floater");return!(floatingMasthead&&floatingMasthead.hasBids())}}),DeploymentType.types={floater:DeploymentFloater,masthead:DeploymentMasthead}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=GBI_Campaign;var _campaign=_interopRequireDefault(__webpack_require__(42)),_adformat=_interopRequireDefault(__webpack_require__(70)),_helpers=__webpack_require__(0),_domHelpers=__webpack_require__(71),_framewatcher=_interopRequireDefault(__webpack_require__(44)),_preload=__webpack_require__(27);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function GBI_Campaign(campaign,campaign_id){_campaign.default.apply(this,arguments)}Object.assign(GBI_Campaign.prototype=Object.create(_campaign.default.prototype,{constructor:Object.getOwnPropertyDescriptor(GBI_Campaign.prototype,"constructor")}),{isGBI2:!0,adformats:null,providers:null,__init:function(){_campaign.default.prototype.__init.call(this),this.attachListeners()},hasBids:function(){return!!(this.gbi&&this.gbi.bids&&this.gbi.bids.length)},updateWinningBids:function(filters){var adformats=this.updateAdFormats(),winningBids=new Set;return Object.values(adformats).forEach((function(adformat){(adformat.winningBid=adformat.findWinningBid(filters))&&winningBids.add(adformat.winningBid)})),winningBids},updateAdFormats:function(){var bids=this.gbi.bids||[],placements=this.gbi.placements||{},activationMediaTypes=this.activationMediaTypes(),adformats=this.adformats={all:new _adformat.default("all",bids)};return bids.forEach((function(bid){var placement=bid.placementId&&placements[bid.placementId],mediaType=placement&&placement.mediaType;activationMediaTypes.has(mediaType)&&(adformats[mediaType]||(adformats[mediaType]=new _adformat.default(mediaType))).bids.push(bid)})),adformats},activationMediaTypes:function(){var mediaTypes=new Set;return mediaTypes.add("all"),this.activations&&this.activations.forEach((function(activation){activation.adformat&&mediaTypes.add(activation.adformat)})),mediaTypes},activationAdFormat:function(activationType){var activation=this.activations&&this.activations.filter((function(act){return act.activation===activationType}))[0],activationMediaType=activation&&activation.adformat||"all";return this.adformats&&this.adformats[activationMediaType]},activationBid:function(activationType){var adformat=this.activationAdFormat(activationType);return adformat&&adformat.winningBid},isReadyForAuction:function(inthefuture){return!(this.ad_shown||this.failed||this.trigger||this.deployment_type&&!this.deployment_type.isReadyForAuction(inthefuture)||!inthefuture&&(!this.activated||this.winningBid||this.gbi.ready))},getProviders:function(){if(null!==this.providers)return this.providers;var campaign_providers={},placements=this.gbi.placements;for(var placement_id in placements)for(var placement_providers=placements[placement_id].providers,i=0;i<placement_providers.length;i++){var provider_name=placement_providers[i];(campaign_providers[provider_name]||(campaign_providers[provider_name]=[])).push(placement_id)}return this.providers=campaign_providers},preloadDisplayAd:function(content){this.removePreloader(),this.log("preloading display ad");var container=this.getContainer();content=(content=(0,_preload.adjustPreloadContent)(content,_preload.excludeFromPreloadRgx)).replace(/wkndTmpsrc/g,"wkndPreloadsrc");var moatIntercept="\n        window.parent.bouncex.campaigns[".concat(this.id,"].preloadFrameWatcher.interceptElements(").concat(_preload.excludeFromPreloadRgx.toString(),");\n        "),scripts="<script>\n        ".concat("var inDapIF = true;","\n        ").concat(moatIntercept,"\n      <\/script>");content='<html><head><base target="_blank"/>'.concat(scripts,'</head><body marginwidth="0" marginheight="0">').concat(content,"</body>");try{var displayFrame=(0,_helpers.createElement)("iframe",{style:"display:none",srcdoc:content}),preloadFrameWatcher=new _framewatcher.default(displayFrame);this.preloadFrameWatcher=preloadFrameWatcher,this.preloadFrameWatcher.campaignId=this.id,container.appendChild(displayFrame)}catch(e){this.log(["error preloading ad",e],"error")}},removePreloader:function(){var preloadFrameWatcher=this.preloadFrameWatcher;delete this.preloadFrameWatcher,preloadFrameWatcher&&preloadFrameWatcher.frameElement&&preloadFrameWatcher.frameElement.parentNode&&preloadFrameWatcher.frameElement.parentNode.removeChild(preloadFrameWatcher.frameElement)},isPrerendered:function(content){var frameElement=this.frameWatcher&&this.frameWatcher.frameElement;if(!frameElement||!content||content!==this.frameWatcher.sourceContent)return!1;var container=this.getContainer();return!(!container||!container.contains(frameElement))},hasVisibleContent:function(element){return(0,_domHelpers.elementHasVisibleContent)(element||this.getContainer())},handleEvent:function(event){var eventType=event.type;if(null!==this.handleEventTypes&&eventType in this.handleEventTypes)return this.handleEventTypes[eventType].apply(this,arguments)},attachListeners:function(){this.once("impression.bx",this,!1)},handleEventTypes:{"impression.bx":function(){setTimeout(this.checkForRemovedAd.bind(this),1e3)}},checkForRemovedAd:function(){!this.ad_visible||this.ad_closed||this.failed||this.hasVisibleContent()||(this.dispatchEvent("adRemoved.bx"),bouncex.gbi2._reportAdIntervention(this.id,"removal"))}})},function(module,exports,__webpack_require__){function AdFormat(mediaType,bids){this.id=mediaType,this.bids=bids||[]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AdFormat,Object.assign(AdFormat.prototype,{findWinningBid:function(filters){return this.bids&&this.__findWinningBid(this.bids,filters)||null},__findWinningBid:function(eligibleBids,filters){for(var i=0;i<filters.length;i++){if(eligibleBids.length<=1)return eligibleBids[0];eligibleBids=filters[i](eligibleBids)}return eligibleBids[0]}})},function(module,exports,__webpack_require__){function elementIsHidden(element){return!(element&&!element.hidden&&element.clientHeight&&0!==element.getClientRects().length)||"hidden"===element.ownerDocument.defaultView.getComputedStyle(element).visibility}Object.defineProperty(exports,"__esModule",{value:!0}),exports.elementIsHidden=elementIsHidden,exports.elementHasVisibleContent=function elementHasVisibleContent(element){if(elementIsHidden(element))return!1;if(element.innerText)return!0;if(-1!==["IMG","IFRAME","SVG","VIDEO","CANVAS"].indexOf(element.tagName))return!0;var styleMap=element.ownerDocument.defaultView.getComputedStyle(element);if(styleMap.backgroundImage&&"none"!==styleMap.backgroundImage)return!0;for(var children=element.children,childHasVisibleContent=!1,i=0;!childHasVisibleContent&&i<children.length;i++)childHasVisibleContent=elementHasVisibleContent(children[i]);return childHasVisibleContent}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var ClientEvent={callbacks:[],eventQueue:[],reset:function(){this.callbacks=[],this.eventQueue=[]},onEvent:function(eventType,callback){this.callbacks.push({type:eventType,cb:callback}),this.__evaluateQueues(eventType)},activateEvent:function(eventType,data){this.eventQueue.push({type:eventType,data:data,ts:Date.now()}),this.__evaluateQueues(eventType)},__evaluateQueues:function(eventType){var callbacksToUse=this.callbacks.filter((function(callback){return callback.type===eventType}));if(0!==callbacksToUse.length){var queuedEventsToActivate=this.eventQueue.filter((function(event){return event.type===eventType}));this.eventQueue=this.eventQueue.filter((function(event){return event.type!==eventType})),queuedEventsToActivate.forEach((function(event){callbacksToUse.forEach((function(callback){try{callback.cb(event)}catch(err){bouncex.err(err,"Client event handler")}}))}))}}};Object.values(["Impression","CreativeLoaded"]).forEach((function(key){ClientEvent["on".concat(key)]=function(callback){ClientEvent.onEvent(key,callback)},ClientEvent["activate".concat(key,"Event")]=function(data){ClientEvent.activateEvent(key,data)}}));var _default=ClientEvent;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _debug=_interopRequireDefault(__webpack_require__(5)),_eventHelpers=__webpack_require__(21),_scheduling=__webpack_require__(2),_multiCookie=_interopRequireDefault(__webpack_require__(74)),_complianceChecks=_interopRequireDefault(__webpack_require__(45)),_deviceGraph=_interopRequireDefault(__webpack_require__(47));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Cookie={canLocalStore:function(){var localStorageFrameException=[4577,4578,4579].indexOf(bouncex.website.id)>-1;return!(bouncex.browser.chrome&&bouncex.browser.ios||bouncex.browser.firefox||bouncex.browser.safari||localStorageFrameException)&&!!Number(bouncex.website.aco.local_storage)},checkCookieEligibility:function(){return!(!("multi_cookie"===bouncex.website.ct&&bouncex.website.aco.disable_first_party||"fp_local_storage"===bouncex.website.ct)&&document.cookie.length>6e3)},initCookieCheck:function(){bouncex.local_storage_enabled=Cookie.canLocalStore(),bouncex.cookie_too_large=!1,bouncex.local_storage_enabled||"multi_cookie"===bouncex.website.ct||Cookie.checkCookieEligibility()||(bouncex.cookie_too_large=!0)},setLocalStorageCookie:function(msgCookie){var cookie_one_or_many=bouncex.parseJSON(decodeURIComponent(msgCookie));cookie_one_or_many&&cookie_one_or_many[bouncex.website.id]?(bouncex.cookies=cookie_one_or_many,bouncex.cookie=cookie_one_or_many[bouncex.website.id]):cookie_one_or_many&&cookie_one_or_many.vpv?(bouncex.cookie=cookie_one_or_many,bouncex.cookies[bouncex.website.id]=bouncex.cookie):(cookie_one_or_many[bouncex.website.id]={},bouncex.cookies=cookie_one_or_many)},localStorageFrameSuccess:function(){var cookie_listener=_debug.default.tryCatch((function(message){if(message.origin=="https://"+bouncex.website.biu&&"string"==typeof message.data){var messageData=message.data;if(messageData.indexOf("gdpr_opt_out")>-1&&(bouncex.gdpr_opt_out=!0),"third_party_cookies_disabled"==messageData)Cookie.localStorageFail();else if(messageData.indexOf("bcx_message=true")<0){var msg_cookie=message.data;bouncex.local_storage_initialized?Cookie.setLocalStorageCookie(msg_cookie):(bouncex.local_storage_initialized=!0,bouncex.cookie={},bouncex.cookies={},msg_cookie?Cookie.setLocalStorageCookie(msg_cookie):("multi_cookie"==bouncex.website.ct?bouncex.cookie=Cookie.getBounceCookieMulti():bouncex.cookie=Cookie.getBounceCookieSingle(),Cookie.clearBounceCookie(!0)),setTimeout(bouncex.callCookieReady,0))}}}));(0,_eventHelpers.addEvent)(window,"message",cookie_listener)},localStorageFail:function(){bouncex.local_storage_enabled=!1,Cookie.init_cookie_functions(),bouncex.local_storage_initialized||(bouncex.local_storage_initialized=!0,setTimeout(bouncex.callCookieReady,0))},getBounceCookieMulti:function(name){if(bouncex.multicookie||(bouncex.multicookie=new _multiCookie.default({domain:bouncex.website.domain,disable_first_party:bouncex.website.aco.disable_first_party&&bouncex.website.aco.disable_first_party?1:0,first_party_limit:bouncex.website.aco.first_party_limit&&bouncex.website.aco.first_party_limit?bouncex.website.aco.first_party_limit:999999,parse_json:bouncex.parseJSON,stringify_json:bouncex.stringify})),void 0!==name)return bouncex.multicookie.cookie(name);var obj=bouncex.multicookie.get(bouncex.website.cookie_name);return""===obj&&(obj={}),obj},getBounceCookieSingle:function(name){var cookie;name||(name=bouncex.website.cookie_name);var i,x,y,localStorageFallback=name===bouncex.website.cookie_name,ARRcookies=document.cookie.split(";");for(i=0;i<ARRcookies.length;i++)x=ARRcookies[i].substr(0,ARRcookies[i].indexOf("=")),y=ARRcookies[i].substr(ARRcookies[i].indexOf("=")+1),(x=x.replace(/^\s+|\s+$/g,""))==name&&(bouncex.website.cookie_name==name?y&&('{"'!==y.substr(0,2)&&(y=bouncex.lz.decompressFromURI(y)),cookie=bouncex.parseJSON(y)):cookie=y);return!localStorageFallback||cookie&&0!==Object.keys(cookie).length||(cookie=Cookie.getBounceCookieFPLocalStorage()),cookie},clearBounceCookie:function(all){var c_name=bouncex.website.cookie_name,c_value2="; expires=Thu, 01 Jan 1970 00:00:01 GMT";all?(document.cookie=c_name+"="+c_value2+";path=/;",document.cookie=c_name+"="+c_value2+";path=/;domain=."+bouncex.cookie_domain+";"):bouncex.cookie_domain?document.cookie=c_name+"="+c_value2+";path=/;":document.cookie=c_name+"="+c_value2+";path=/;domain=."+bouncex.cookie_domain+";"},init_cookie_functions:function(){bouncex.local_storage_enabled?(window.setBounceCookie=bouncex.setBounceCookie=Cookie.setBounceCookieLocalStorage,window.getBounceCookie=bouncex.getBounceCookie=Cookie.getBounceCookieLocalStorage,Cookie.init_cookie_localstorage()):"multi_cookie"===bouncex.website.ct?(window.MultiCookie=_multiCookie.default,window.setBounceCookie=bouncex.setBounceCookie=Cookie.setBounceCookieMulti,window.getBounceCookie=bouncex.getBounceCookie=Cookie.getBounceCookieMulti):"fp_local_storage"===bouncex.website.ct?(window.setBounceCookie=bouncex.setBounceCookie=Cookie.setBounceCookieFPLocalStorage,window.getBounceCookie=bouncex.getBounceCookie=Cookie.getBounceCookieFPLocalStorage):(window.setBounceCookie=bouncex.setBounceCookie=Cookie.setBounceCookieSingle,window.getBounceCookie=bouncex.getBounceCookie=Cookie.getBounceCookieSingle),"fp_local_storage"===bouncex.website.ct?(window.setBounceVisitCookie=bouncex.setBounceVisitCookie=Cookie.setBounceVisitFPLocalStorage,window.getBounceVisitCookie=bouncex.getBounceVisitCookie=Cookie.getBounceVisitFPLocalStorage):(window.setBounceVisitCookie=bouncex.setBounceVisitCookie=Cookie.setBounceVisitCookieSingle,window.getBounceVisitCookie=bouncex.getBounceVisitCookie=Cookie.getBounceVisitCookieSingle),window.clearBounceCookie=Cookie.clearBounceCookie,bouncex.stringify_cookie=Cookie.stringify_cookie},init_cookie_localstorage:function(){if(!bouncex.gdpr_opt_out){var local_storage_frame_url="https://"+bouncex.website.biu+"/assets/bounce/local_storage_frame16.min.html#"+bouncex.website.id+(bouncex.website.swids?"&"+bouncex.website.swids:"");if(bouncex.local_storage_frame=document.createElement("IFRAME"),bouncex.local_storage_frame.style.display="none",bouncex.local_storage_frame.setAttribute("id","bcx_local_storage_frame"),bouncex.local_storage_frame.setAttribute("src",local_storage_frame_url),bouncex.local_storage_frame.setAttribute("title","empty"),_complianceChecks.default._finished&&document.body)Cookie.addLocalStorageFrame();else var wait_for_body_interval=(0,_scheduling.setIntervalWrapper)((function(){_complianceChecks.default._finished&&document.body&&(clearTimeout(wait_for_body_interval),_complianceChecks.default.compliancePassed&&Cookie.addLocalStorageFrame())}),100)}},getBounceCookieFPLocalStorage:function(name){if(name)return Cookie.getBounceCookieSingle(name);try{var cookie=localStorage.getItem(bouncex.website.cookie_name);return bouncex.parseJSON(bouncex.lz.decompressFromURI(cookie))||{}}catch(e){return{}}},setBounceCookieLocalStorage:function(){var message=encodeURIComponent(bouncex.stringify(bouncex.cookie));if(bouncex.local_storage_frame.contentWindow)bouncex.local_storage_frame.contentWindow.postMessage(message,"*");else var interval=(0,_scheduling.setIntervalWrapper)((function(){bouncex.local_storage_frame.contentWindow&&(bouncex.local_storage_frame.contentWindow.postMessage(message,"*"),clearInterval(interval))}),100)},getBounceCookieLocalStorage:function(name){return void 0!==name?Cookie.getBounceCookieSingle(name):bouncex.cookie},setBounceCookieMulti:function(){var c_name=bouncex.website.cookie_name;bouncex.multicookie.set(c_name,bouncex.stringify_cookie(bouncex.cookie))},setBounceCookieFPLocalStorage:function(){try{localStorage.setItem(bouncex.website.cookie_name,bouncex.lz.compressToURI(bouncex.stringify(bouncex.cookie)))}catch(e){bouncex.err(e,{source:"setBounceCookieFPLocalStorage"})}},setBounceCookieSingle:function(){var c_name=bouncex.website.cookie_name,exdate=new Date;exdate.setDate(exdate.getDate()+365);var cookieString=c_name+"="+(bouncex.lz.compressToURI(bouncex.stringify(bouncex.cookie))+"; expires="+exdate.toUTCString())+";path=/;";bouncex.cookie_domain&&(cookieString+="domain=."+bouncex.cookie_domain+";"),document.cookie=cookieString,Cookie.setBounceCookieFPLocalStorage()},setBounceVisitFPLocalStorage:function(){var exdate=new Date;bouncex.visit_cookie.ex=exdate.getTime()+18e5,localStorage.setItem(bouncex.website.cookie_name+"v",bouncex.lz.compressToURI(bouncex.stringify(bouncex.visit_cookie)))},getBounceVisitFPLocalStorage:function(name){return name?Cookie.getBounceVisitCookieSingle(name):bouncex.lz.decompressFromURI(localStorage.getItem(bouncex.website.cookie_name+"v"))},setBounceVisitCookieSingle:function(){var c_name=bouncex.website.cookie_name+"v",exdate=new Date;exdate.setTime(exdate.getTime()+18e5);var cookieString=c_name+"="+(bouncex.lz.compressToURI(bouncex.stringify(bouncex.visit_cookie))+"; expires="+exdate.toUTCString())+";path=/;";bouncex.cookie_domain&&(cookieString+="domain=."+bouncex.cookie_domain+";"),document.cookie=cookieString},getBounceVisitCookieSingle:function(name){name||(name=bouncex.website.cookie_name+"v");var y=bouncex.utils.cookies.read(name);if(y)return'{"'!==y.substr(0,2)?bouncex.lz.decompressFromURI(y):y},stringify_cookie:function(obj){return bouncex.stringify(obj).replace(/;/g,"\\u003b").replace(/\+/g,"\\u002b").replace(/\=/g,"\\u003d")},addLocalStorageFrame:function(){try{document.body.appendChild(bouncex.local_storage_frame),Cookie.localStorageFrameSuccess()}catch(e){(0,_scheduling.setTimeoutWrapper)(Cookie.localStorageFail,0)}},init_cookie:function(){if(!bouncex.gdpr_opt_out){if(bouncex.cookie=bouncex.getBounceCookie(),bouncex.cookie.vid||("fp_local_storage"==bouncex.website.ct?bouncex.cookie=Cookie.getBounceCookieSingle():bouncex.cookie=Cookie.getBounceCookieFPLocalStorage(),bouncex.cookie.vid&&bouncex.setBounceCookie()),"fp_local_storage"==bouncex.website.ct){var crossTabCookieCallback=_debug.default.tryCatch((function(data){data.key==bouncex.website.cookie_name&&data.newValue&&(bouncex.cookie=bouncex.getBounceCookie())}));(0,_eventHelpers.addEvent)(window,"storage",crossTabCookieCallback,!1)}_deviceGraph.default.assignCookieDGids()}}},_default=Cookie;exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function MultiCookie(props){"use strict";this.disable_first_party=props.disable_first_party||!1,this.first_party_limit=props.first_party_limit||999999,this.domain=props.domain||window.location.host,props.parse_json&&(this.parse_json=props.parse_json),props.stringify_json&&(this.stringify_json=props.stringify_json)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,MultiCookie.prototype={best:function(prev,curr){var parsed={};""===prev&&(prev={});try{'{"'!==curr.substr(0,2)&&(curr=bouncex.lz.decompressFromURI(curr)),parsed=this.parse_json(curr)}catch(e){return prev}if(!prev.fvt&&!parsed.fvt){var prevDataSize=Object.keys(prev).length;return Object.keys(parsed).length>prevDataSize?parsed:prev}var prevFirstVisitTime=prev.fvt?prev.fvt:0;return(parsed&&parsed.fvt?parsed.fvt:0)>prevFirstVisitTime?parsed:prev},parse_json:JSON.parse,stringify_json:JSON.stringify,set_qs:function(s,k,v){if(-1===s.indexOf("&"+k+"="))s+="&"+k+"="+v;else{var r=new RegExp("&"+k+"=[^&]*");s=s.replace(r,"&"+k+"="+v)}return s},set:function(n,v){"object"==_typeof(v)&&(v=this.stringify_json(v)),this.disable_first_party||this.cookie(n,v),this.local_storage(n,v),this.window_name(n,v)},get:function(n){for(var nextData,vs=this.getvs(n),data="";nextData=vs.pop();)data=this.best(data,nextData);return this.set(n,data),data},getvs:function(n){var vs=[],pushData=function(v){v&&""!==v&&vs.push(v)};return pushData(this.cookie(n)),pushData(this.local_storage(n)),pushData(this.window_name(n)),vs},cookie:function(n,v){if(void 0===v)return this.get_qs(n,document.cookie);var domain=this.domain;window.location.host.indexOf(domain)<0&&(domain=window.location.host.split(".").slice(-2).join(".")),document.cookie=n+"='; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain="+domain,document.cookie.length+v.length<this.first_party_limit&&(document.cookie=n+"="+v+"; expires=Tue, 31 Dec 2030 00:00:00 UTC; path=/; domain="+domain)},local_storage:function(n,v){var ls=window.localStorage;try{if(ls){if(void 0===v)return ls.getItem(n);ls.setItem(n,v)}}catch(e){}},window_name:function(n,v){try{if(void 0===v)return this.get_qs(n,window.name);window.name=this.set_qs(window.name,n,v)}catch(e){}},get_qs:function(n,text){if("string"==typeof text){var i,c,neq=n+"=",ca=text.split(/[;&]\s*/);for(i=0;i<ca.length;i++)if(0===(c=ca[i]).indexOf(neq))return c.substring(neq.length,c.length)}}};var _default=MultiCookie;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};var parse=function(request){var result;try{result=JSON.parse(request.responseText)}catch(e){result=request.responseText}return[result,request]},_default=function(options){if(options&&options.url&&options.type){var emptyCallback=function(){},callbacks={then:options.then||emptyCallback,catch:options.catch||emptyCallback,finally:options.finally||emptyCallback},request=new(window.XMLHttpRequest||ActiveXObject)("MSXML2.XMLHTTP.3.0");request.onreadystatechange=function(){4===request.readyState&&(request.status>=200&&request.status<300?callbacks.then.apply(callbacks,parse(request)):callbacks.catch.apply(callbacks,parse(request)))},request.onloadend=function(){callbacks.finally.apply(callbacks,parse(request))},request.open(options.type,options.url),request.send()}else{_logger.default.error({group:"XHR Request",message:"Cancelling request; Url or type is not defined"})}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={init:function(){if(bouncex.eventLog=[],sessionStorage){var bxDashEnv=sessionStorage.getItem("bxDashEnv");if(bxDashEnv){var dashHardUrl="//dash.bounceexchange.com/client.js";switch(bxDashEnv){case"production":dashHardUrl="//dash.bounceexchange.com/client.js";break;case"staging":dashHardUrl="//dash-staging.bounceexchange.com/client.js";break;case"development":dashHardUrl="//dev.bounceexchange.com/dash/client.js"}bouncex.baddjs("https:"+dashHardUrl)}}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _conversion=_interopRequireDefault(__webpack_require__(46)),_eventStream=_interopRequireDefault(__webpack_require__(3));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PushEvent={init:function(){for(var pushedDataLength=bouncex.pushedData&&bouncex.pushedData.length,i=0;i<pushedDataLength;i++)PushEvent.process(bouncex.pushedData[i][0],bouncex.pushedData[i][1]);bouncex.pushedData=[]},send:function(pushData){bouncex.cookieReady?PushEvent.process(pushData[0],pushData[1]):bouncex.pushedData.push(pushData)},process:function(eventName,metadata){metadata=metadata||{};var sanitizedEventName=eventName.trim().toLowerCase();if("conversion"==sanitizedEventName)_conversion.default.sync(metadata,"pushdata");else if("bx-load-hide"==sanitizedEventName)bouncex.usd=metadata;else if("item"===sanitizedEventName)PushEvent.item(sanitizedEventName,metadata);else if("view item"===sanitizedEventName&&bouncex.website.osre){var itemId=metadata["item:id"],sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata);itemId&&(bouncex.osr.viewItemId=itemId,Object.keys(bouncex.campaigns||{}).forEach((function(ca_id){void 0===bouncex.campaigns[ca_id].osr_params_json&&bouncex.campaigns[ca_id].isr_params_json&&(bouncex.campaigns[ca_id].osr_params_json=bouncex.campaigns[ca_id].isr_params_json),bouncex.campaigns[ca_id].osr_params_json&&bouncex.campaigns[ca_id].osr_params_json.length&&bouncex.osr.init(ca_id,itemId)}))),_eventStream.default.report(sanitizedEventName,sanitizedMetadata)}else if("requestemail"==eventName)PushEvent.requestEmail(sanitizedEventName,metadata);else if("requestpush"==eventName)PushEvent.push(sanitizedEventName,metadata);else if("requestsend"==eventName)PushEvent.requestSend(sanitizedEventName,metadata);else if("user"==eventName)PushEvent.user(sanitizedEventName,metadata);else{sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata);_eventStream.default.report(sanitizedEventName,sanitizedMetadata)}},item:function(sanitizedEventName,metadata){var sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata);if(1===bouncex.website.ete){if(!bouncex.et.item.validate(sanitizedMetadata))return!1;if(bouncex.et.item.requireImageLoad&&sanitizedMetadata["item:imageurl"]){var image=new Image;image.onload=function(){_eventStream.default.report(sanitizedEventName,sanitizedMetadata)},image.src=sanitizedMetadata["item:imageurl"]}else _eventStream.default.report(sanitizedEventName,sanitizedMetadata)}else _eventStream.default.report(sanitizedEventName,sanitizedMetadata)},sanitizeMetadata:function(sanitizedEventName,metadata,nonNamespacedParams){var sanitizedMetadata={};for(var k in nonNamespacedParams=nonNamespacedParams||[],metadata)if(metadata.hasOwnProperty(k)){var sanitizedKey=k.trim().toLowerCase();-1===sanitizedKey.indexOf(":")&&-1===nonNamespacedParams.indexOf(sanitizedKey)&&(sanitizedKey=sanitizedEventName+":"+sanitizedKey);var sanitizedValue=metadata[k];"string"==typeof sanitizedValue&&(sanitizedValue=sanitizedValue.trim()),sanitizedMetadata[sanitizedKey]=sanitizedValue}return sanitizedMetadata},requestEmail:function(sanitizedEventName,metadata){if(!bouncex.carbTrap){var sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata,["email","campaignid","parentcampaignid"]);if(!sanitizedMetadata.campaignid||!sanitizedMetadata.email||!bouncex.utils.validate.email(sanitizedMetadata.email))return!1;sanitizedMetadata["user:email"]=sanitizedMetadata.email,_eventStream.default.report(sanitizedEventName,sanitizedMetadata)}},push:function(sanitizedEventName,metadata){var sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata,["campaignid","parentcampaignid"]);if(!sanitizedMetadata.campaignid)return!1;_eventStream.default.report(sanitizedEventName,sanitizedMetadata)},requestSend:function(sanitizedEventName,metadata){var sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata,["campaignid","parentcampaignid","fcmtoken","channel","campaign_data","source"]);if(!sanitizedMetadata.campaignid)return!1;_eventStream.default.report(sanitizedEventName,sanitizedMetadata)},user:function(sanitizedEventName,metadata){if(!(metadata.email||metadata.emailHash||metadata.phone||metadata.forceUserEvent))return!1;if(metadata.email&&!bouncex.utils.validate.email(metadata.email))return!1;bouncex.updateBounceCookie((function(cookie){cookie.uid=1})),metadata["user:gcr"]=bouncex.cookie?bouncex.cookie.gcr:99,metadata.agent="js",metadata.eq=1;var sanitizedMetadata=PushEvent.sanitizeMetadata(sanitizedEventName,metadata,["agent","eq","campaignid"]);_eventStream.default.report(sanitizedEventName,sanitizedMetadata)}},_default=PushEvent;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _bxInterval=_interopRequireDefault(__webpack_require__(10)),_eventStream=_interopRequireDefault(__webpack_require__(3)),_logger=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var ReloadCampaigns={_max:30,_taskId:"make_reload_campaigns_request",init:function(){ReloadCampaigns._count=0},addRequest:function(name,type){name=name||ReloadCampaigns.addRequest.caller&&ReloadCampaigns.addRequest.caller.arguments&&ReloadCampaigns.addRequest.caller.arguments.length&&"object"!==_typeof(ReloadCampaigns.addRequest.caller.arguments[0])&&ReloadCampaigns.addRequest.caller.arguments[0]||"custom",type=type||"manual",_bxInterval.default.addTask(ReloadCampaigns._makeRequest.bind(ReloadCampaigns,name,type),0,ReloadCampaigns._taskId),ReloadCampaigns._log(name+": "+type)},_reportEvent:function(name,type){var pars={"reloadcampaigns:customvariables":bouncex.varsToAPI,"reloadcampaigns:name":name,"reloadcampaigns:type":type};_eventStream.default.report("reloadcampaigns",pars)},_makeRequest:function(name,type){if(ReloadCampaigns._count>=ReloadCampaigns._max)return ReloadCampaigns._cancelRequest();void 0!==bouncex.state&&(bouncex.updateBounceCookie(),ReloadCampaigns._reloadCampaigns(name,type),ReloadCampaigns._completeRequest(),bouncex.state.no_kinesis&&ReloadCampaigns._reportEvent(name,type))},_cancelRequest:function(){_bxInterval.default.stopTask(ReloadCampaigns._taskId),ReloadCampaigns._log("max reached")},_completeRequest:function(){_bxInterval.default.stopTask(ReloadCampaigns._taskId),ReloadCampaigns._count+=1,ReloadCampaigns._log(ReloadCampaigns._count)},_reloadCampaigns:function(name,type){bouncex.baddjs(bouncex.make_include_string("reloadCampaigns",type,name))},_log:function(msg){_logger.default.info({group:"reload_campaigns",message:msg,color:"#BB8FCE"})}},_default=ReloadCampaigns;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ajax=_interopRequireDefault(__webpack_require__(11)),_logger=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={init:function(){var vc=bouncex.getBounceVisitCookie(),c=bouncex.getBounceCookie();if(bouncex.segments=bouncex.segments||[],c.softID){if("string"==typeof vc)try{vc=JSON.parse(vc)}catch(ex){_logger.default.error("could not parse visit cookie for segments")}vc&&vc.seg?bouncex.segments=vc.seg:_ajax.default.get({url:"https://dfp.bouncex.net/pub/segment/".concat(c.softID),error:function(){bouncex.updateBounceVisitCookie({seg:[]}),bouncex.segments=[]},success:function(data){var segments=data;if("string"==typeof segments)try{segments=JSON.parse(segments)}catch(ex){_logger.default.error("segments service response was invalid JSON"),segments=[]}bouncex.updateBounceVisitCookie({seg:segments}),bouncex.segments=segments}}),bouncex.segments=bouncex.segments.filter((function(value,index,self){return self.indexOf(value)===index}))}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_customVariables=(obj=__webpack_require__(17))&&obj.__esModule?obj:{default:obj},_helpers=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(0));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function getEnabledPageTypes(){return bouncex.website.pt?Object.keys(bouncex.website.pt):[]}var _default={getEnabledPageTypes:getEnabledPageTypes,make_include_string:function(type,rltype,rlname){var tojQ="never"===bouncex.website.ljq?0:"undefined"==typeof jQuery?"undefined":_typeof(jQuery),bcx_persist="";if(type){cookie=bouncex.getBounceCookie();type="reloadCampaigns"}else if(type="init1",_customVariables.default.varsToExpire&&_customVariables.default.varsToExpire.length>0){var cookie=bouncex.getBounceCookie(),fields={};_customVariables.default.varsToExpire.forEach((function(v){fields[v.name]||(bcx_persist+="&vdef["+v.name+"]="+escape(v.default).replace(/\+/g,"%2B"),fields[v.name]=1)}))}else var cookie=bouncex.getBounceCookie();cookie=bouncex.stringify(cookie);var visit_cookie=bouncex.stringify(bouncex.visit_cookie),bcx_vars="",varsToAPI={};for(var n in bouncex.vars)bcx_vars+="&vars["+n+"]="+escape(bouncex.vars[n]),varsToAPI[n]=String(bouncex.vars[n]);bouncex.varsToAPI=JSON.stringify(varsToAPI),bouncex.cookieToAPI=JSON.stringify(bouncex.cookie);var tzo=(new Date).getTimezoneOffset(),wsize=bouncex.wndsize(),resolution=wsize.width+"x"+wsize.height,bcxStrParams={tojQ:tojQ,cts:(0,_helpers.getTimeMs)(),tzo:tzo,website_id:bouncex.website.id,resolution:resolution,referrer:bouncex.referrer,calling_url:bouncex.calling_url,visit_cookie:escape(visit_cookie),cookie:encodeURIComponent(cookie)+bcx_vars.replace(/\+/g,"%2B")+bcx_persist,cookie_too_large:bouncex.cookie_too_large,bp:0,etp:JSON.stringify(getEnabledPageTypes()),pts:bouncex.website.pts||"",compliance_flag:bouncex.complianceFlag||""},bcx_str_base=bouncex.au+"/bounce/"+type+".js?",bcx_str=bouncex.utils.url.generateQuerystring(bcxStrParams);if((0,_helpers.shouldCheckDfp)()&&(bcx_str+=bouncex.gbi2.getDfpLineItemIds().map((function(lineItemId){return"&dfp[]=".concat(lineItemId)})).join("")),bouncex.visitsHistoryAsHoursAgo&&(bcx_str+="&vha=".concat(bouncex.visitsHistoryAsHoursAgo.slice(-15).join(","))),"reloadCampaigns"==type){if(bcx_str+="&pvid="+bouncex.state.pvid,bouncex.campaigns)for(var ca_id in bouncex.campaigns)bouncex.campaigns[ca_id].ad_visible&&(bcx_str+="&vc[]="+ca_id);null!=rltype&&(bcx_str+="&rltype="+rltype),null!=rlname&&(bcx_str+="&rlname="+rlname),bouncex.cookie.t&&(bcx_str+="&testmode="+bouncex.cookie.t)}bouncex.dg&&bouncex.dg.hardID&&(bcx_str+="&hard_id="+bouncex.dg.hardID),bouncex.dg&&bouncex.dg.softID&&(bcx_str+="&soft_id="+bouncex.dg.softID);var originalString=bcx_str_base+bcx_str;if(_helpers.default.isBxInternalTraffic())return originalString;var lzParamString=bouncex.lz.compressToEncodedURIComponent(bcx_str);return"".concat(bcx_str_base,"wklzs=").concat(lzParamString.length,"&wklz=").concat(lzParamString)}};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.polyfillAll=polyfillAll,exports.default=exports.Polyfills=void 0;var Polyfills={"Object.values":function(){Object.values||(Object.values=shim_values)},"Object.assign":function(){Object.assign||(Object.assign=shim_assign)},CustomEvent:function(){"function"!=typeof window.CustomEvent&&(window.CustomEvent=shim_CustomEvent)},ListenerOptions:function(){(function(){var listenerOptionsSupported=!1;try{var options={get capture(){return listenerOptionsSupported=!0}};window.addEventListener("test",null,options),window.removeEventListener("test",null,options)}catch(err){listenerOptionsSupported=!1}return listenerOptionsSupported})()||(shim_ListenerOptions(Window),shim_ListenerOptions(Node))}};function polyfillAll(){Object.keys(Polyfills).forEach((function(polyfill){try{this[polyfill]()}catch(e){}}),Polyfills)}function shim_values(obj){return Object.keys(obj).map((function(e){return obj[e]}))}function shim_assign(target){for(var index=1;index<arguments.length;index++){var nextSource=arguments[index];Object.keys(nextSource).forEach((function(nextKey){target[nextKey]=nextSource[nextKey]}))}return target}function shim_CustomEvent(event,params){params=params||{bubbles:!1,cancelable:!1,detail:null};var evt=document.createEvent("CustomEvent");return evt.initCustomEvent(event,params.bubbles,params.cancelable,params.detail),evt}function shim_ListenerOptions(target){var addEventListener=target.prototype.addEventListener,removeEventListener=target.prototype.removeEventListener;target.prototype.addEventListener=function(eventname,handler,options){if(options&&"object"===_typeof(options)){var useCapture=!!options.capture,listener=addEventListener.call(this,eventname,handler,useCapture);if(options.once){var removeListener=removeEventListener.bind(this,eventname,handler,useCapture);addEventListener.call(this,eventname,removeListener,useCapture)}return listener}return addEventListener.apply(this,arguments)},target.prototype.removeEventListener=function(eventname,handler,options){if(options&&"object"===_typeof(options)){var useCapture=!!options.capture;return removeEventListener.call(this,eventname,handler,useCapture)}return removeEventListener.apply(this,arguments)}}exports.Polyfills=Polyfills;var _default=polyfillAll;exports.default=_default,polyfillAll()},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};var _default={_articles:[],_constants:{selectors:{group:".bx-group-custom",image:".bx-row-line",headline:".bx-row-text-subheadline"}},_getArticles:function(){return this._articles},_getRequestOptions:function(){var self=this;return{url:self._settings.feedUrl,dataType:self._settings.feedFormat,complete:function(response,status){self._handleResponse(response,status)}}},_getStorageKey:function(){return"bx-recirc-"+bouncex.website.id},_getStoredArticles:function(){var key=this._getStorageKey(),results=window.sessionStorage.getItem(key);return bouncex.parseJSON(results,[])},_getValidArticles:function(articles){for(var validArticles=[],i=0;i<articles.length;i++)this._isValidArticle(articles[i])&&validArticles.push(articles[i]);return validArticles},_getValidGroups:function(creative){for(var groups=creative.querySelectorAll(this._constants.selectors.group),validGroups=[],i=0;i<groups.length;i++)this._isValidGroup(groups[i])&&validGroups.push(groups[i]);return validGroups},_handleResponse:function(response,status){if("error"===status)return this.error(null,"error response from article feed");this.log(null,"parsing feed response");var articles=this._parseArticles(response);if(!articles)return this.error(null,"no articles found while parsing feed response");var validArticles=this._getValidArticles(articles);if(!validArticles.length)return this.error(null,"all articles failed validation");this.log(null,validArticles.length+"/"+articles.length+" articles passed validation"),this._setArticles(validArticles),this._storeArticles(validArticles)},_isValidGroup:function(group){var hasImageElement=1===group.querySelectorAll(this._constants.selectors.image).length,hasTextElement=1===group.querySelectorAll(this._constants.selectors.headline).length,hasLink=1===group.querySelectorAll("a").length;return hasImageElement&&hasTextElement&&hasLink},_requestFeed:function(ajaxOptions){this.log(null,"requesting articles from "+ajaxOptions.url),jQuery.ajax(ajaxOptions)},_setArticles:function(articles){this._articles=articles},_storeArticles:function(articles){this.log(null,"storing articles in session storage");var key=this._getStorageKey();try{window.sessionStorage.setItem(key,JSON.stringify(articles))}catch(e){this.error(null,e)}},_isValidArticle:function(article){if(!article)return!1;var validLink=!(!article.link||!bouncex.utils.validate.url(article.link)),validImage=!(!article.image||!bouncex.utils.validate.url(article.image)),validHeadline=!!article.headline;return validLink&&validImage&&validHeadline},_parseArticles:function(response){switch(this._settings.feedFormat){case"xml":return this._settings.responseParser(response.responseXML);case"json":return this._settings.responseParser(response.responseJSON);default:return this.error(null,"unrecognized feed format type"),!1}},_populateGroup:function(campaignId,group,article){try{var imageEl=group.querySelectorAll(this._constants.selectors.image)[0].firstChild,headlineEl=group.querySelectorAll(this._constants.selectors.headline)[0].firstChild,anchorEl=group.querySelector("a");imageEl.style.backgroundImage="url("+article.image+")",imageEl.style.backgroundSize="cover",headlineEl.textContent=article.headline,anchorEl.setAttribute("href",article.link)}catch(e){this.error(campaignId,e)}},_settings:{},_validateSettings:function(){return!!(this._settings.feedFormat&&this._settings.feedUrl&&this._settings.responseParser&&"function"==typeof this._settings.responseParser)},addSettings:function(settings){for(var s in settings)bouncex.recirc._settings[s]=settings[s]},articlesAvailable:function(){return this._articles.length>0},error:function(campaignId,message){this.log(campaignId,message,!0)},init:function(){if(this.isEnabled()&&!this.articlesAvailable()){if(!this._validateSettings())return this.log(null,"settings failed validation");var storedArticles=this._getStoredArticles();storedArticles&&storedArticles.length?(this.log(null,"retrieving articles from session storage"),this._setArticles(storedArticles)):(this.log(null,"no articles found in storage; requesting from feed"),this._requestFeed(this._getRequestOptions()))}},isEnabled:function(){return!!this._settings.enabled},log:function(campaignId,message,isError){var data={group:"recirc",campaignId:campaignId,message:message};isError?_logger.default.error(data):_logger.default.info(data)},populateCreative:function(campaignId){if(!this.isEnabled())return!1;if(!this.articlesAvailable())return!1;var creative=document.getElementById("bx-campaign-"+campaignId);if(!creative)return this.error(campaignId,"no creative found");var validGroups=this._getValidGroups(creative),articles=this._getArticles();if(validGroups.length&&validGroups.length<=articles.length){this.log(campaignId,"populating article groups");for(var i=0;i<validGroups.length;i++)this._populateGroup(campaignId,validGroups[i],articles[i])}else validGroups.length&&this.log(campaignId,"not enough articles to populate creative")}};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _i_closure=__webpack_require__(29),_dfp=_interopRequireDefault(__webpack_require__(84)),_framewatcher=_interopRequireDefault(__webpack_require__(44)),_ssp=_interopRequireWildcard(__webpack_require__(13)),_ssp2=__webpack_require__(50),_ssp3=__webpack_require__(51),_ssp4=__webpack_require__(52),_auction_handler=_interopRequireDefault(__webpack_require__(86)),_helpers=_interopRequireWildcard(__webpack_require__(0)),_preload=__webpack_require__(27),_url=__webpack_require__(4),_browser=_interopRequireDefault(__webpack_require__(8)),_scheduling=__webpack_require__(2),_eventListeners=_interopRequireDefault(__webpack_require__(36)),_eventJsEval=__webpack_require__(20),_campaignHelpers=_interopRequireDefault(__webpack_require__(6));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={_activateBehavioralTriggers:function(campaignId){(0,_i_closure.activateInstruments)(campaignId)},_activateCampaign:function(campaignId){this.log(campaignId,"activating campaign");var campaign=bouncex.campaigns[campaignId];campaign.gbi.ready=!0,campaign.gbi.hasActivatedOnce||((0,_eventJsEval.event_js_eval)(campaignId,"activation"),campaign.dispatchEvent("activation.bx"),campaign.gbi.hasActivatedOnce=!0)},_activateCreative:function(campaignId,creativeId){this.log(campaignId,"activating creative");var campaign=bouncex.campaigns[campaignId],creative=bouncex.creatives[creativeId],substitutionPattern=/{bpcid}/g;if(campaign.html=creative.html.replace(substitutionPattern,campaignId),campaign.styles=creative.styles.replace(substitutionPattern,campaignId),!_campaignHelpers.default.setCalloutTarget(campaign))return bouncex.gbi2.error(campaignId,"no anchor found"),this._failCampaign(campaignId);_campaignHelpers.default.placeCampaign(campaignId),_campaignHelpers.default.assignDomReferencesToCampaign(campaignId),_campaignHelpers.default.cacheCreativeForm(campaignId,1),(0,_i_closure.setAccessibilityProperties)(campaignId),_campaignHelpers.default.setTransitionEffect(campaignId),_campaignHelpers.default.applyCampaignStyles(campaignId)},_activatePlacement:function(campaignId,winningBid){var campaign=bouncex.campaigns[campaignId],placementId=winningBid.placementId,placement=campaign.gbi.placements[placementId],self=this;if(this.log(campaignId,"activating placement #".concat(placementId," (").concat(placement.mediaType,")")),campaign.winningBid=winningBid,campaign.activePlacementId=placementId,campaign.activeAdUnitId=placement.adUnitId,this._activateCreative(campaignId,placement.creativeId),bouncex.recirc.populateCreative(campaignId),"display"==placement.mediaType){campaign.onImpression=function(onReady){self._populateDisplayAd(campaignId,{trigger:campaign.trigger,content:winningBid.adHtml,width:placement.width,height:placement.height,deployment:placement.deployment,onReady:onReady})},this._activateCampaign(campaignId),(0,_preload.preconnect)(winningBid.adHtml);var preloadEnabledForSSP=-1!==_ssp.default.PRELOAD_PROVIDERS.indexOf(winningBid.provider),preloadEnabledForSite=_ssp.default.PRELOAD_ENABLED,prerenderEnabledForSite=_ssp.default.PRERENDER_ENABLED,contentExcludedFromPreload=winningBid.adHtml&&winningBid.adHtml.indexOf("servedby.flashtalking.com")>-1;preloadEnabledForSSP&&prerenderEnabledForSite&&!campaign.dynamic_anchor&&!contentExcludedFromPreload?setTimeout(this._populateDisplayAd.bind(this),0,campaignId,{content:winningBid.adHtml,width:placement.width,height:placement.height,deployment:placement.deployment,mode:"prerenderOnly"}):preloadEnabledForSSP&&preloadEnabledForSite&&!contentExcludedFromPreload&&setTimeout(campaign.preloadDisplayAd.bind(campaign),0,winningBid.adHtml)}else if("video"==placement.mediaType){var videoSettings={vast:winningBid.vastData,width:placement.width,height:placement.height},bxVideoPlayer=campaign.obj1.find('video[id*="bx-video-player"]');bxVideoPlayer&&bxVideoPlayer.length>0?(campaign.gbi.isVideo=!0,bouncex.video.init(campaignId,videoSettings.vast,winningBid.provider,placement)):this._prepareVideo(campaignId,videoSettings,(function(){self._activateCampaign(campaignId)})),(0,_preload.preconnect)(winningBid.vastData)}},_adjustPosition:function(campaignId){if("masthead"===this._getDeploymentType(campaignId)){var campaign=bouncex.campaigns[campaignId];bouncex.window.scrollTop(campaign.obj1.offset().top)}},_allRequestsAreComplete:function(campaignId){var requests=bouncex.campaigns[campaignId].gbi.requests;if(!requests)return!1;for(var i=0;i<requests.length;i++)if(!requests[i].endTime)return!1;return!0},_attachClickReporting:function(campaignId,container){bouncex.on(container,"mouseenter.gbi_click_events_"+campaignId,(function(){bouncex.on(bouncex.window,"blur.gbi_click_events_"+campaignId,(function(){bouncex.report(campaignId,"click",{value:"ad"})}))})),bouncex.events[campaignId].gbi_click=function(){bouncex.off(bouncex.window,"blur.gbi_click_events_"+campaignId)},bouncex.on(container,"mouseleave.gbi_click_events_"+campaignId,bouncex.events[campaignId].gbi_click)},_bidFilters:{isPerformanceBid:function(bids){var performanceBids=[];return bids.forEach((function(bid){"perf"===bid.provider&&performanceBids.push(bid)})),performanceBids.length?performanceBids:bids},hasDealId:function(bids){var bidsWithDealIds=[];return bids.forEach((function(bid){bid.dealId&&bidsWithDealIds.push(bid)})),bidsWithDealIds.length?bidsWithDealIds:bids},hasHighestPriority:function(bids){var priorityRegex=/p(10?|[2-9])/i,highestPriority=0;return bids.reduce((function(bidsWithHighestPriority,bid){var dealMatch=[bid.dealName,bid.dealId].join().match(priorityRegex);if(null===dealMatch)return bidsWithHighestPriority;var priority=Number(dealMatch[1]);return priority>highestPriority?(highestPriority=priority,[bid]):(priority===highestPriority&&bidsWithHighestPriority.push(bid),bidsWithHighestPriority)}),bids)},hasHighestPrice:function(bids){var bidsWithHighestPrice=[],highestPrice=0;return bids.forEach((function(bid){bid.price>highestPrice?(highestPrice=bid.price,bidsWithHighestPrice=[bid]):bid.price==highestPrice&&bidsWithHighestPrice.push(bid)})),bidsWithHighestPrice.length?bidsWithHighestPrice:bids},arrivedFirst:function(bids){var firstBids=[],earliestArrival=0;return bids.forEach((function(bid){0===earliestArrival||bid.arrivalTime<earliestArrival?(earliestArrival=bid.arrivalTime,firstBids=[bid]):bid.arrivalTime==earliestArrival&&firstBids.push(bid)})),firstBids.length?firstBids:bids}},_compose:function(){var args=Array.prototype.slice.call(arguments),obj={};return args.forEach((function(argObj){for(var key in argObj)argObj.hasOwnProperty(key)&&(obj[key]=argObj[key])})),obj},_constants:{auctionDelayInMilliseconds:2e3,defaultReloadDelayInMilliseconds:3e5,bidEvents:{fill:"bid_fill",none:"bid_none",empty:"bid_empty",error:"bid_error",cancelled:"bid_cancel",selected:"bid_selected"},targetSelector:".bx-group-placeholder:eq(0)",mobileFullWidthMinRatio:.85},auctionHandler:null,_createAndSendAuction:function(){if(null===this.auctionHandler){var settings={auctionCheckpoint:this._constants.auctionDelayInMilliseconds,auctionTimeout:2*this._constants.auctionDelayInMilliseconds};this.auctionHandler=new _auction_handler.default(settings)}return this.auctionHandler.getOrCreateAuction()},_createAndSendRequests:function(campaignId,placements){this.log(campaignId,"sending bid requests");var requests=[];for(var placementId in placements)if(placements.hasOwnProperty(placementId)){var placement=placements[placementId];placement.providers.forEach(function(provider){var request=this._createBidRequest(provider,{campaignId:campaignId,placementId:placementId,adUnitId:placement.adUnitId,type:placement.mediaType,width:placement.width,height:placement.height,deployment:placement.deployment,moat:placement.moat});requests.push(request),request.init()}.bind(this))}return requests},_createBid:function(settings){return{provider:settings.provider,campaignId:settings.campaignId,placementId:settings.placementId,adUnitId:settings.adUnitId,price:settings.price,adHtml:settings.adHtml,vastData:settings.vastData,dealId:settings.dealId,dealName:settings.dealName,arrivalTime:settings.arrivalTime||Date.now(),targeting:settings.targeting}},_createBidRequest:function(provider,settings){return this._requestIndex[provider](settings)},_createDisplayFrame:function(content){return(0,_i_closure.createIframe)({target:"_blank",class:"bx-gbi-frame",frameborder:"0",horizontalscrolling:"no",verticalscrolling:"no",width:"100%",height:"100%",vspace:"0",hspace:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowTransparency:"true",srcdoc:content})},_customizations:{anchor:{updateDynamicAnchor:function(campaignId){var campaign=bouncex.campaigns[campaignId];if(campaign.dynamic_anchor&&!campaign.gbi.contentLoaded){var selector=(0,_i_closure.parseSiteElementSelector)(campaign.callout_t),bidDimensions=this._getBidDimensions(campaign);campaign.visibleAnchors=_browser.default.viewport.getVisibleElements(selector,{domPlacementMethod:campaign.dom_placement_method,height:bidDimensions.height,width:bidDimensions.width,voffset:campaign.callout_voffset,visibilityThreshold:campaign.visibilityThreshold}),campaign.visibleAnchors.length>0&&(_campaignHelpers.default.setCampaignCalloutTargetToIndex(campaign,campaign.visibleAnchors[0].index),_campaignHelpers.default.placeCampaign(campaignId))}},passesViewabilityTest:function(campaignId){var campaign=bouncex.campaigns[campaignId],minimumHeight=this._getMinimumHeight(campaign)||250;return _browser.default.viewport.distanceToBottom(campaign.calloutTarget[0],campaign.dom_placement_method,campaign.callout_voffset)>minimumHeight},_getMinimumHeight:function(campaign){var bidDimensions=this._getBidDimensions(campaign);return("prepend"===campaign.dom_placement_method||"append"===campaign.dom_placement_method?campaign.calloutTarget.innerWidth():campaign.calloutTarget.parent().innerWidth())*(bidDimensions.height/bidDimensions.width)/2},_getBidDimensions:function(campaign){var placementId=campaign.winningBid?campaign.winningBid.placementId:Object.keys(campaign.gbi.placements)[0],bidPlacement=campaign.gbi.placements[placementId];return{height:Number(bidPlacement.height),width:Number(bidPlacement.width)}}}},_deactivateCampaign:function(campaignId,callback){this.log(campaignId,"deactivating campaign");var campaign=bouncex.campaigns[campaignId];return(0,_i_closure.deactivate_campaign)(campaign,callback)},_restartCampaign:function(campaignId){var _initCampaign=this.initCampaign.bind(this,campaignId);this._deactivateCampaign(campaignId,_initCampaign)},_endAllRequests:function(campaignId){var campaign=bouncex.campaigns[campaignId];campaign&&campaign.gbi&&campaign.gbi.requests&&bouncex.campaigns[campaignId].gbi.requests.forEach((function(request){(!request.campaigns||Object.keys(request.campaigns).length<=1)&&request.end()}))},_exceedsFrequencyCap:function(){var config=bouncex.website.adsConfig;if(!config)return!1;if(!config.freqCapEnabled)return!1;if(!config.freqCapImpressions)return!1;switch(config.freqCapInterval){case"pageview":return this._pageImpressions>=config.freqCapImpressions;case"visit":return bouncex.visit_cookie.pci>=config.freqCapImpressions}return!1},_failCampaign:function(campaignId){var campaign=bouncex.campaigns[campaignId];if(campaign.failed)return!1;bouncex.close_ad(campaignId,!0),this.log(campaignId,"campaign failed");var deployment=this._getDeploymentType(campaignId);return this._failedDeployments.push(deployment),campaign.failed=!0,campaign.gbi.ready=!1,!1},_failedDeployments:[],_getAdUnitIds:function(campaignId){var campaign=bouncex.campaigns[campaignId],placements=campaign.gbi&&campaign.gbi.placements;return Object.keys(placements).map((function(key){return placements[key].adUnitId}))},_getDeploymentType:function(campaignId){var campaign=bouncex.campaigns[campaignId],placements=campaign.gbi&&campaign.gbi.placements;if(placements)for(var placementId in placements)if(placements.hasOwnProperty(placementId))return placements[placementId].deployment;return""},_getProviderConfig:function(provider,key){var sspConfig=bouncex.website.sspConfig;return sspConfig&&sspConfig[provider]&&sspConfig[provider][key]},_getReportablePrice:function(price){return Number(price).toFixed(5)},_getResizeData:function(campaignId,adDimensions){adDimensions.width=Number(adDimensions.width),adDimensions.height=Number(adDimensions.height);var campaign=bouncex.campaigns[campaignId],$creative=campaign.obj1,scaleRatio=1,extraPadding=2*((parseInt($creative.find(".bx-wrap").css("padding-left"),10)||0)+(parseInt($creative.find(".bx-align").css("padding-left"),10)||0)),wndsize=bouncex.wndsize(),marginForFullWidthDisplay=0;if("agilityzone"===campaign.type&&campaign.calloutTarget.length){var containerWidth=campaign.calloutTarget.width()||campaign.calloutTarget.parents(":visible").width();if(scaleRatio=((containerWidth=containerWidth>0?Math.min(containerWidth,wndsize.width):wndsize.width)-extraPadding)/adDimensions.width,bouncex.state.mobile&&0===$creative.find(".no-mobile-full-width").length)(containerWidth-extraPadding)/wndsize.width>this._constants.mobileFullWidthMinRatio&&(marginForFullWidthDisplay=(containerWidth-wndsize.width)/2,scaleRatio=((containerWidth=wndsize.width)-extraPadding)/adDimensions.width)}else if("overlay"===campaign.type){var widthRatio=(wndsize.width-extraPadding)/adDimensions.width,heightRatio=(wndsize.height-extraPadding)/adDimensions.height;scaleRatio=widthRatio>heightRatio?heightRatio:widthRatio}return{scaleRatio:scaleRatio,scaledWidth:adDimensions.width*scaleRatio,scaledHeight:adDimensions.height*scaleRatio,scaledMargin:marginForFullWidthDisplay}},_incrementImpressionCounters:function(){"number"==typeof this._pageImpressions?this._pageImpressions++:this._pageImpressions=1,bouncex.updateBounceVisitCookie((function(cookie){"number"==typeof cookie.pci?cookie.pci++:cookie.pci=1}))},_initAuction:function(campaignId){var campaign=bouncex.campaigns[campaignId];if(campaign.isReadyForAuction()){this.log(campaignId,"initializing auction");var eligibleBids=campaign.gbi.bids,filters=[this._bidFilters.isPerformanceBid,this._bidFilters.hasHighestPriority,this._bidFilters.hasHighestPrice,this._bidFilters.arrivedFirst];if(0==eligibleBids.length)return this.log(campaignId,"no bids were returned"),this._failCampaign(campaignId);var winningBids=campaign.updateWinningBids(filters);if(this._reportWinningBids(campaignId,winningBids),!_campaignHelpers.default.setCalloutTarget(campaign))return this.error(campaignId,"no anchor found"),this._failCampaign(campaignId);var adformat=campaign.adformats.video||campaign.adformats.all;adformat&&adformat.winningBid&&this._activatePlacement(campaignId,adformat.winningBid);var self=this,reloadDuration=bouncex.gbi2._getProviderConfig(adformat.winningBid.provider,"reload")||this._constants.defaultReloadDelayInMilliseconds;(0,_scheduling.setTimeoutWrapper)((function(){campaign.isReadyForAuction(!0)&&self._restartCampaign(campaignId)}),reloadDuration)}},_initRequests:function(campaignId,justPrefetched){var campaign=bouncex.campaigns[campaignId],placements=campaign.gbi.placements;campaign.gbi.hasBegunAuction=!0,campaign.gbi.bids=[];var decodedUri=decodeURIComponent(bouncex.calling_url);if(campaign.qbxtest&&-1!==decodedUri.indexOf("bxssp="))for(var placementId in placements)if(placements.hasOwnProperty(placementId)){var placement=placements[placementId];placement.providers=placement.providers.filter((function(provider){return-1!==decodedUri.indexOf("bxssp=".concat(provider))}))}this._isForceTest(campaignId)&&!justPrefetched?this._prefetchBids(campaignId,"aqbx",placements):bouncex.vars.perf_ads_prefetch&&!justPrefetched?this._prefetchBids(campaignId,"perf",placements):(campaign.gbi.auction=this._createAndSendAuction(),this._setAuctionTimeout(campaignId))},_injectSegmentIntoIframe:function(iframeWindow){var audienceID="";bouncex.calling_url.indexOf("perfadssample")>-1?audienceID="sample-feed":bouncex.cookie&&bouncex.cookie.softID&&(audienceID=bouncex.cookie.softID),audienceID&&(iframeWindow.wkndSegment={audienceID:"".concat(audienceID),segments:bouncex.segments||[]})},_integrations:{tag:{intermediaryId:"869cff86d1c453c1",generateId:function(){return this.intermediaryId+":"+bouncex.website.id}},moat:{display:{scriptSrc:document.location.protocol+"//z.moatads.com/bounceexchangedisplay18031701869/moatad.js",getScriptTag:function(params){if(!_helpers.default.shouldSampleMoatPixel())return bouncex.gbi2.log(null,"SAMPLE: MOAT script blocked"),"";var queryString=(0,_url.qs)({moatClientLevel1:params.website,moatClientLevel2:params.deviceType,moatClientLevel3:params.trigger,moatClientLevel4:params.adSize,zMoatPlacement:params.placement,zMoatSSP:params.ssp});return"".concat(this.scriptSrc,"?").concat(queryString)}},video:{scriptSrc:document.location.protocol+"//z.moatads.com/jwplayerplugin0938452/moatplugin.js",partnerCode:"bouncexjsvideojwplayer997111196347",loadPlugin:function(campaignId){if(!_helpers.default.shouldSampleMoatPixel())return bouncex.gbi2.log(campaignId,"SAMPLE: MOAT script blocked"),"";var self=this;(0,_i_closure.getScript)(self.scriptSrc,(function(){self.addImpressionListener(campaignId)}))},addImpressionListener:function(campaignId){var campaign=bouncex.campaigns[campaignId],self=this;campaign.gbi.player.on("adImpression",(function(eventData){window.moatjw.add({partnerCode:self.partnerCode,player:this,adImpressionEvent:eventData,ids:{level1:window.location.host+" ("+bouncex.website.id+")",level2:bouncex.state.mobile?"mobile":"desktop",level3:campaign.trigger,level4:"video",slicer1:"overlay"===campaign.type?campaign.type:campaign.subtype,zMoatSSP:campaign.winningBid?campaign.winningBid.provider:""},duration:30})}))}}},jwplayer:{key:"o8z/iG2QyTbuWcdH2vCzMM0waC0nOAeJ9/gVcpFiPZ+tv1+5",createPlayerConfig:function(settings){var vastKey=/^[\s]*<VAST/i.test(settings.vastData)?"vastxml":"tag",playerConfig={};return playerConfig.file="//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/blank.mp4",playerConfig.mute=!0,playerConfig.width=settings.width,playerConfig.height=settings.height,playerConfig.advertising={},playerConfig.advertising.client="vast",playerConfig.advertising.vpaidcontrols=!0,playerConfig.advertising[vastKey]=settings.vastData,playerConfig},createPlayerInstance:function(campaignId,container,playerConfig,onReady){bouncex.gbi2.log(campaignId,"creating video player instance");var assetUrl="//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/8.3.0/jwplayer.js",videoFrame=(0,_i_closure.createIframe)({class:"bx-gbi-frame",style:"border: 0; width: "+container.width()+"px; height: "+container.height()+"px;"}),self=this;container.append(videoFrame);var iframeWindow=videoFrame.contentWindow;bouncex.browser.firefox&&(iframeWindow.oldGetComputedStyle=iframeWindow.getComputedStyle,iframeWindow.getComputedStyle=function(el,pseudoEl){var result=iframeWindow.oldGetComputedStyle(el,pseudoEl);return null===result?{}:result}),iframeWindow.document.write('<html><body style="margin: 0px; overflow: hidden;"><div id="bx-video"></div></body></html>');var scriptTag=iframeWindow.document.createElement("script");scriptTag.setAttribute("src",assetUrl),scriptTag.onload=function(){bouncex.gbi2.log(campaignId,"jwplayer script loaded"),iframeWindow.jwplayer?(bouncex.gbi2.log(campaignId,"jwplayer executed"),iframeWindow.jwplayer.key=self.key,iframeWindow.player=iframeWindow.jwplayer("bx-video"),iframeWindow.player.setup(playerConfig),iframeWindow.player.on("adClick",(function(){bouncex.gbi2.report(campaignId,"click",{value:"ad"})})),iframeWindow.player.on("adError",(function(data){bouncex.gbi2.error(campaignId,data.message?"video error: "+data.message:"video error")})),onReady(iframeWindow.player)):(bouncex.gbi2.error(campaignId,"jwplayer failed to execute"),bouncex.gbi2._failCampaign(campaignId))},scriptTag.onerror=function(){bouncex.gbi2.error(campaignId,"jwplayer script failed to load"),bouncex.gbi2._failCampaign(campaignId)},iframeWindow.document.body.appendChild(scriptTag),bouncex.gbi2._injectSegmentIntoIframe(iframeWindow)}}},_isForceTestLiveConditions:function(campaignId){var key="abxtest".concat(campaignId),allKey="abxtestall";return bouncex.updateBounceCookie((function(cookie){cookie.hcs_abxtest=cookie.hcs_abxtest||[],bouncex.calling_url.indexOf(key)>-1&&-1===cookie.hcs_abxtest.indexOf(key)&&cookie.hcs_abxtest.push(key),bouncex.calling_url.indexOf(allKey)>-1&&-1===cookie.hcs_abxtest.indexOf(allKey)&&cookie.hcs_abxtest.push(allKey)})),bouncex.cookie.hcs_abxtest.indexOf(key)>-1||bouncex.cookie.hcs_abxtest.indexOf(allKey)>-1},_isForceTest:function(campaignId){return bouncex.calling_url.indexOf("aqbxtest"+campaignId)>-1||this._isForceTestLiveConditions(campaignId)},_populateDisplayAd:function(campaignId,settings){this.log(campaignId,"populating display ad: ".concat(settings.mode||"pop"));var campaign=bouncex.campaigns[campaignId],container=campaign.obj1.find(bouncex.gbi2._constants.targetSelector),moat=bouncex.gbi2._integrations.moat.display,content=settings.content,onReady=settings.onReady,prerenderOnly="prerenderOnly"===settings.mode,interceptRgx=prerenderOnly?_preload.excludeFromPreloadRgx:_preload.loadOnShowRgx,iframeBodyStyles="transform-origin: 0 0; max-width: 100%; max-height: 100%;";if(0===container.length)return bouncex.gbi2.error(campaignId,"creative is missing an ad stack placeholder group"),bouncex.gbi2._failCampaign(campaignId),!1;var isPrerendered=campaign.isPrerendered(content);if(isPrerendered&&prerenderOnly)return!0;if(isPrerendered){campaign.frameWatcher.impressionStart();var contentDocument=campaign.frameWatcher.frameElement.contentDocument;return _preload.adjustPreloadContent.undo(contentDocument,_preload.loadOnPopRgx),campaign.frameWatcher.unwrapInterceptor(_preload.loadOnPopRgx),onReady&&!campaign.frameWatcher.loadComplete?campaign.frameWatcher.addEventListener("loadComplete.bx",onReady,!1):onReady&&setTimeout(onReady,0),!0}campaign.clearContainer(),prerenderOnly&&(content=(0,_preload.adjustPreloadContent)(content,interceptRgx));var resizeData=bouncex.gbi2._getResizeData(campaignId,{width:settings.width,height:settings.height});if(resizeData.scaleRatio<1){container.css({width:resizeData.scaledWidth+"px",height:resizeData.scaledHeight+"px",overflow:"hidden"}),campaign.obj1.css({width:resizeData.scaledWidth+"px",marginLeft:"".concat(resizeData.scaledMargin,"px"),marginRight:"".concat(resizeData.scaledMargin,"px")});content.indexOf("celtra-ad");iframeBodyStyles+=" transform: scale(".concat(resizeData.scaleRatio,");")}var pixelIntercept="window.parent.bouncex.campaigns[".concat(campaignId,"].frameWatcher.interceptElements(").concat(interceptRgx.toString(),");"),scripts="<script>\n      ".concat("var inDapIF = true;","\n      ").concat(pixelIntercept,"\n    <\/script>");content='<html><head><base target="_blank"/>'.concat(scripts,'</head><body marginwidth="0" marginheight="0" style="').concat(iframeBodyStyles,'">').concat(content,"</body>");try{var displayFrame=this._createDisplayFrame(content),frameWatcher=this.watchCreativesLoad(campaignId,displayFrame);frameWatcher.sourceContent=settings.content,campaign.once("impression.bx",(function(){if(campaign.frameWatcher===frameWatcher){var contentDocument=campaign.frameWatcher.frameElement.contentDocument;frameWatcher.unwrapInterceptor(),_preload.adjustPreloadContent.undo(contentDocument);var moatSrc=moat.getScriptTag({website:window.location.host+" ("+bouncex.website.id+")",deviceType:bouncex.state.mobile?"mobile":"desktop",trigger:campaign.trigger,adSize:settings.width+"x"+settings.height,placement:settings.deployment,ssp:campaign.winningBid.provider});if(moatSrc){var moatScript=contentDocument.createElement("script");moatScript.src=moatSrc,contentDocument.head.appendChild(moatScript)}}}),!1),container.append(displayFrame)}catch(e){return bouncex.gbi2.error(campaignId,"error populating ad: "+e),bouncex.gbi2._failCampaign(campaignId),!1}this._injectSegmentIntoIframe(displayFrame.contentWindow),this._attachClickReporting(campaignId,container);var frameDoc=displayFrame.contentDocument;(0,_i_closure.loadImages)(jQuery(frameDoc).find("img").filter(":visible"),(function(){bouncex.gbi2.log(campaignId,"images loaded successfully"),onReady&&onReady()})),campaign.removePreloader()},watchCreativesLoad:function(campaignId,displayFrame){var campaign=bouncex.campaigns[campaignId];if(campaign.frameWatcher&&campaign.frameWatcher.frameElement===displayFrame)return campaign.frameWatcher;campaign.frameWatcher=new _framewatcher.default(displayFrame),campaign.frameWatcher.campaignId=campaignId;var frameWatcherListener=this._reportCreativesLoaded.bind(this,campaign.frameWatcher);campaign.frameWatcher.addEventListener("loadComplete.bx",frameWatcherListener,!1);var adInterventionListener=this._reportAdIntervention.bind(this,campaignId,"browser");return campaign.frameWatcher.addEventListener("adIntervention.bx",adInterventionListener,!1),campaign.frameWatcher},watchVideoLoad:function(campaignId){var player=document.getElementById("bx-video-player-"+campaignId);this.watchCreativesLoad(campaignId,player)},_reportCreativesLoaded:function(frameWatcher){var campaignId=frameWatcher.campaignId,campaign=campaignId&&bouncex.campaigns[campaignId];campaign&&frameWatcher.loadComplete&&!frameWatcher.reportData&&(frameWatcher.reportData={loaded:1*frameWatcher.loadSucceeded,failed:1*frameWatcher.loadFailed,load_delay:frameWatcher.loadDelay},this.report(campaignId,"creatives_loaded",frameWatcher.reportData),bouncex.clientEvents.activateCreativeLoadedEvent({id:campaign.id,purpose:campaign.purpose,sub_purpose:campaign.sub_purpose}),frameWatcher.loadFailed&&this.error(campaignId,"creatives failed to load"))},_reportAdIntervention:function(campaignId,reason){var campaign=campaignId&&bouncex.campaigns[campaignId];if(campaign&&!campaign.ad_closed){this._failCampaign(campaignId),this.error(campaignId,"Ad Intervened: ".concat(reason));var metadata={reason:reason};this.report(campaignId,"ad_intervention",metadata)}},_prefetchBids:function(campaignId,provider,placements){this.log(campaignId,"prefetching "+provider);var campaign=bouncex.campaigns[campaignId],prefetchPlacements={};for(var placementId in placements)placements.hasOwnProperty(placementId)&&(prefetchPlacements[placementId]=this._compose(placements[placementId]),prefetchPlacements[placementId].providers=[provider]);campaign.gbi.requests=this._createAndSendRequests(campaignId,prefetchPlacements),(0,_scheduling.setTimeoutWrapper)(function(){this._endAllRequests(campaignId),campaign.gbi.bids.length>0?this._initAuction(campaignId):this._initRequests(campaignId,!0)}.bind(this),1e3)},_prepareVideo:function(campaignId,settings,onReady){this.log(campaignId,"preparing video ad");var campaign=bouncex.campaigns[campaignId],container=campaign.obj1.find(bouncex.gbi2._constants.targetSelector),jwplayer=bouncex.gbi2._integrations.jwplayer,playerWidth=container.width(),playerHeight=container.height(),resizeData=bouncex.gbi2._getResizeData(campaignId,{width:playerWidth,height:playerHeight});resizeData.scaleRatio<1&&(playerWidth=resizeData.scaledWidth,playerHeight=resizeData.scaledHeight,container.css({width:playerWidth+"px",height:playerHeight+"px"}),campaign.obj1.css({width:playerWidth+"px",marginLeft:"".concat(resizeData.scaledMargin,"px"),marginRight:"".concat(resizeData.scaledMargin,"px")}));var playerConfig=jwplayer.createPlayerConfig({vastData:settings.vast,width:playerWidth,height:playerHeight});jwplayer.createPlayerInstance(campaignId,container,playerConfig,(function(player){campaign.gbi.player=player,campaign.gbi.isVideo=!0,campaign.gbi.config=campaign.gbi.config||{},campaign.gbi.config.playOnImpression=!0,bouncex.gbi2._integrations.moat.video.loadPlugin(campaignId),campaign.gbi.contentLoaded=!0,onReady()}))},_userSyncRequests:{__isSynced:function(provider){return!!sessionStorage.getItem("bx".concat(provider,"synced"))},__setAsSynced:function(provider){bouncex.gbi2.log("SYNC","".concat(provider," was synced")),sessionStorage.setItem("bx".concat(provider,"synced"),"1")},__insertSyncElement:function(provider,elementName,endpoint){var element=(0,_helpers.createElement)(elementName,{style:"display: none;",width:"1",height:"1",src:endpoint}),self=this;element.onload=function(){self.__setAsSynced(provider)},document.body.appendChild(element)},bsw:function(){this.__isSynced("bsw")||this.__insertSyncElement("bsw","img","https://ssp.behave.com/push_sync")},pbm:function(){if(!this.__isSynced("pbm")){var endpoint=bouncex.gbi2._getProviderConfig("pbm","user_sync_endpoint"),publisherId=bouncex.gbi2._getProviderConfig("pbm","publisher_id");return endpoint?publisherId?void this.__insertSyncElement("pbm","iframe","//"+endpoint+"?p="+publisherId):bouncex.gbi2.error(this.campaignId,"no publisher id found for pubmatic user sync"):bouncex.gbi2.error(this.campaignId,"no endpoint found for pubmatic user sync")}}},_requestIndex:{sharedBehaviors:{rtb:function(){return{createDisplayImpression:function(width,height,overrides){var displayImpression={id:1,banner:{w:width=Number(width),h:height=Number(height)}};return bouncex.gbi2._compose(displayImpression,overrides)},createVideoImpression:function(width,height,overrides){var videoImpression={id:1,video:{mimes:["video/mp4","application/javascript"],minduration:3,maxduration:150,protocols:[2,3,5,6],linearity:1,api:[1,2],startdelay:0,placement:"overlay"===this.deployment?5:4,playbackmethod:[2]}};return width&&(videoImpression.video.w=Number(width)),height&&(videoImpression.video.h=Number(height)),bouncex.gbi2._compose(videoImpression,overrides)},getExtraIds:function(){var deviceId=window.bouncex.gbi.deviceOptedStatus;return deviceId?[{source:"bxid",uids:[{id:deviceId,atype:1}]}]:[]}}}},aqbx:function(settings){return new _ssp.SSP_Request(settings,{init:function(){this.startTime=(0,_i_closure.getTimeMs)(),this.done();var override=bouncex.campaigns[this.campaignId].gbi.placements[this.placementId].override_content;if(override&&"vast-url"===override.type&&bouncex.calling_url.indexOf("aqbxovrd")>-1){var self=this,options={url:override.value,complete:function(response,status){self.handleResponse(response,status),self.done()}};this.fetch(options)}else this.handleResponse()},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId],vastXml=null;"success"===status&&response&&(vastXml=response.responseText);var bid=bouncex.gbi2._createBid({provider:"aqbx",campaignId:this.campaignId,placementId:this.placementId,adUnitId:this.adUnitId,price:0,adHtml:this.getDisplayHtml(this.width,this.height),vastData:this.getVastXml(vastXml),arrivalTime:this.endTime});campaign.gbi.bids.push(bid),bouncex.gbi2.log(this.campaignId,"bid simulated for force testing")},getDisplayHtml:function(width,height){var override=bouncex.campaigns[this.campaignId].gbi.placements[this.placementId].override_content;return override&&"html"===override.type&&bouncex.calling_url.indexOf("aqbxovrd")>-1?override.value:'<a><img src="'+("https://"+bouncex.website.biu+"/assets/global/images/pub/demo"+width+"x"+height+".gif")+'" width="'+width+'" height="'+height+'"/></a>'},getVastXml:function(returnedVastXML){var override=bouncex.campaigns[this.campaignId].gbi.placements[this.placementId].override_content;return override&&"vast-xml"===override.type&&bouncex.calling_url.indexOf("aqbxovrd")>-1?override.value:returnedVastXML||'<VAST version="2.0"><Ad><InLine><AdSystem>Acudeo Compatible</AdSystem><AdTitle>VAST 2.0 AQBX</AdTitle><Description>VAST 2.0 AQBX</Description><Creatives><Creative><Linear><Duration>00:00:21</Duration><MediaFiles><MediaFile delivery="progressive" type="video/mp4" bitrate="500" width="400" height="300" scalable="true" maintainAspectRatio="true">https://'+bouncex.website.biu+"/assets/global/videos/pub/demo/ads_demo_video.mp4</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>"}})},perf:function(settings){return new _ssp.SSP_Request(settings,{provider:"perf",fetch:function(options){this.startTime=(0,_i_closure.getTimeMs)(),this.request=jQuery.ajax(options)},init:function(){var self=this,options={url:bouncex.gbi2._getProviderConfig("perf","endpoint"),data:self.getRequestData(),complete:function(response,status){self.handleResponse(response,status),self.done()}};this.fetch(options)},getRequestData:function(){return{bxid:bouncex.dg.softID||"none",w:this.width,h:this.height}},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId],results=bouncex.gbi2._constants.bidEvents,result=results.error,eventData={partner:"perf",deployment:this.deployment||"unknown",requested_ad_units:this.width+"x"+this.height,request_timestamp:this.startTime,deal_id:"NA",price:"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:this.adUnitId},bidResponse=response.responseJSON;if(200===response.status)if(bidResponse&&bidResponse.adHtml){result=results.fill,bouncex.gbi2.log(this.campaignId,"placement #"+this.placementId+" received a bid from performance ads");var bid=bouncex.gbi2._createBid({provider:"perf",campaignId:this.campaignId,placementId:this.placementId,adUnitId:this.adUnitId,adHtml:bidResponse.adHtml,arrivalTime:this.endTime,targeting:bidResponse.targeting});campaign.gbi.bids.push(bid)}else result=results.empty;else"abort"===status||"timeout"===status?result=results.none:0===response.status&&(result=results.cancelled);this.reportResult(result,eventData)}})},bsw:function(settings){return new _ssp2.SSP_BSW_Request(settings)},index:function(settings){return new _ssp3.SSP_INDEX_Request(settings)},pbm:function(settings){if(_ssp.default.CONSOLIDATE_BIDS)return new _ssp4.SSP_PBM_Request(settings);var openRtbRequest=bouncex.gbi2._requestIndex.sharedBehaviors.rtb;return new _ssp.SSP_Request(settings,openRtbRequest(),{provider:"pbm",init:function(){var data=this.getRequestData(),self=this,options={url:document.location.protocol+"//"+bouncex.gbi2._getProviderConfig("pbm","endpoint"),data:bouncex.stringify(data),method:"POST",type:"POST",dataType:"json",timeout:5e3,complete:function(response,status){self.handleResponse(response,status),self.done()}};this.fetch(options)},getRequestData:function(){var siteIdKey=bouncex.state.mobile?"mobile_id":"desktop_id";bouncex.campaigns[this.campaignId].qbxtest&&(siteIdKey="qa_site_id");bouncex.campaigns[this.campaignId];var impression,requestId=bouncex.cookie.vid+"_"+bouncex.cookie.sid,siteId=bouncex.gbi2._getProviderConfig("pbm",siteIdKey),tagId=this.getTagId(siteId,this.placementId),integrations=bouncex.gbi2._integrations,overrides={id:(0,_i_closure.getTimeMs)().toString(),secure:bouncex.ssl?1:0,tagid:tagId};return"display"===this.type?impression=this.createDisplayImpression(this.width,this.height,overrides):"video"===this.type&&(impression=this.createVideoImpression(this.width,this.height,overrides)),{id:requestId,site:{id:siteId,name:window.location.hostname,ref:decodeURIComponent(bouncex.referrer),page:decodeURIComponent(bouncex.calling_url),publisher:{id:bouncex.gbi2._getProviderConfig("pbm","publisher_id")}},device:{ua:navigator.userAgent,ip:bouncex.state.vip},imp:[impression],source:{pchain:integrations.tag.generateId(),ext:{schain:bouncex.gbi2.schainObject(requestId)}},user:{eids:this.getExtraIds()},at:1,tmax:200}},handleResponse:function(response,status){var campaign=bouncex.campaigns[this.campaignId],results=bouncex.gbi2._constants.bidEvents,result=results.error,siteIdKey=bouncex.state.mobile?"mobile_id":"desktop_id";bouncex.campaigns[this.campaignId].qbxtest&&(siteIdKey="qa_site_id");var eventData={partner:"pbm",partner_site_id:bouncex.gbi2._getProviderConfig("pbm",siteIdKey),deployment:this.deployment||"unknown",requested_ad_units:"display"===this.type?this.width+"x"+this.height:"video",request_timestamp:this.startTime,price:"NA",deal_id:"NA",auction_number:campaign.gbi.auctionCount,ad_unit_id:this.adUnitId};if("success"===status&&200===response.status){var bidResponse=this.getBidFromResponse(response.responseText);if(bidResponse){result=results.fill,bouncex.gbi2.log(this.campaignId,"placement #"+this.placementId+" received a bid from pubmatic"),bidResponse.dealid&&(eventData.deal_id=bidResponse.dealid),bidResponse.price&&(eventData.price=bouncex.gbi2._getReportablePrice(bidResponse.price));var bid=bouncex.gbi2._createBid({provider:"pbm",campaignId:this.campaignId,placementId:this.placementId,adUnitId:this.adUnitId,price:bidResponse.price,adHtml:bidResponse.adm,vastData:bidResponse.adm,dealId:bidResponse.dealid,arrivalTime:this.endTime});campaign.gbi.bids.push(bid)}else result=results.empty}else"abort"===status||"timeout"===status?result=results.none:"nocontent"!==status&&"success"!==status||204!==response.status?0===response.status&&(result=results.cancelled):result=results.empty;this.reportResult(result,eventData)},getBidFromResponse:function(responseText){try{var json=bouncex.parseJSON(responseText);return json.seatbid&&json.seatbid[0]&&json.seatbid[0].bid&&json.seatbid[0].bid[0]}catch(e){return!1}},getTagId:function(siteId,placementId){var placement=bouncex.campaigns[this.campaignId].gbi.placements[placementId];return placement&&placement.deployment?{overlay:"Overlay",masthead:"Masthead",endcap:"End_Cap",encore:"Encore",middleofarticle:"Middle_of_Article",skyline:"Skyline",infeed:"Infeed",floater:"Floater"}[placement.deployment]+"_"+siteId:""}})}},_reportWinningBids:function(campaignId,winningBids){var campaign=bouncex.campaigns[campaignId],selected_event=this._constants.bidEvents.selected,selected_bids=[];winningBids.forEach((function(winningBid){selected_bids.push(this._selectWinningBid(campaignId,winningBid))}),this);var event_data={auction_number:campaign.gbi.auctionCount,bids:JSON.stringify(selected_bids)};this.report(campaignId,selected_event,event_data)},_selectWinningBid:function(campaignId,winningBid){var campaign=bouncex.campaigns[campaignId],placement=campaign.gbi.placements[winningBid.placementId];return this.log(campaignId,"selecting ".concat(placement.mediaType," bid from ").concat(winningBid.provider)),{media_type:placement.mediaType,partner:winningBid.provider,deployment:placement.deployment,deal_id:winningBid.dealId||"NA",price:bouncex.gbi2._getReportablePrice(winningBid.price),auction_number:campaign.gbi.auctionCount,ad_unit_id:winningBid.adUnitId}},_setAuctionTimeout:function(campaignId){var delay=this._constants.auctionDelayInMilliseconds,self=this;(0,_scheduling.setTimeoutWrapper)((function(){bouncex.campaigns[campaignId].gbi.bids.length>0||self._allRequestsAreComplete(campaignId)?(self.log(campaignId,"one or more bids received, or all requests have resolved; ending wait period"),self._endAllRequests(campaignId),self._initAuction(campaignId)):(self.log(campaignId,"no bids after first wait period; some requests still pending; trying again"),(0,_scheduling.setTimeoutWrapper)((function(){self.log(campaignId,"ending wait period"),self._endAllRequests(campaignId),self._initAuction(campaignId)}),delay))}),delay)},hasSuppressedLineItem:function(){return _dfp.default.hasSuppressedLineItem()},shouldDfpPreventShowing:function(campaignId){return this.isDfpLoaded()?!!this.hasSuppressedLineItem()&&(this.log(campaignId,"GAM Suppressed Lineitem on page",!0),!0):(this.log(campaignId,"GAM not loaded",!0),!0)},canShowPubCampaign:function(type,campaignId,shouldCheckDfp){var campaign=bouncex.campaigns[campaignId];if(!this._isForceTest(campaignId)){if(this._exceedsFrequencyCap())return!1;if(shouldCheckDfp&&this.shouldDfpPreventShowing(campaignId))return!1}if(campaign.dynamic_anchor){if(this._customizations.anchor.updateDynamicAnchor(campaignId),0===campaign.visibleAnchors.length)return this.log(campaignId,"dynamic anchor - no visible anchors",!0),!1;if(!this._customizations.anchor.passesViewabilityTest(campaignId))return this.log(campaignId,"dynamic anchor - fails visibility test",!0),!1}if(campaign.trigger&&campaign.winningBid)return type===campaign.trigger||campaign.activationBid(type)===campaign.winningBid;if(campaign.deployment_type&&!campaign.deployment_type.canShow())return!1;var adActivated=this.readyCampaignAd(type,campaignId);return this.tryPop(campaignId,type),!campaign.failed&&(campaign.gbi.ready?!(!campaign.trypopTriggered||!adActivated)&&(this.log(campaignId,"passes canShowPubCampaign criteria"),!0):(this.log(campaignId,"gbi.ready is false",!0),!1))},readyCampaignAd:function(activationType,campaignId){var campaign=bouncex.campaigns[campaignId],activationBid=campaign.activationBid(activationType);return!!activationBid&&(activationBid!==campaign.winningBid&&(campaign.obj1&&(campaign.obj1.add(campaign.obj2).remove(),delete campaign.video,delete campaign.gbi.isVideo),this._activatePlacement(campaignId,activationBid)),!0)},error:function(campaignId,message){this.log(campaignId,message,!0)},getDeploymentType:function(campaignId){return this._getDeploymentType(campaignId)},getFailedDeployments:function(){return this._failedDeployments},initCampaign:function(campaignId){this.log(campaignId,"initializing campaign");var campaign=bouncex.campaigns[campaignId];if(campaign.adformats=campaign.winningBid=null,campaign.gbi.auctionCount?campaign.gbi.auctionCount++:campaign.gbi.auctionCount=1,this.log(campaignId,"initCampaign run #".concat(campaign.gbi.auctionCount)),campaign.gbi.auctionCount>13&&this._failCampaign(campaignId),(0,_i_closure.isMissingTarget)(campaign))return this.error(campaignId,"no anchor found"),this._failCampaign(campaignId);campaign.activated||(this.report(campaignId,"eligible"),campaign.listeners=new _eventListeners.default,(0,_eventJsEval.event_js_eval)(campaignId,"preactivation"),this.log(campaignId,"activating behavioral triggers"),this._activateBehavioralTriggers(campaignId),campaign.activated=!0),this._initRequests(campaignId)},syncUsers:function(){Object.keys(bouncex.website.sspConfig||{}).forEach((function(provider){"function"==typeof this._userSyncRequests[provider]&&this._userSyncRequests[provider]()}),this)},initDfp:function(){_dfp.default.init()},isDfpLoaded:function(){return _dfp.default.getDfpIsLoaded()},getDfpEndPageViewEvent:function(){return _dfp.default.getDfpEndPageViewEvent()},getDfpLineItemIds:function(){return _dfp.default.lineItems.getAll()},handleImpression:function(campaignId){this._adjustPosition(campaignId),this._incrementImpressionCounters()},log:function(campaignId,message,isError){var data={group:"gbi",message:message,campaignId:campaignId};isError?_i_closure.Logger.error(data):_i_closure.Logger.info(data)},report:function(campaignId,eventName,metadata){if(0===eventName.indexOf("bid_")&&bouncex.vars.block_bid_events)return!1;var campaign=bouncex.campaigns[campaignId],provider=(metadata=metadata||{}).partner||campaign.winningBid&&campaign.winningBid.provider;switch(provider?this.log(campaignId,"provider ".concat(provider.toUpperCase(),' reporting event "').concat(eventName,'"')):this.log(campaignId,'reporting event "'+eventName+'"'),eventName){case"pop":var bid=campaign.winningBid;metadata.ad_unit_id=campaign.activeAdUnitId||0,bid?(metadata.targeting="perf"===bid.provider?bid.targeting:"NA",metadata.partner=bid.provider,metadata.deal_id=bid.dealId,metadata.price=this._getReportablePrice(bid.price),metadata.deployment=this._getDeploymentType(campaignId),metadata.auction_number=campaign.gbi.auctionCount):this.error(campaignId,'unable to find bid data to report on "pop"');break;case"trypop":metadata.ad_units=this._getAdUnitIds(campaignId).join(",");break;case"click":metadata.value=metadata.value||"nonad";break;case"eligible":metadata.ad_units=this._getAdUnitIds(campaignId).join(",");break;case"ad_intervention":if(campaign.winningBid){metadata=Object.assign({},campaign.winningBid,{adHtml:null,vastData:null},metadata)}}metadata.source="ads",(0,_i_closure.buildReport)(campaignId,eventName,metadata)},tryPop:function(campaignId,activationType){var campaign=bouncex.campaigns[campaignId];if(!campaign.trypopTriggered){if("overlay"!==this._getDeploymentType(campaignId)&&!campaign.dynamic_anchor){var anchor=(0,_i_closure.parseSiteElementSelector)(campaign.callout_t);if(!(!!anchor&&!!jQuery(anchor).length))return}this.report(campaignId,"trypop",{activation:activationType}),campaign.trypopTriggered=!0}},schainObject:function(bidRequestId){var schain={ver:"1.0",complete:1,nodes:[{asi:"wunderkind.co",sid:bouncex.website.id+"",hp:1}]};if(bidRequestId){var node=schain.nodes[0];node.rid=bidRequestId,node.name=bouncex.website.name,node.domain=bouncex.website.domain}return schain},schainObjectString:function(){var schain_obj=this.schainObject();return[schain_obj.ver,schain_obj.complete+"!"+schain_obj.nodes[0].asi,schain_obj.nodes[0].sid,schain_obj.nodes[0].hp].map(encodeURIComponent).join(",")}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _ajax=_interopRequireDefault(__webpack_require__(11)),_campaignHelpers=_interopRequireDefault(__webpack_require__(6)),_logger=(_interopRequireDefault(__webpack_require__(31)),_interopRequireDefault(__webpack_require__(1))),_i_closure=__webpack_require__(29);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var _detectionComplete=!1,_dfpReportStatus="unsent",lineItems=new(function(){function LineItemCollection(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,LineItemCollection),this._lineItems=[]}var Constructor,protoProps,staticProps;return Constructor=LineItemCollection,(protoProps=[{key:"clear",value:function(){this._lineItems=[],_detectionComplete=!1}},{key:"count",value:function(){return this._lineItems.length}},{key:"add",value:function(lineItemId){isNaN(Number(lineItemId))||Number(lineItemId)<=0||this._lineItems.push(lineItemId)}},{key:"getAll",value:function(){return this._lineItems}},{key:"formatAll",value:function(delimiter){return delimiter=delimiter||",",this._lineItems.join(delimiter)}},{key:"collectFromPage",value:function(){window.googletag&&"function"==typeof window.googletag.pubads&&window.googletag.apiReady&&window.googletag.pubadsReady&&(window.googletag.pubads().getSlots().forEach((function(slot){var info=slot.getResponseInformation();if(info){var lineItemId=info.lineItemId;if("number"!=typeof info.lineItemId){if("number"!=typeof info.sourceAgnosticLineItemId)return;lineItemId=info.sourceAgnosticLineItemId}this.getAll().indexOf(lineItemId)>-1||this.add(lineItemId)}}),this),this.getAll().length>0&&(_log("dfp ids found: ".concat(lineItems.formatAll(", "))),_detectionComplete=!0))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),LineItemCollection}());function getRequestUrl(){return"https://dfp.bouncex.net/pub/".concat(bouncex.website.id,"?li=").concat(lineItems.formatAll("|"))}function hasSuppressedLineItem(){return!_detectionComplete||!!bouncex.website.gbi.rblocks&&lineItems.getAll().filter((function(lineItemId){return-1!==bouncex.website.gbi.rblocks.indexOf(lineItemId)})).length>0}function report(){_ajax.default.get({url:getRequestUrl(),error:function(){_dfpReportStatus="failure"},success:function(){_dfpReportStatus="success"}})}function initDetection(){if(_detectionComplete)return _i_closure.BxInterval.stopTask("dfp_detection"),void _log("stopped dfp interval");lineItems.collectFromPage(),_detectionComplete&&lineItems.getAll().length>0&&(report(),_campaignHelpers.default.reload())}function onFailure(){_detectionComplete=!0,_log("dfp max attempts")}function _log(msg){_logger.default.info({group:"dfp",message:msg,color:"#ffa500"})}var _default={lineItems:lineItems,getRequestUrl:getRequestUrl,report:report,initDetection:initDetection,init:function(){_i_closure.BxInterval.addTask(initDetection,30,"dfp_detection",onFailure)},onFailure:onFailure,getDfpEndPageViewEvent:function(){var event={line_item_id:lineItems.formatAll(","),dfp_status:"pending",dfp_report_status:_dfpReportStatus,dfp_suppression_causes:""};if(_detectionComplete&&(event.dfp_status="allowed",hasSuppressedLineItem())){event.dfp_status="suppressed";var suppressingItems=lineItems.getAll().filter((function(lineItemId){return-1!==bouncex.website.gbi.rblocks.indexOf(lineItemId)}));event.dfp_suppression_causes=suppressingItems.join(",")}return event},getDfpIsLoaded:function(){return _detectionComplete},hasSuppressedLineItem:hasSuppressedLineItem};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=SSP_CONSOLIDATED,exports.SSP_CONSOLIDATED_Request=SSP_CONSOLIDATED_Request;var _helpers=__webpack_require__(0),_ssp=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(13));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function SSP_CONSOLIDATED(settings){_ssp.default.call(this,settings)}function SSP_CONSOLIDATED_Request(request_settings){_ssp.SSP_Request.call(this,request_settings)}Object.assign(SSP_CONSOLIDATED.prototype=Object.create(_ssp.default.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_CONSOLIDATED.prototype,"constructor")}),{__Request_Class:SSP_CONSOLIDATED_Request,provider:null,__createAllBidRequests:function(providerBidSettings){var requests=[];return this.__groupBidRequests().forEach((function(requestGroup){var requestSettings=Object.assign(requestGroup,providerBidSettings),bidRequest=this.__instantiateBidRequest(requestSettings);requests.push(bidRequest)}),this),requests},__groupBidRequests:function(){var _this=this,requestGroups=new Map,_loop=function(campaignID){(_this.campaign_placement_ids[campaignID]||[]).forEach((function(placementID){var placementSettings={campaignID:campaignID,placementID:placementID};this.addRequestGroupPlacement(requestGroups,placementSettings)}),_this)};for(var campaignID in this.auction.campaigns)_loop(campaignID);return requestGroups},addRequestGroupPlacement:function(requestGroups,placementSettings){var campaignID=placementSettings.campaignID,placementID=placementSettings.placementID,requestGroup=this.getRequestGroup(requestGroups,placementSettings);if(void 0!==requestGroup){var campaign=(0,_helpers.getOrSet)(requestGroup.campaigns,campaignID,this.auction.campaigns[campaignID]),placement=campaign.gbi.placements[placementID],campaignSettings=(0,_helpers.getOrSet)(requestGroup.campaignSettings,campaignID,{campaignID:campaignID,deployment:campaign.deployment,placementSettings:{}});Object.assign(placementSettings,this.__createPlacementBidRequest(campaignID,placement,placementID)),campaignSettings.placementSettings[placementID]=placementSettings;var placementLookupKey=this.getPlacementLookupKey(placementSettings);requestGroup.lookupPlacementSettings[placementLookupKey]=placementSettings}},getRequestGroup:function(requestGroups,placementSettings){var requestKey=this.getRequestKey(placementSettings);return(0,_helpers.getOrSet)(requestGroups,requestKey,{requestKey:requestKey,campaigns:{},campaignSettings:{},lookupPlacementSettings:{}})},getRequestKey:function(placementSettings){var campaignID=placementSettings.campaignID;return[campaignID,this.auction.campaigns[campaignID].gbi.placements[placementSettings.placementID].mediaType].join("|")},getPlacementLookupKey:function(placementSettings){return placementSettings.impid},__createPlacementBidRequest:function(campaignID,placement,placementID){return{impid:this.getUniqueImpressionID(),campaignID:campaignID,placement:placement,placementID:placementID,adUnitId:placement.adUnitId,type:placement.mediaType,width:placement.width,height:placement.height,deployment:placement.deployment,moat:placement.moat}}}),SSP_CONSOLIDATED_Request.__SSP_Class=SSP_CONSOLIDATED,Object.assign(SSP_CONSOLIDATED_Request.prototype=Object.create(_ssp.SSP_Request.prototype,{constructor:Object.getOwnPropertyDescriptor(SSP_CONSOLIDATED_Request.prototype,"constructor")}),{provider:null,intermediaryId:"869cff86d1c453c1",init:function(){var impressionData=this.getImpressionData(),requestData=this.getRequestData(impressionData),options=this.getOptions(requestData);return this.fetch(options)},getOptions:function(requestData){throw new Error("Must be implemented in subclass")},getSiteId:function(){throw new Error("Must be implemented in subclass")},getRequestData:function(impressionData){throw new Error("Must be implemented in subclass")},getImpressionData:function(){return Object.values(this.campaignSettings).flatMap(this.__getCampaignRequestData,this)},__getCampaignRequestData:function(campaignSettings){return Object.values(campaignSettings.placementSettings).map(this.__getPlacementRequestData,this)},__getPlacementRequestData:function(placementSettings){return this["video"===placementSettings.type?"createVideoImpression":"createDisplayImpression"](placementSettings)},pchainString:function(){return"".concat(this.intermediaryId,":").concat(bouncex.website.id)},schainObject:function(bidRequestId){var schain={ver:"1.0",complete:1,nodes:[{asi:"wunderkind.co",sid:String(bouncex.website.id),hp:1}]};if(bidRequestId){var node=schain.nodes[0];node.rid=bidRequestId,node.name=bouncex.website.name,node.domain=bouncex.website.domain}return schain},handleResponse:function(response,statusText){var results=bouncex.gbi2._constants.bidEvents,result=results.error;if(200===response.status){var bids=this.getBidsFromResponse(response);if(bids&&bids.length)return bids.map(this.handleResponseBid,this);result=results.empty}else"abort"===statusText||"timeout"===statusText?result=results.none:0===response.status?result=results.cancelled:204===response.status&&(result=results.empty);var providerData={partner:this.provider,partner_site_id:this.getSiteId()||"NA",request_timestamp:this.startTime};this.reportResult(result,providerData)},getBidsFromResponse:function(response){try{return(response.responseJSON||JSON.parse(response.responseText)).seatbid.flatMap((function(seatbid){return seatbid.bid}))}catch(e){return!1}},getPlacementLookupKey:function(bidObj){return bidObj.impid},getBidPlacementSettings:function(bidObj){var placementLookupKey=this.getPlacementLookupKey(bidObj);return this.lookupPlacementSettings[placementLookupKey]},handleResponseBid:function(bidObj){var bidFilled=bouncex.gbi2._constants.bidEvents.fill,bidData=this.getResponseBidData(bidObj),campaign=this.auction.campaigns[bidData.campaignId],eventData={partner:this.provider,partner_site_id:this.getSiteId()||"NA",request_timestamp:this.startTime,campaign_id:bidData.campaignId,deployment:bidData.deployment||"unknown",requested_ad_units:bidData.requestedAdUnits,deal_id:bidData.dealId||"NA",price:this._getReportablePrice(bidData.price)||"NA",auction_number:bidData.auctionNumber,ad_unit_id:bidData.adUnitId};this.reportResult(bidFilled,eventData);var bid=bouncex.gbi2._createBid(bidData);return campaign.gbi.bids.push(bid),campaign.log("placement #".concat(bid.placementId," received a bid from ").concat(bid.provider)),bid},getResponseBidData:function(bidObj){var placementSettings=this.getBidPlacementSettings(bidObj),placementID=placementSettings.placementID,placement=placementSettings.placement,campaignID=placementSettings.campaignID,campaign=this.auction.campaigns[campaignID],isVideo="video"===placementSettings.type,adDimensions="".concat(placementSettings.width,"x").concat(placementSettings.height);return{provider:this.provider,campaignId:campaignID,placementId:placementID,adUnitId:placement.adUnitId,price:Number(bidObj.price||0),adHtml:bidObj.adm,vastData:bidObj.adm,dealId:bidObj.dealid,dealName:bidObj.dealname,arrivalTime:this.endTime,requestedAdUnits:isVideo?"video":adDimensions,deployment:campaign.deployment||"unknown",auctionNumber:campaign.gbi.auctionCount}}})},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AuctionHandler,exports.Auction=Auction;var _ssp=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(13)),_ssp2=__webpack_require__(50),_ssp3=__webpack_require__(51),_ssp4=__webpack_require__(52);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var SSP_Request_Prototypes={aqbx:_ssp.SSP_Request,perf:_ssp.SSP_Request,bsw:_ssp2.SSP_BSW_Request,index:_ssp3.SSP_INDEX_Request,pbm:_ssp.default.CONSOLIDATE_BIDS?_ssp4.SSP_PBM_Request:_ssp.SSP_Request};function AuctionHandler(settings){this.__init(settings||{})}function Auction(auctionHandler,campaigns){this.auctionHandler=auctionHandler,this.campaigns=campaigns,this.__init()}AuctionHandler.impid=0,AuctionHandler.SSP_factory=function(provider_name,ssp_settings){var Request_Class=SSP_Request_Prototypes[provider_name],provider_instance=new(Request_Class&&Request_Class.__SSP_Class||_ssp.default)(ssp_settings);return provider_instance.provider=provider_name,Request_Class&&(provider_instance.__Request_Class=Request_Class||_ssp.SSP_Request),provider_instance},Object.assign(AuctionHandler.prototype,{activeAuction:null,auctions:null,auctionTimeout:null,auctionCheckpoint:null,__init:function(settings){this.auctions=[],this.auctionTimeout=settings.auctionTimeout||null,this.auctionCheckpoint=settings.auctionCheckpoint||null},getOrCreateAuction:function(){return null===this.activeAuction||this.activeAuction.checkBidRequestsDone()?this.createAndSendNewAuction():this.activeAuction},createAndSendNewAuction:function(){var auction=this.createNewAuction();return null!==auction&&setTimeout(auction.sendBidRequests.bind(auction),100),auction},createNewAuction:function(){var auctionCampaigns=this.getAuctionableCampaigns();return Object.keys(auctionCampaigns).length?(this.activeAuction=new Auction(this,auctionCampaigns),this.auctions.push(this.activeAuction),this.activeAuction):null},getAuctionableCampaigns:function(){var campaigns={};for(var campaign_id in bouncex.campaigns){var campaign=bouncex.campaigns[campaign_id];campaign.isGBI2&&campaign.isReadyForAuction(!0)&&(campaigns[campaign_id]=campaign)}return campaigns}}),Object.assign(Auction.prototype,{campaigns:null,providerCampaigns:null,bidRequests:null,SSPList:null,startTime:null,endTime:null,durationTime:null,__init:function(){this.SSPList={}},__initBidRequests:function(){return null!==this.campaigns&&this.__initCampaigns()&&(this.providerCampaigns=this.getProviderCampaigns(),this.bidRequests=this.createBidRequests()),this.bidRequests&&Object.keys(this.bidRequests).length>0},__initCampaigns:function(){for(var campaign_id in this.campaigns){var campaign=this.campaigns[campaign_id];campaign.isReadyForAuction()?this.__initCampaign(campaign):delete this.campaigns[campaign_id]}return Object.keys(this.campaigns).length>0},__initCampaign:function(campaign){campaign.gbi.hasBegunAuction=!0,campaign.gbi.bids=[],campaign.gbi.requests=[],campaign.adformats=null,campaign.winningBid=null},__initSSP:function(provider_name,campaign_placement_ids){var settings={auction:this,campaign_ids:Object.keys(campaign_placement_ids),campaign_placement_ids:campaign_placement_ids};return this.SSPList[provider_name]=AuctionHandler.SSP_factory(provider_name,settings)},getProviderCampaigns:function(){var providerCampaigns={};for(var campaign_id in this.campaigns){var campaign_providers=this.campaigns[campaign_id].getProviders();for(var provider_name in campaign_providers)(providerCampaigns[provider_name]||(providerCampaigns[provider_name]={}))[campaign_id]=campaign_providers[provider_name]}return providerCampaigns},createBidRequests:function(){var bidRequests={};for(var provider_name in this.providerCampaigns){var campaign_placement_ids=this.providerCampaigns[provider_name],ssp=this.__initSSP(provider_name,campaign_placement_ids),requests=ssp.createBidRequests();bidRequests[provider_name]={ssp:ssp,campaign_placement_ids:campaign_placement_ids,requests:requests}}return bidRequests},sendBidRequests:function(){var timeout=this.auctionHandler.auctionTimeout,checkpoint=this.auctionHandler.auctionCheckpoint;if(null===this.startTime){if(this.startTime=new Date,!this.__initBidRequests())return this.failed=!0,void this.__bidRequestsDone();Object.values(this.bidRequests).forEach((function(bidRequest){bidRequest.ssp.sendBidRequests(bidRequest.requests),bidRequest.timeSent=new Date})),null!==timeout&&setTimeout(this.__timeout.bind(this),timeout),null!==checkpoint&&setTimeout(this.__checkpoint.bind(this),checkpoint)}},getIncompleteBidRequests:function(){return Object.values(this.bidRequests).filter((function(bidRequest){return!bidRequest.ssp.checkIfDone()}))},checkBidRequestsDone:function(){return null!==this.startTime&&(null!==this.endTime||null===this.bidRequests||0===this.getIncompleteBidRequests().length&&(this.__bidRequestsDone(),!0))},__timeout:function(){null===this.endTime&&(this.__bidRequestsDone(),this.abortFutileRequests())},__checkpoint:function(){this.updateWinningBids(),this.abortFutileRequests()},__bidRequestsDone:function(){null===this.endTime&&(this.endTime=new Date,this.durationTime=this.endTime-this.startTime,this.updateWinningBids())},updateWinningBids:function(){for(var campaign_id in this.campaigns){var campaign=this.campaigns[campaign_id];if(this.endTime||campaign.gbi.bids.length)try{this.updateCampaignWinningBids(campaign)}catch(e){}}},abortFutileRequests:function(){return Object.values(this.bidRequests).reduce((function(arr,bidRequest){return arr.concat(bidRequest.ssp.abortFutileRequests())}),[])},updateCampaignWinningBids:function(campaign){return bouncex.gbi2._initAuction(campaign.id),campaign.winningBid}}),Object.defineProperties(_ssp.default.prototype,{auctionHandler:{writable:!0}})},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _integrations=_interopRequireDefault(__webpack_require__(88)),_provider_api=_interopRequireDefault(__webpack_require__(89)),_helpers=__webpack_require__(0),_scheduling=__webpack_require__(2),_images=__webpack_require__(24),_helpers2=__webpack_require__(53),_campaignHelpers=_interopRequireDefault(__webpack_require__(6));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var AdsVersion1={wrapContentInIframe:function(container,payloadHTML,ca_id){var gbiFrameDoc,campaign=bouncex.campaigns[ca_id],shrinkToFitEnabled=campaign.gbi&&(campaign.gbi.config.shrinkToFit||campaign.gbi.config.shrinkToFitWindow),iframeBodyStyles="-webkit-transform-origin: 0 0; transform-origin: 0 0; max-width: 100%; max-height: 100%;",ratio=(campaign.gbi.provider,1);if(container.find("iframe").remove(),shrinkToFitEnabled&&("overlay"===campaign.type||"agilityzone"===campaign.type)){var resizeData=bouncex.gbi.getResizeData(ca_id);(ratio=resizeData.scaleRatio)<1&&(iframeBodyStyles+="-webkit-transform: scale("+ratio+"); transform: scale("+ratio+");",container.css({width:resizeData.scaledWidth+"px",height:resizeData.scaledHeight+"px"}))}var gbiFrame=(0,_helpers.createElement)("iframe",{target:"_blank",class:"bx-gbi-frame",frameborder:"0",horizontalscrolling:"no",verticalscrolling:"no",width:"100%",height:"100%",vspace:"0",hspace:"0",marginwidth:"0",marginheight:"0",scrolling:"no",allowTransparency:"true"});container.append(gbiFrame);try{(gbiFrameDoc=gbiFrame.contentWindow.document).open(),gbiFrameDoc.write('<html><head><base target="_blank"/></head><body marginwidth="0" marginheight="0" style="'+iframeBodyStyles+'">'+payloadHTML+"</body>"),gbiFrameDoc.close()}catch(err){bouncex.gbi.log(ca_id,"error creating gbi frame: "+err)}return gbiFrameDoc},init:function(ca_id){bouncex.campaigns[ca_id].gbi.impressionPixels=new Array,bouncex.campaigns[ca_id].gbi.clickPixels=new Array},fail:function(ca_id,msg){bouncex.campaigns[ca_id].failed=!0,this.clearRequestAssets(ca_id),this.log(ca_id,msg,!0)},log:function(ca_id,msg,fail){var campaign=ca_id?"("+ca_id+")":"",provider="("+(bouncex.campaigns[ca_id]?bouncex.campaigns[ca_id].gbi.provider||"no provider":"stack")+")";bouncex.log("%c gbi "+campaign+provider+": "+msg,"color: "+(fail?"#FF0000":"#00F"))},request:function(ca_id){bouncex.gbi.init(ca_id);var api=bouncex.gbi.providerApi[bouncex.campaigns[ca_id].gbi.provider];api||bouncex.gbi.fail(ca_id,"undefined provider "+bouncex.campaigns[ca_id].gbi.provider);try{api.initDemoAd?api.initDemoAd(ca_id):api.request?api.request(ca_id):bouncex.gbi.fetch(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},fetch:function(ca_id){var api=bouncex.gbi.providerApi[bouncex.campaigns[ca_id].gbi.provider];return bouncex.gbi.doAjaxRequest(ca_id,api.getFetchOptions(ca_id))},doAjaxRequest:function(ca_id,options){bouncex.campaigns[ca_id].gbi.ajaxRequest=bouncex.utils.doAjaxRequest(options)},report:function(ca_id,eventname,extra){bouncex.gbi.log(ca_id,'reporting event "'+eventname+'"');extra=extra||{};if(bouncex.campaigns[ca_id].gbi.provider){var pixels="";if("pop"==eventname?bouncex.campaigns[ca_id].gbi.impressionPixels&&bouncex.campaigns[ca_id].gbi.impressionPixels.length>0&&(pixels+=bouncex.campaigns[ca_id].gbi.impressionPixels.join("")):"click"==eventname&&(bouncex.campaigns[ca_id].gbi.clickPixels&&bouncex.campaigns[ca_id].gbi.clickPixels.length>0&&(pixels+=bouncex.campaigns[ca_id].gbi.clickPixels.join("")),extra.value||(extra.value="nonad")),pixels)if("oubr"==bouncex.campaigns[ca_id].gbi.provider){var config=bouncex.campaigns[ca_id].gbi.config,options={url:bouncex.campaigns[ca_id].gbi.impressionPixels[0],method:"GET",timeout:15e3,beforeSend:function(xhr){xhr.setRequestHeader("Authorization","API_KEY "+config.API_KEY)},success:function(response){bouncex.gbi.log(ca_id,'reporting provider pixel for "'+eventname+'"')},error:function(XHR,textStatus,errorThrown){bouncex.gbi.log(ca_id,'error for reporting provider pixel for "'+eventname+'"')}};bouncex.gbi.doAjaxRequest(ca_id,options)}else jQuery(pixels).hide().appendTo(bouncex.body),bouncex.gbi.log(ca_id,'reporting provider pixel for "'+eventname+'"')}var stackId=bouncex.campaigns[ca_id].gbi.stack_id;if(!stackId||"eligible"!=eventname&&"pop"!=eventname)bouncex.buildReport(ca_id,eventname,extra);else{var stack=bouncex.gbi.stacks[stackId],stackCampaigns=stack.campaigns;bouncex.campaigns[stack.leader_id].ttype;for(var priority in stackCampaigns){var stackCaId=stackCampaigns[priority],isStackSelf=stackCaId==ca_id,isStackLeader=stackCaId==bouncex.gbi.stacks[stackId].leader_id;if("pop"==eventname&&!isStackSelf&&isStackLeader&&_campaignHelpers.default.noteCookieAdShown(stackCaId),("eligible"==eventname&&(isStackSelf||isStackLeader)||"pop"==eventname&&isStackSelf)&&bouncex.buildReport(stackCaId,eventname,extra),"pop"==eventname){var moreExtra={};moreExtra["trypop:provider"]=bouncex.campaigns[stackCaId].gbi.provider||"none",extra&&extra["pop:activation"]&&(moreExtra.activation=extra["pop:activation"]),bouncex.buildReport(stackCaId,"trypop",moreExtra)}if(isStackSelf)break}}},requestCompleteMultiple:function(ca_id,html,onsuccess){var ca=bouncex.campaigns[ca_id];bouncex.gbi.log(ca_id,"have a bid with multiple units"),bouncex.gbi.providerApi[ca.gbi.provider].buildHTML(ca_id,ca.gbi.lastResponse),(0,_images.loadImages)(ca.images,(function(){bouncex.gbi.log(ca_id,"images loaded"),(0,_helpers2.activateGbiCampaign)(ca_id),onsuccess&&onsuccess()}))},requestCompleteSingle:function(ca_id,html,onsuccess){bouncex.gbi.log(ca_id,"have a bid with a single unit");var campaign=bouncex.campaigns[ca_id],container=campaign.obj1.find(".bx-step-"+(campaign.gbi.step||1)).find(".bx-group-placeholder").eq(0),provider=campaign.gbi.provider;"index"!=provider&&"pbm"!=provider&&"dfphtml"!=provider||(html+=bouncex.gbi.integrations.moat.display.getScriptTag({website:window.location.host+" ("+bouncex.website.id+")",deviceType:bouncex.state.mobile?"mobile":"desktop",trigger:campaign.trigger,adSize:campaign.gbi.config.units&&campaign.gbi.config.units[0]||"unknown",placement:"overlay"===campaign.type?campaign.type:campaign.subtype,ssp:"GBI1-CAMPAIGN-REPORTING"}));var frameDoc=bouncex.gbi.wrapContentInIframe(container,html,ca_id);if(!frameDoc)return bouncex.gbi.fail(ca_id,"failed to wrap content in iframe: check for missing placeholder group");(0,_helpers2.attachClickReportingToIframe)(container,ca_id),(0,_images.loadImages)(jQuery(frameDoc).find("img").filter(":visible"),(function(){bouncex.gbi.log(ca_id,"image loaded"),(0,_helpers2.activateGbiCampaign)(ca_id),onsuccess&&onsuccess()}))},requestCompleteSingleVideo:function(ca_id,vastData){bouncex.gbi.log(ca_id,"have a bid with a single vast unit");var ca=bouncex.campaigns[ca_id],playerConfig=bouncex.gbi.getPlayerConfig(ca_id,vastData),container=ca.obj1.find(".bx-step-"+(ca.gbi.step||1)).find(".bx-group-placeholder").eq(0),shrinkToFitEnabled=ca.gbi.config.shrinkToFit||ca.gbi.config.shrinkToFitWindow,isOverlayOrInlineZone="overlay"===ca.type||"agilityzone"===ca.type;if(shrinkToFitEnabled&&isOverlayOrInlineZone){var resizeData=bouncex.gbi.getResizeData(ca_id);resizeData.scaleRatio<1&&(playerConfig.width=resizeData.scaledWidth,playerConfig.height=resizeData.scaledHeight,container.css({width:resizeData.scaledWidth,height:resizeData.scaledHeight}))}bouncex.gbi.initVideoFrame(ca_id,container,playerConfig)},initVideoFrame:function(ca_id,container,playerConfig){var jwScriptTag,videoFrame,iframeWindow,campaign=bouncex.campaigns[ca_id],jwPlayerSource="//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/8.3.0/jwplayer.js",moat=bouncex.gbi.integrations.moat,containerWidth=container.width(),containerHeight=container.height();container.empty(),videoFrame=(0,_helpers.createElement)("iframe",{class:"bx-gbi-frame",style:"border: 0; width: "+containerWidth+"px; height: "+containerHeight+"px;"}),playerConfig.width=containerWidth,playerConfig.height=containerHeight,container.append(videoFrame),iframeWindow=videoFrame.contentWindow,bouncex.browser.firefox&&(iframeWindow.oldGetComputedStyle=iframeWindow.getComputedStyle,iframeWindow.getComputedStyle=function(el,pseudoEl){var result=iframeWindow.oldGetComputedStyle(el,pseudoEl);return null===result?{}:result}),iframeWindow.document.write('<html><body style="margin: 0px; overflow: hidden;"><div id="bx-video"></div></body></html>'),(jwScriptTag=iframeWindow.document.createElement("script")).setAttribute("src",jwPlayerSource),jwScriptTag.onload=function(){bouncex.gbi.log(ca_id,"jwplayer script loaded"),iframeWindow.jwplayer?(bouncex.gbi.log(ca_id,"jwplayer executed"),iframeWindow.jwplayer.key="o8z/iG2QyTbuWcdH2vCzMM0waC0nOAeJ9/gVcpFiPZ+tv1+5",iframeWindow.player=campaign.gbi.player=iframeWindow.jwplayer("bx-video"),campaign.gbi.player.setup(playerConfig),campaign.gbi.player.on("adClick",(function(){bouncex.report(ca_id,"click",{value:"ad"})})),campaign.gbi.player.on("adError",(function(data){bouncex.gbi.log(ca_id,data.message?"ad error: "+data.message:"ad error")})),campaign.gbi.contentLoaded=!0,moat.video.loadPlugin(ca_id)):bouncex.gbi.fail(ca_id,"jwplayer failed to execute")},jwScriptTag.onerror=function(){!0,bouncex.gbi.fail(ca_id,"jwplayer script failed to load")},iframeWindow.document.body.appendChild(jwScriptTag)},getPlayerConfig:function(ca_id,vastData){var campaign=bouncex.campaigns[ca_id],playerConfig=campaign.gbi.config.videoPlayerConfig||{},vastKey=/^[\s]*<VAST/i.test(vastData)?"vastxml":"tag",$adPlaceholder=campaign.obj1.find(".bx-group-placeholder").eq(0);return playerConfig.file="//"+bouncex.website.biu+"/assets/global/plugins/jwplayer/blank.mp4",playerConfig.advertising=playerConfig.advertising||{},playerConfig.advertising.client="vast",playerConfig.advertising.vpaidcontrols=!0,playerConfig.advertising[vastKey]=vastData,playerConfig.mute=!0,playerConfig.width=playerConfig.width||$adPlaceholder.width(),playerConfig.height=playerConfig.height||$adPlaceholder.height(),campaign.gbi.config.playOnImpression=!0,campaign.gbi.config.videoPlayerConfig=playerConfig,playerConfig},addFullVideoSupport:function(impression){return impression.video?(impression.video.mimes=impression.video.mimes||[],-1===impression.video.mimes.indexOf("video/mp4")&&impression.video.mimes.push("video/mp4"),-1===impression.video.mimes.indexOf("application/javascript")&&impression.video.mimes.push("application/javascript"),impression):impression},cancelRequest:function(ca_id){var campaign=bouncex.campaigns[ca_id];campaign.gbi.ajaxRequest&&(bouncex.gbi.log(ca_id,"cancelling request"),campaign.gbi.ajaxRequest.abort()),bouncex.gbi.init(ca_id)},clearRequestAssets:function(ca_id){bouncex.events[ca_id].gbiRequest&&(clearInterval(bouncex.events[ca_id].gbiRequest),delete bouncex.events[ca_id].gbiRequest)},getResizeDataForV2:function(ca_id){return bouncex.gbi.getResizeData(ca_id)},getResizeData:function(ca_id){var unitSize,ca=bouncex.campaigns[ca_id],config=bouncex.campaigns[ca_id].gbi.config,extraPadding=2*((parseInt(ca.obj1.find(".bx-wrap").css("padding-left"),10)||0)+(parseInt(ca.obj1.find(".bx-align").css("padding-left"),10)||0)),scaleRatio=1;if(unitSize=ca.gbi.isVideo?{w:config.videoPlayerConfig.width,h:config.videoPlayerConfig.height}:config.imp[0].banner,"agilityzone"===ca.type&&ca.calloutTarget.length)scaleRatio=(ca.calloutTarget.width()-extraPadding)/unitSize.w;else if("overlay"===ca.type){var widthRatio=(bouncex.wndsize().width-extraPadding)/unitSize.w,heightRatio=(bouncex.wndsize().height-extraPadding)/unitSize.h;scaleRatio=widthRatio>heightRatio?heightRatio:widthRatio}return{scaleRatio:scaleRatio,scaledWidth:unitSize.w*scaleRatio,scaledHeight:unitSize.h*scaleRatio}},getCreativeDimensions:function(ca_id){var creative=jQuery("#bx-creative-"+ca_id);return creative.css("max-width","none"),{width:creative.width(),height:creative.height()}},shrinkToFitWindow:function(ca_id){var creativeDimensions=bouncex.gbi.getCreativeDimensions(ca_id),windowSize=bouncex.wndsize();windowSize.width-=12,windowSize.height-=12;var widthRatio=creativeDimensions.width>windowSize.width?windowSize.width/creativeDimensions.width:1,heightRatio=creativeDimensions.height>windowSize.height?windowSize.height/creativeDimensions.height:1,ratio=widthRatio>heightRatio?heightRatio:widthRatio;ratio<1&&bouncex.campaigns[ca_id].obj1.find(".bx-slab").css({width:creativeDimensions.width+12+"px",height:creativeDimensions.height+12+"px",overflow:"visible",top:"50%",left:"50%",transform:"scale("+ratio+") translate(-50%, -50%)",transformOrigin:"0 0"})},shrinkToFitParent:function(ca_id){var creativeDimensions=bouncex.gbi.getCreativeDimensions(ca_id),containerWidth=bouncex.campaigns[ca_id].obj1.parent().width(),widthRatio=creativeDimensions.width>containerWidth?containerWidth/creativeDimensions.width:1;widthRatio<1&&bouncex.campaigns[ca_id].obj1.find(".bx-slab").css({width:creativeDimensions.width*widthRatio+"px",height:creativeDimensions.height*widthRatio+"px",transform:"scale("+widthRatio+")",transformOrigin:"0 0"})},populateTemplate:function populateTemplate(ca_id,response,unitJsonPath,imageJsonPath){for(var creative=jQuery("#bx-creative-"+ca_id),creativeClone=creative.clone(!0),templateGroups=creativeClone.find(".bx-group-placeholder"),groupLength=templateGroups.length,k=0;k<groupLength;k+=1){var unit=eval(unitJsonPath+"[k];"),templateGroup=jQuery(templateGroups[k]);if(templateGroup.length)if(unit){var image=eval("unit."+imageJsonPath);templateGroup.find(".bx-lineshape").css("background-image","url("+image+")"),bouncex.campaigns[ca_id].images.push(image);var html=templateGroup.html();html=html.replace(/{(.*?)}/gi,(function(query,keyword){var content=eval("unit."+keyword);if(void 0!==content)return content})),templateGroup.html(html)}else templateGroup.remove()}var html=creativeClone.html();html=html.replace(/{(.*?)}/gi,(function(query,keyword){try{return eval("response."+keyword)}catch(err){return keyword}})),creativeClone.html(html),creative.replaceWith(creativeClone)},generateDynamicRequestUrlParams:function generateDynamicRequestUrlParams(ca_id){var config=bouncex.campaigns[ca_id].gbi.config,dynamicQueryStr="",dynamicParams=config.dynamic_request_params;if(dynamicParams)for(var param in dynamicParams)try{dynamicQueryStr+="&"+param+"="+encodeURIComponent(eval(dynamicParams[param]))}catch(e){bouncex.gbi.log("invalid dynamic request param "+param+" must have valid javascript as value")}return dynamicQueryStr},requestAndRefreshRequest:function(ca_id){var ca=bouncex.campaigns[ca_id],api=bouncex.gbi.providerApi[ca.gbi.provider];ca.gbi.requestNum=1,api.fetch(ca_id),bouncex.events[ca_id].gbiRequest=(0,_scheduling.setIntervalWrapper)((function(){if(!_campaignHelpers.default.can_show_ad(ca_id)&&!bouncex.campaigns[ca_id].failed)return clearInterval(bouncex.events[ca_id].gbiRequest),void bouncex.gbi.log(ca_id,"clearing interval");bouncex.gbi.init(ca_id),ca.gbi.requestNum++,api.fetch(ca_id)}),ca.gbi.config.reload||18e4)},playVideoBeforeImpression:function(type,ca_id){var campaign=bouncex.campaigns[ca_id],player=campaign.gbi.player;player.on("adImpression",(function(){player.off("adImpression"),player.off("adError"),bouncex.gbi.log(ca_id,"video response detected"),campaign.gbi.videoResponseLoaded=!0,bouncex.show_ad(type,ca_id)})),player.on("adError",(function(data){player.off("adImpression"),player.off("adError"),player.stop(),bouncex.gbi.fail(ca_id,data.message?data.message:"error loading response")})),player.play()}};AdsVersion1.integrations=_integrations.default,AdsVersion1.providerApi=_provider_api.default,AdsVersion1.helpers={initGbiStack:_helpers2.initGbiStack,activateGbiCampaign:_helpers2.activateGbiCampaign};var _default=AdsVersion1;exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,Url=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(4)),_helpers=(obj=__webpack_require__(0))&&obj.__esModule?obj:{default:obj},_ajax=__webpack_require__(11);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}var _default={moat:{display:{scriptSrc:document.location.protocol+"//z.moatads.com/bounceexchangedisplay18031701869/moatad.js",getScriptTag:function(params){if(!_helpers.default.shouldSampleMoatPixel())return bouncex.log("SAMPLE: MOAT script blocked"),"";var queryString=Url.qs({moatClientLevel1:params.website,moatClientLevel2:params.deviceType,moatClientLevel3:params.trigger,moatClientLevel4:params.adSize,zMoatPlacement:params.placement,zMoatSSP:"GBI1-CAMPAIGN-IN-USE"});return'<script src="'+this.scriptSrc+"?"+queryString+'" type="text/javascript"><\/script>'}},video:{scriptSrc:document.location.protocol+"//z.moatads.com/jwplayerplugin0938452/moatplugin.js",partnerCode:"bouncexjsvideojwplayer997111196347",loadPlugin:function(campaignId){if(!_helpers.default.shouldSampleMoatPixel())return bouncex.log(campaignId,"SAMPLE: MOAT script blocked"),"";var self=this;(0,_ajax.getScript)(self.scriptSrc,(function(){self.addImpressionListener(campaignId)}))},addImpressionListener:function(campaignId){var campaign=bouncex.campaigns[campaignId],self=this;campaign.gbi.player.on("adImpression",(function(eventData){window.moatjw.add({partnerCode:self.partnerCode,player:this,adImpressionEvent:eventData,ids:{level1:window.location.host+" ("+bouncex.website.id+")",level2:bouncex.state.mobile?"mobile":"desktop",level3:campaign.trigger,level4:"video",slicer1:"overlay"===campaign.type?campaign.type:campaign.subtype,zMoatSSP:"GBI1-CAMPAIGN-IN-USE"},duration:30})}))}}},tag:{intermediaryId:"869cff86d1c453c1",generateId:function(){return this.intermediaryId+":"+bouncex.website.id}}};exports.default=_default},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Url=_interopRequireWildcard(__webpack_require__(4)),_helpers=__webpack_require__(0),_time=__webpack_require__(7),_helpers2=__webpack_require__(53);function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}return newObj.default=obj,cache&&cache.set(obj,newObj),newObj}var ProviderAPI={aqbx:{initDemoAd:function(ca_id){var configObj;try{configObj=bouncex.campaigns[ca_id].gbi.config.imp[0]}catch(err){bouncex.gbi.fail(ca_id,"no creative dimensions have been set for this ad!")}if(void 0!==configObj.video){var aqbxVast='<VAST version="2.0"><Ad><InLine><AdSystem>Acudeo Compatible</AdSystem><AdTitle>VAST 2.0 AQBX</AdTitle><Description>VAST 2.0 AQBX</Description><Creatives><Creative><Linear><Duration>00:00:21</Duration><MediaFiles><MediaFile delivery="progressive" type="video/mp4" bitrate="500" width="400" height="300" scalable="true" maintainAspectRatio="true">https://'+bouncex.website.biu+"/assets/global/videos/pub/demo/ads_demo_video.mp4</MediaFile></MediaFiles></Linear></Creative></Creatives></InLine></Ad></VAST>";bouncex.campaigns[ca_id].gbi.isVideo=!0,bouncex.gbi.requestCompleteSingleVideo(ca_id,aqbxVast),bouncex.gbi.log(ca_id,"aqbx video ad loaded"),(0,_helpers2.activateGbiCampaign)(ca_id)}else{var impDimensions=configObj.banner,demoImgWidth=impDimensions.w,demoImgHeight=impDimensions.h,gbiHTML='<a><img height="'+demoImgHeight+'" width="'+demoImgWidth+'" src="'+("https://"+bouncex.website.biu+"/assets/global/images/pub/demo"+demoImgWidth+"x"+demoImgHeight+".gif")+'"/></a>';bouncex.campaigns[ca_id].gbi.html=gbiHTML,(0,_helpers2.activateGbiCampaign)(ca_id)}}},an:{getFetchOptions:function(ca_id){var self=this,config=bouncex.campaigns[ca_id].gbi.config;return{url:config.request_url,type:"POST",dataType:"json",processData:!1,timeout:config.timeout||255,success:function(response){var gbiHTML=self.processResponse(ca_id,response);if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.gbi.requestCompleteSingle(ca_id,gbiHTML)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,textStatus)}}},processResponse:function(ca_id,response){if(response&&"ok"==response.status)try{var resLength=response.native.length;if(resLength>0){for(var html="",i=0;i<resLength;i++){bouncex.campaigns[ca_id].gbi.clickPixels.push('<img src="'+response.native[i].click_trackers+'"/>');var impressionTrackerLength=response.native[i].impression_trackers.length;if(impressionTrackerLength>0)for(var j=0;j<impressionTrackerLength;j++)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+response.native[i].impression_trackers[j]+'"/>');html+='<a href="'+response.native[i].click_url+'"><img height="100%" width="100%" title="',html+=response.native[i].title+'" src="'+response.native[i].main_media[0].url+'"/></a>'}return html}}catch(err){bouncex.gbi.fail(ca_id,err)}return""}},dfpi:{getFetchOptions:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config,self=this;return{url:config.request_url+"&c="+(0,_time.getTimeWithServerDiff)()+bouncex.gbi.generateDynamicRequestUrlParams(ca_id),type:"GET",dataType:"json",processData:!1,timeout:config.timeout||1e3,success:function(response){var gbiHTML=self.processResponse(ca_id,response);if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.gbi.requestCompleteSingle(ca_id,gbiHTML)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}}},processResponse:function(ca_id,response){if(response&&response.main_media)try{var impressionTrackerLength=response.impression_trackers.length;if(impressionTrackerLength>0)for(var i=0;i<impressionTrackerLength;i++)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+response.impression_trackers[i]+'"/>');var clickTrackerLength=response.click_trackers.length;if(clickTrackerLength>0)for(i=0;i<clickTrackerLength;i++)bouncex.campaigns[ca_id].gbi.clickPixels.push('<img src="'+response.click_trackers[i]+'"/>');var mediaLength=response.main_media.length;if(mediaLength>0){var html="";for(i=0;i<mediaLength;i++)html+='<a href="'+response.click_url+'"><img height="100%" width="100%" title="',html+=response.title+'" src="'+response.main_media[i].url+'"/></a>';return html}}catch(err){bouncex.gbi.fail(ca_id,err)}return""}},dfps:{getFetchOptions:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config,self=this;return{url:config.request_url+"&c="+(0,_time.getTimeWithServerDiff)()+bouncex.gbi.generateDynamicRequestUrlParams(ca_id),type:"GET",dataType:"json",processData:!1,timeout:config.timeout||1e3,success:function(response){var gbiHTML=self.processResponse(ca_id,response);if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.gbi.requestCompleteSingle(ca_id,gbiHTML)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}}},processResponse:function(ca_id,response){if(response&&response.main_media)try{var impressionTrackerLength=response.impression_trackers.length;if(impressionTrackerLength>0)for(var i=0;i<impressionTrackerLength;i++)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+response.impression_trackers[i]+'"/>');var mediaLength=response.main_media.length;if(mediaLength>0){var html="";for(i=0;i<mediaLength;i++)html+=response.main_media[i].url;return html}}catch(err){bouncex.gbi.fail(ca_id,err)}return""}},dfphtml:{getFetchOptions:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;return{url:config.request_url+"&c="+(0,_time.getTimeWithServerDiff)()+bouncex.gbi.generateDynamicRequestUrlParams(ca_id),method:"GET",global:!1,processData:!1,timeout:config.timeout||1e3,complete:function(response,status){if("success"!=status)return bouncex.gbi.fail(ca_id,status+" "+response.status);if(200===response.status){var gbiHTML=response.responseText;if(!gbiHTML)return bouncex.gbi.fail(ca_id,"no bid");bouncex.campaigns[ca_id].gbi.html=gbiHTML,(0,_helpers2.activateGbiCampaign)(ca_id)}else bouncex.gbi.fail(ca_id,"response status "+response.status)}}}},crit:{getFetchOptions:function(ca_id,action){var self=this,config=bouncex.campaigns[ca_id].gbi.config;return{url:config.endpoint+"/recommendations.get",data:config,dataType:"jsonp",method:"GET",timeout:15e3,success:function(response){self.processResponse(ca_id,response)&&(0,_helpers2.activateGbiCampaign)(ca_id)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}}},processResponse:function(ca_id,response){if(!response||0!==response.response_status)return response&&response.status_message?bouncex.gbi.fail(ca_id,"Bad response: "+response.status_message):bouncex.gbi.fail(ca_id,"No bid"),!1;try{return this.populatePixel(ca_id,response)&&this.populateCreative(ca_id,response)}catch(err){bouncex.gbi.fail(ca_id,err)}},populatePixel:function(ca_id,response){for(var pixels=response.impression_pixels,pixelLength=pixels.length,k=0;k<pixelLength;k+=1)bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+pixels[k].url+'"/>');return!0},populateCreative:function(ca_id,response){return bouncex.gbi.populateTemplate(ca_id,response,"response.products","image.url"),!0}},tabr:{getFetchOptions:function(ca_id,action){var self=this,config=bouncex.campaigns[ca_id].gbi.config;return config["source.id"]=window.location.pathname,config["source.url"]=window.location.href,config["rec.visible"]=!1,config["user.session"]="init",config["app.type"]="desktop",{url:config.endpoint_domain+"/1.1/json/"+config["publisher-name"]+"/recommendations.get",data:config,dataType:"json",method:"GET",timeout:15e3,success:function(response){self.processResponse(ca_id,response)&&(0,_helpers2.activateGbiCampaign)(ca_id)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}}},processResponse:function(ca_id,response){if(!(response&&response.id&&response.list.length>0))return bouncex.gbi.fail(ca_id,"no bid");try{return response.list?(bouncex.campaigns[ca_id].gbi.lastResponse=response,this.getPixels(ca_id,response),!0):bouncex.gbi.fail(ca_id,"no bid")}catch(err){bouncex.gbi.fail(ca_id,err)}},buildHTML:function(ca_id,response){bouncex.gbi.populateTemplate(ca_id,response,"response.list","thumbnail[0].url")},getPixels:function(ca_id,response){var config=bouncex.campaigns[ca_id].gbi.config,impressionPixel=config.endpoint_domain+"/1.1/json/"+config["publisher-name"]+"/recommendations.notify-visible?";impressionPixel+="response.id="+response.id+"&response.session="+response.session,impressionPixel+="&app.type="+(bouncex.state.mobile?"mobile":"desktop")+"&app.apikey="+config["app.apikey"],bouncex.campaigns[ca_id].gbi.impressionPixels.push('<img src="'+impressionPixel+'"/>')}},oubr:{getFetchOptions:function(ca_id,action){var self=this,config=bouncex.campaigns[ca_id].gbi.config;return{url:config[config.environment+"_endpoint"]+"/recommendations/documents",dataType:"json",method:"GET",data:config.data,timeout:15e3,beforeSend:function(xhr){xhr.setRequestHeader("Authorization","API_KEY "+config.API_KEY)},success:function(response){self.processResponse(ca_id,response)&&(0,_helpers2.activateGbiCampaign)(ca_id)},error:function(XHR,textStatus,errorThrown){return bouncex.gbi.fail(ca_id,"timed out")}}},processResponse:function(ca_id,response){if(!(response&&response.requestId&&response.items&&response.items.length>0))return bouncex.gbi.fail(ca_id,"no bid");try{return bouncex.campaigns[ca_id].gbi.lastResponse=response,this.getPixels(ca_id,response)&&this.populateCreative(ca_id,response)}catch(err){bouncex.gbi.fail(ca_id,err)}},populateCreative:function(ca_id,response){return bouncex.gbi.populateTemplate(ca_id,response,"response.items","thumbnail"),!0},getPixels:function(ca_id,response){bouncex.campaigns[ca_id].gbi.config;var impressionPixel=response._actions.reportViewed;return bouncex.campaigns[ca_id].gbi.impressionPixels.push(impressionPixel),!0}},index:{request:function(ca_id){bouncex.gbi.init(ca_id);try{bouncex.gbi.requestAndRefreshRequest(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},isMultiBidRequest:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config;return config.imp.length>1||config.jsonp},getRequestData:function getRequestData(ca_id){var campaign=bouncex.campaigns[ca_id],config=campaign.gbi.config,pageUrl=document.location.protocol+"//"+document.location.hostname+document.location.pathname,multiBidParams=this.isMultiBidRequest(ca_id)&&config.params&&config.params.length?"&"+config.params:"",urlWithParams=Url.updateQS(pageUrl,"deployment",campaign.type,"device",bouncex.state.mobile?"mobile":"desktop")+multiBidParams;if(config.imp&&config.imp.length)for(var i=0;i<config.imp.length;i++)config.imp[i].video&&(config.imp[i]=bouncex.gbi.addFullVideoSupport(config.imp[i]));var requestData={id:(0,_time.getTimeWithServerDiff)(),imp:config.imp,site:{page:urlWithParams,ref:bouncex.referrer,mobile:bouncex.state.mobile?1:0}};return config.dynamic_site_page&&(requestData.site.page=document.location.protocol+"//"+document.location.hostname+"/"+eval(config.dynamic_site_page)),requestData.source={pchain:bouncex.gbi.integrations.tag.generateId()},requestData},getFetchOptions:function(ca_id){for(var self=this,campaign=bouncex.campaigns[ca_id],config=campaign.gbi.config,data=self.getRequestData(ca_id),deployment=campaign.subtype||("overlay"===campaign.type?"overlay":"none"),productionEndpoint=bouncex.ssl?"https://as-sec":"http://as",endpointPrefix=!1===config.production?"http://astest":productionEndpoint,eventData={partner:campaign.gbi.provider,partner_site_id:config.s,request_number:campaign.gbi.requestNum,deployment:deployment,requested_ad_units:config.units?config.units.join(", "):"",request_timestamp:(0,_helpers.getTimeMs)(),deal_id:"NA",price:"NA"},options={url:endpointPrefix+".casalemedia.com/cygnus",data:{v:"7",cb:(0,_helpers.getTimeMs)(),s:config.s,r:bouncex.stringify(data)},dataType:"text",contentType:"application/x-www-form-urlencoded",global:!1,crossDomain:!0,xhrFields:{withCredentials:!0},timeout:config.timeout||1e3,complete:function(response,status){self.handleResponse(ca_id,response,status,eventData)}},i=0;i<data.imp.length;i++)if(data.imp[i].video){campaign.gbi.isVideo=!0,options.data.v="8.8",options.data.fn="jsonp";break}return options},handleResponse:function(ca_id,response,status,eventData){var campaign=bouncex.campaigns[ca_id],eventName="bid_error";if("success"===status&&200===response.status&&response.responseText){var responseText=response.responseText,responseJson=responseText.substring(responseText.indexOf("(")+1,responseText.lastIndexOf(")")),bid=this.processResponse(ca_id,responseJson),dealId=bid&&bid.ext&&bid.ext.dealid;dealId&&(eventData.deal_id=dealId),bid&&bid.ext&&bid.ext.pricelevel&&(eventData.price=this.convertPrice(bid.ext.pricelevel,dealId)),eventName=bid?"bid_fill":"bid_none"}else"success"!==status||response.responseText?0===response.status&&(eventName="bid_cancel"):eventName="bid_empty";if(bouncex.gbi.report(ca_id,eventName,eventData),"bid_fill"===eventName)campaign.gbi.isVideo?(campaign.gbi.vastUrl=bid.ext&&bid.ext.vasturl,bouncex.gbi.requestCompleteSingleVideo(ca_id,campaign.gbi.vastUrl)):campaign.gbi.html=bid.adm,campaign.gbi.step=this.isMultiBidRequest(ca_id)?Number(bid.impid):1,bouncex.gbi.log(ca_id,"using step "+campaign.gbi.step),(0,_helpers2.activateGbiCampaign)(ca_id);else{if("bid_empty"===eventName)return bouncex.gbi.fail(ca_id,"empty response");if("bid_none"===eventName)return bouncex.gbi.fail(ca_id,"no bid");if("bid_error"===eventName)return bouncex.gbi.fail(ca_id,status+" "+response.status)}},fetch:function(ca_id){bouncex.gbi.doAjaxRequest(ca_id,this.getFetchOptions(ca_id))},processResponse:function(ca_id,response){if(response)try{var highest=(response=bouncex.parseJSON(response)).seatbid[0].bid[0];if(this.isMultiBidRequest(ca_id))for(var i=0;i<response.seatbid.length;i++)for(var j=0;j<response.seatbid[i].bid.length;j++){if(response.seatbid[i].bid[j].ext.pricelevel)Number(response.seatbid[i].bid[j].ext.pricelevel.substring(1))>Number(highest.ext.pricelevel.substring(1))&&(highest=response.seatbid[i].bid[j])}return highest}catch(err){}return!1},getRatio:function(ca_id){var unitSize=bouncex.campaigns[ca_id].gbi.config.imp[0].banner,windowSize=bouncex.wndsize(),wratio=1,hratio=1;return unitSize.w>windowSize.width&&(wratio=windowSize.width/unitSize.w),unitSize.h>windowSize.height&&(hratio=windowSize.height/unitSize.h),wratio>hratio?hratio:wratio},convertPrice:function(priceString,dealId){var decimalIndex=priceString.length-2,charArray=priceString.split("");charArray.splice(decimalIndex,0,".");var formattedString=charArray.join("").replace(/[^0-9.]/g,"");return(dealId?Number(formattedString):Number(formattedString)/.85).toFixed(5)}},pbm:{request:function(ca_id){bouncex.gbi.init(ca_id);try{this.userSynced()?bouncex.gbi.requestAndRefreshRequest(ca_id):this.syncUser(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},syncUser:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config,userSyncIframe=(0,_helpers.createElement)("iframe",{style:"display: none;",src:"//"+config.user_sync_endpoint+"?p="+config.publisher_id});userSyncIframe.onload=function(){sessionStorage.setItem("bxpbmsynced","true"),bouncex.gbi.requestAndRefreshRequest(ca_id)},document.body.appendChild(userSyncIframe)},userSynced:function(){return!!sessionStorage.getItem("bxpbmsynced")},getTagId:function(ca_id,siteId){var campaign=bouncex.campaigns[ca_id];return campaign.subtype?{masthead:"Masthead",endcap:"End_Cap",encore:"Encore",middleofarticle:"Middle_of_Article",skyline:"Skyline"}[campaign.subtype]+"_"+siteId:"overlay"===campaign.type?"Overlay_"+siteId:""},getRequestData:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config,siteId=(bouncex.state.mobile?config.mobile_id:config.desktop_id).toString(),requestId=bouncex.cookie.vid+"_"+bouncex.cookie.sid,requestData=config.isLegacy?config.requestData:{},impressions=config.isLegacy?config.requestData.imp:config.imp,tagId=this.getTagId(ca_id,siteId);if(impressions&&impressions.length)for(var i=0;i<impressions.length;i++)impressions[i].video&&(impressions[i]=bouncex.gbi.addFullVideoSupport(impressions[i]));jQuery.extend(requestData,{id:requestId,site:{id:siteId,name:window.location.hostname,ref:decodeURIComponent(bouncex.referrer),page:decodeURIComponent(bouncex.calling_url),publisher:{id:config.publisher_id}},device:{ua:navigator.userAgent,ip:bouncex.state.vip},imp:impressions.map((function(impression,i){return impression.id=(0,_helpers.getTimeMs)().toString()+i,impression.secure=bouncex.ssl?1:0,impression.tagid=tagId,impression})),at:1,tmax:200});var extraIds=this.getExtraIds();return extraIds&&(requestData.user={eids:extraIds}),requestData.source={pchain:bouncex.gbi.integrations.tag.generateId()},requestData},getExtraIds:function(){var deviceId=window.bouncex.gbi.deviceOptedStatus;if(deviceId)return[{source:"bxid",uids:[{id:deviceId,atype:1}]}]},getFetchOptions:function(ca_id){for(var self=this,campaign=bouncex.campaigns[ca_id],config=campaign.gbi.config,data=self.getRequestData(ca_id),endpoint=(bouncex.ssl?"https://":"http://")+config.endpoint,impressionCount=data.imp.length,deployment=campaign.subtype||("overlay"===campaign.type?"overlay":"none"),deviceIdIncluded=!!(data.user&&data.user.eids&&data.user.eids[0]&&data.user.eids[0].uids&&data.user.eids[0].uids[0]&&data.user.eids[0].uids[0].id),i=0;i<impressionCount;i++)if(data.imp[i].video){campaign.gbi.isVideo=!0;break}var eventData={partner:campaign.gbi.provider,partner_site_id:data.site.id,request_number:campaign.gbi.requestNum,deployment:deployment,requested_ad_units:config.units?config.units.join(", "):"",request_timestamp:(0,_helpers.getTimeMs)(),device_id_included:deviceIdIncluded,deal_id:"NA",price:"NA"};return{url:endpoint,data:bouncex.stringify(data),method:"POST",type:"POST",dataType:"json",timeout:config.timeout||2e3,complete:function(response,status){self.handleResponse(ca_id,response,status,eventData)}}},handleResponse:function(ca_id,response,status,eventData){var campaign=bouncex.campaigns[ca_id],eventName="bid_error";if("success"===status&&200===response.status){var bid=this.processResponse(ca_id,response.responseText);bid&&bid.dealid&&(eventData.deal_id=bid.dealid),bid&&bid.price&&(eventData.price=bid.price),eventName=bid?"bid_fill":"bid_none"}else"nocontent"!==status&&"success"!==status||204!==response.status?0===response.status&&(eventName="bid_cancel"):eventName="bid_empty";if(bouncex.gbi.report(ca_id,eventName,eventData),"bid_fill"===eventName)campaign.gbi.isVideo?bouncex.gbi.requestCompleteSingleVideo(ca_id,bid.adm):campaign.gbi.html=bid.adm,(0,_helpers2.activateGbiCampaign)(ca_id);else{if("bid_empty"===eventName)return bouncex.gbi.fail(ca_id,"empty bid response");if("bid_none"===eventName)return bouncex.gbi.fail(ca_id,"no bid");if("bid_error"===eventName)return bouncex.gbi.fail(ca_id,"status "+response.status+": "+status)}},fetch:function(ca_id,uid){bouncex.gbi.doAjaxRequest(ca_id,this.getFetchOptions(ca_id))},processResponse:function(ca_id,response){return!!response&&(response=bouncex.parseJSON(response)).seatbid[0].bid[0]}},rcl:{request:function(ca_id){bouncex.gbi.init(ca_id);try{this.init(ca_id)}catch(err){bouncex.gbi.fail(ca_id,err)}},init:function(ca_id){var campaign=bouncex.campaigns[ca_id];campaign.gbi.isVideo=!0,campaign.gbi.playBeforeImpression=!0,bouncex.gbi.requestCompleteSingleVideo(ca_id,this.getVastUrl(ca_id)),(0,_helpers2.activateGbiCampaign)(ca_id)},getVastUrl:function(ca_id){var config=bouncex.campaigns[ca_id].gbi.config,vastUrl=config.requestUrl,requestData=config.requestData;for(var key in requestData.PAGE_URL=bouncex.calling_url,requestData.cb=(0,_time.getTimeWithServerDiff)(),requestData)vastUrl=Url.updateQS(vastUrl,key,requestData[key]);return vastUrl}}},_default=ProviderAPI;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=IndexedDbStore;var obj,_logger=(obj=__webpack_require__(1))&&obj.__esModule?obj:{default:obj};function IndexedDbStore(windowDB,onInitSuccess){this.__init.apply(this,arguments)}IndexedDbStore.db=null,IndexedDbStore.prototype={__init:function(windowDB,onInitSuccess){this.databaseName="wknd",this.version=1,this.indexedDB=windowDB,this.__openDatabase(onInitSuccess)},__onError:function(event){_logger.default.warn(["".concat(event.target.error),event])},__openDatabase:function(onConnect){if(this.isSupported())if(IndexedDbStore.db)onConnect&&setTimeout(onConnect,0);else{var request=this.indexedDB.open(this.databaseName,this.version);request.onerror=this.__onError,request.onsuccess=this.__onconnectSuccess.bind(this,onConnect),request.onupgradeneeded=this.__onupgradeneeded.bind(this)}},__onconnectSuccess:function(onConnect,event){IndexedDbStore.db=event.target.result,onConnect&&onConnect()},__onupgradeneeded:function(event){var db=event.target.result;if(db.onerror=this.__onError,event.oldVersion<1)db.createObjectStore("visits",{keyPath:"start_date"})},__performRequest:function(objectStoreName,request,onSuccess,errorOnce){if(IndexedDbStore.db)try{var storeRequest=request(IndexedDbStore.db.transaction([objectStoreName],"readwrite").objectStore(objectStoreName));storeRequest.onsuccess=onSuccess,storeRequest.onerror=this.__onError}catch(e){if(e instanceof DOMException)if(!(errorOnce=errorOnce||{}).hasOwnProperty(e.message)&&Object.keys(errorOnce).length<10){errorOnce[e.message]=e,IndexedDbStore.db=null;var onInitSuccess=this.__performRequest.bind(this,objectStoreName,request,onSuccess,errorOnce);return void this.__openDatabase(onInitSuccess)}throw e}},isSupported:function(){var IDBObjectStore=window.IDBObjectStore||window.webkitIDBObjectStore||window.mozIDBObjectStore||window.msIDBObjectStore,IDBIndex=window.IDBIndex||window.webkitIDBIndex||window.mozIDBIndex||window.msIDBIndex;return void 0!==IDBObjectStore&&void 0!==IDBIndex&&(void 0!==IDBObjectStore.prototype.getAll&&void 0!==IDBIndex.prototype.getAll&&!!this.indexedDB)},deleteDatabase:function(){IndexedDbStore.db&&(IndexedDbStore.db.close(),IndexedDbStore.db=null),this.isSupported()&&this.indexedDB.deleteDatabase(this.databaseName)},addVisit:function(date,onSuccess){this.__performRequest("visits",(function(store){return store.add({start_date:date})}),onSuccess)},getVisitsAsHoursAgoArray:function(date,now,onSuccess){var internalOnSuccess=function(event){for(var results=[],items=event.target.result,i=0;i<items.length;i++)results.push(Math.floor(Math.abs((now-items[i].start_date)/3600)));onSuccess(results)};if(date){var lowerBoundKeyRange=IDBKeyRange.lowerBound(date);this.__performRequest("visits",(function(store){return store.getAll(lowerBoundKeyRange)}),internalOnSuccess)}else this.__performRequest("visits",(function(store){return store.getAll()}),internalOnSuccess)},getVisitsSince:function(date,onSuccess){var internalOnSuccess=function(event){onSuccess(event.target.result)};if(date){var lowerBoundKeyRange=IDBKeyRange.lowerBound(date);this.__performRequest("visits",(function(store){return store.count(lowerBoundKeyRange)}),internalOnSuccess)}else this.__performRequest("visits",(function(store){return store.count()}),internalOnSuccess)}}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _scheduling=__webpack_require__(2),_eventStream=_interopRequireDefault(__webpack_require__(3)),_logger=_interopRequireDefault(__webpack_require__(1));_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={_constants:{product:"sms",optInMessage:"Send this text to sign-up for automated, recurring <BrandName> marketing texts, like cart reminders.",params:{source:"sms_source",click:"sms_click",uph:"sms_uph"}},_cache:{deviceId:""},init:function(){this.initialized=!0,this._clickthrough(),this._user(),this._cacheDeviceId()},_clickthrough:function(){var click=bouncex.utils.url.getParam(this._constants.params.click);if(click){var timestamp=Math.floor((new Date).getTime()/1e3);bouncex.updateBounceCookie((function(cookie){var clicks=cookie.sms||{};clicks[click]=timestamp,cookie.sms=clicks}))}},_user:function(){var uph=bouncex.utils.url.getParam(this._constants.params.uph);if(uph){var event={"user:phone_sha256":uph,source:"web","user:source":"sms_clickthrough",agent:"js",channel:this._constants.product};this.report("user",event)}},_getOptInSlug:function(ca_id){var deviceId=bouncex.cookie&&bouncex.cookie.did?bouncex.cookie.did:this._cache.deviceId;return"YES-"+bouncex.website.id+"-"+ca_id+"-"+deviceId},_getOptInMessage:function(){var message=bouncex.website.sms&&bouncex.website.sms.optm||this._constants.optInMessage.replace("<BrandName>",bouncex.website.brandName);return message=encodeURIComponent(message+"\n"),bouncex.browser.android&&bouncex.browser.android<10&&(message=message.replace(/%/g,"%25")),message},_getOptInShortCode:function(){var shortCodes=bouncex.website.smsShortCodes;return shortCodes&&shortCodes.length?shortCodes[0]:"29143"},_getOptInURI:function(ca_id){return"sms://"+this._getOptInShortCode()+"?&body="+this._getOptInMessage()+this._getOptInSlug(ca_id)},_triggerOptIn:function(ca_id){bouncex.close_ad(ca_id),window.location.href=this._getOptInURI(ca_id)},optIn:function(ca_id,mobile){if(!this.initialized)return this.log(ca_id,"sms not initialized. check that sms is enabled and required website settings are valid.",!0),!1;this.report("prompt",{campaignid:ca_id}),mobile&&(0,_scheduling.setTimeoutWrapper)(this._triggerOptIn.call(this,ca_id),300)},report:function(type,eventData){var data={agent:"user",source:this._constants.product};for(var key in eventData)eventData.hasOwnProperty(key)&&(data[key]=eventData[key]);_eventStream.default.report(type,data)},log:function(campaignId,message,isError){var data={group:this._constants.product,campaignId:campaignId,message:message};isError?_logger.default.error(data):_logger.default.info(data)},_cacheDeviceId:function(){var errorText;bouncex.cookie?bouncex.cookie.did||(errorText="Device-Not-Found"):errorText="Cookie-Not-Found";var deviceId=bouncex.cookie&&bouncex.cookie.did?bouncex.cookie.did:errorText;this._cache.deviceId=deviceId}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var Url=function(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(__webpack_require__(4)),_records=_interopRequireDefault(__webpack_require__(16)),_helpers=_interopRequireDefault(__webpack_require__(0));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function(){return cache},cache}function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var Utilities={addNamespace:function(obj,name){var namespacedObj={};for(var k in obj)if(obj.hasOwnProperty(k)){var namespacedKey=k;-1===k.indexOf(":")&&(namespacedKey=name+":"+k),namespacedObj[namespacedKey]=obj[k]}return namespacedObj},getOrigin:function(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},doAjaxRequest:function(options){options.crossDomain=!0,options.global=!1;var vernums=jQuery.fn.jquery.split(".");return options.xhrFields={withCredentials:!0},parseInt(vernums[0])<=1&&parseInt(vernums[1])<=5&&(options.beforeSend=function(xhr){xhr.withCredentials=!0},options.xhr=function(){var xhr=jQuery.ajaxSettings.xhr(),setRequestHeader=xhr.setRequestHeader;return xhr.setRequestHeader=function(name,value){"X-Requested-With"!=name&&setRequestHeader.call(this,name,value)},xhr}),jQuery.ajax(options)},gtmLookup:function(param,gtmId){if(!(gtmId=gtmId||Url.getParam("id",jQuery('script[src*="googletagmanager"]').attr("src"))))return!1;try{return window.google_tag_manager[gtmId].dataLayer.get(param)}catch(e){return bouncex.err(e,{source:"gtmLookup"}),""}},getNestedProp:function(val,def,obj){var lastObj=void 0!==obj?obj:window,badResp=void 0!==def?def:void 0,arr=val;if("string"==typeof val){if(/[^A-z0-9\[\].]/.test(val))return bouncex.log("getNestedProp given bad value: "+val),badResp;arr=val.split(/[.\[]/).map((function(word){return word.replace(/[\]]/g,"")}))}for(var i=0;i<arr.length;i++){var item=arr[i];if(void 0===lastObj[item])return badResp;lastObj=lastObj[item]}return lastObj},cookies:{create:function(obj){if(!(obj=jQuery.extend({name:"",value:"",domain:!1,days:14},obj)).name)return!1;var date=new Date;date.setTime(date.getTime()+24*obj.days*60*60*1e3);var exp="; expires="+date.toGMTString(),cookieString=obj.name+"="+obj.value+exp+"; path=/;";obj.domain&&(cookieString+="domain="+obj.domain+";"),document.cookie=cookieString},destroy:function(name){return Utilities.cookies.create({name:name,days:-1})},read:function(name){for(var t=name+"=",vars=document.cookie.split(";"),r=0;r<vars.length;r++){for(var i=vars[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}},url:Url,records:{getRecords:function(filter){if(_helpers.default.isBxInternalTraffic())return _records.default.getRecords(filter)},printRecords:function(filter){if(_helpers.default.isBxInternalTraffic())return _records.default.printRecords(filter)}},validate:{email:function(_email){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(_email)},integer:function(val){return!isNaN(parseInt(val))},url:function(_url){return/^(https?):\/\/[^\s/$.?#].[^\s]*$/.test(_url)}},isObject:function(obj){return null!==obj&&"object"===_typeof(obj)&&!Array.isArray(obj)}},_default=Utilities;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _eventStream=_interopRequireDefault(__webpack_require__(3)),_url=__webpack_require__(4);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Inbox={wsid:bouncex.website&&bouncex.website.id,_event_store:[],_item_store:[],uid:null,crt:null,token:null,mode:1,cvar:{},_init:function(){this.vid=bouncex.cookie.vid,this.token=bouncex.cookie.did,this.uid=this._get("user"),this.mode=this._get("mode"),this.crt=this._get("cart"),this._cart("set"),this._clkthrough(),this._espemailid(),this._emailhash(),this._log("initialized"),this._log("mode: "+this.mode+" | token: "+this.token)},user:function(key,val){if(this._validate(key)){bouncex.updateBounceCookie((function(cookie){cookie.uid=1}));var cart=this._cart("get");cart&&((val=val||{}).__cart=cart),this._push("user",{key:key,val:val});var params={};params["user:email"]=key,params["user:source"]=val.__src,params["user:gcr"]=bouncex&&bouncex.cookie?bouncex.cookie.gcr:99,params.agent="js",params.eq=1,val.campaign&&(params.campaignid=val.campaign),_eventStream.default.report("user",params)}else this._log("invalid email")},track:function(type,key,val,segment){if(type&&key){this["_"+type+"_store"]&&this["_"+type+"_store"].push({key:JSON.stringify(val)}),segment||(segment="");var pushobj={key:key,val:val,segment:segment};this._push(type,pushobj);var params={},eventname=key;for(var k in"item"===type&&(eventname="item",params["item:segment"]=segment,params["item:category"]=segment,params["item:id"]=key,params["item:url"]=val.__url,params["item:imageurl"]=val.creative,params["item:imagewidth"]=val.__width,params["item:imageheight"]=val.__height,params.stringvalue=key,params.legacy=1),"cart"===type&&(eventname="cart"),val)val.hasOwnProperty(k)&&"__"!=k.substring(0,2)&&(params[eventname+":"+k]=val[k]);val&&val.stringvalue&&(params.stringvalue=val.stringvalue),params.eq=1,_eventStream.default.report(eventname,params)}else this._log("type and key must be set")},conv_params:function(){var params=this._auto_add({ibx_mode:this._get("mode"),ibx_clicks:this._get("clickstr")});return params.ibx_clicks&&(this._cookies.create("__ibxc0",params.ibx_clicks),this._cookies.destroy("__ibxc")),this._log("conv_params: "+(params.ibx_clicks?params.ibx_clicks:"[none]")),this._qs(params)},set:function(what,val){switch(what){case"user":this.uid=val;break;case"mode":0!=val&&1!=val||(this.mode=val,this._cookies.create("__ibxm",val));break;case"cart":this.crt=val,this._cookies.create("__ibxcr",val,.5)}return val},dump:function(what){this._log(what+" = "+this._get(what))},_get:function(what){var val;switch(what){case"events":val=this._event_store;break;case"items":val=this._item_store;break;case"token":val=btoa(bouncex.cookie.did);break;case"user":val=parseInt(bouncex.cookie.uid||this._cookies.read("__ibxu")),isNaN(val)&&(val=0);break;case"mode":val="0"===this._cookies.read("__ibxm")?0:1;break;case"clickstr":val=this._cookies.read("__ibxc");break;case"clicks":val=(val=this._cookies.read("__ibxc"))?val.split(","):[];break;case"cart":val=parseInt(this._cookies.read("__ibxcr")),isNaN(val)&&(val=0);break;default:val="invalid"}return val},_push:function(type,obj){var logkey,qs="type="+type+"&wsid="+this.wsid+"&gcr="+bouncex.cookie.gcr+"&vid="+bouncex.cookie.vid+"&mode=1";if(qs+="&device_id="+encodeURIComponent(bouncex.cookie.did),obj.val=JSON.stringify(this._auto_add(obj.val||{})),qs=qs+"&"+this._qs(obj),logkey=void 0!==obj.key?": "+obj.key:"",this._log(type.toUpperCase()+logkey+" // "+qs),"cart"==type||"isr"==type){var url=bouncex.sau+"/ibx/ping?"+qs;document.createElement("img").src=url}},_auto_add:function(obj){return(obj=obj||{}).hasOwnProperty("__url")||(obj.__url=location.href),obj.hasOwnProperty("__referrer")||(obj.__referrer=document.referrer),obj},_cart:function _cart(action){var cart=!1;switch(action){case"get":try{cart=eval(bouncex.website.ibx.cart_rep.get)}catch(e){cart=!1,this._log(e)}break;case"set":if(this.crt||-1===location.href.indexOf("ibx_cart"))return!1;cart=this._getparam("ibx_cart"),cart&&(eval(bouncex.website.ibx.cart_rep.set),this.set("cart",1)),cart=this.crt}return cart},_clkthrough:function(){var clicks,click=this._getparam("ibx_source");if(click)try{if(clicks=this._get("clickstr")){if(-1!=clicks.indexOf(click))return void this._log("click-through: "+click+" (DUPLICATE)");clicks+=","+click}else clicks=click;this._cookies.create("__ibxc",clicks),this._log("click-through: "+click)}catch(err){this._log(err)}},_emailhash:function(){var val=bouncex.visit_cookie.ueh;val&&_eventStream.default.report("user",{agent:"js","user:emailhash":val,"user:source":"ibx_clickthrough"})},_espemailid:function(){if(bouncex.website.ibx.ulpj){var params={"user:source":"esp-email-id",agent:"js"},valFound=!1;for(var urlParam in bouncex.website.ibx.ulpj)if(bouncex.website.ibx.ulpj.hasOwnProperty(urlParam)){var val=this._getparam(urlParam);val&&(valFound=!0,params["user:"+bouncex.website.ibx.ulpj[urlParam]]=val)}valFound&&_eventStream.default.report("user",params)}},_log:function(msg){0===this.mode&&bouncex.log("ibx: "+msg)},_validate:function(em){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(em)},_quick_validate:function(em){return null!=em&&(em.indexOf(".")>2&&em.indexOf("@")>0)},_qs:_url.qs,_cookies:{domain:window.bouncex.website&&window.bouncex.website.domain,create:function(name,value,time){time||(time=365);var dt=new Date;dt.setTime(dt.getTime()+24*time*60*60*1e3);var exp="; expires="+dt.toGMTString(),cookie_domain=bouncex.cookie_domain?"domain=."+bouncex.cookie_domain+";":"";document.cookie=name+"="+value+exp+"; path=/;"+cookie_domain},read:function(name){for(var t=name+"=",vars=document.cookie.split(";"),r=0;r<vars.length;r++){for(var i=vars[r];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},destroy:function(name){this.create(name,"",-1)}},_getparam:_url.getParam},_default=Inbox;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _browser=_interopRequireDefault(__webpack_require__(8)),_records=_interopRequireDefault(__webpack_require__(16)),_vast=_interopRequireDefault(__webpack_require__(95)),_vpaid=_interopRequireDefault(__webpack_require__(57)),_helpers=_interopRequireDefault(__webpack_require__(0)),_eventBinding=__webpack_require__(9);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={constants:{completionThresholdInSeconds:2},init:function(campaignId,vastData,provider,placement){bouncex.campaigns[campaignId].video=bouncex.campaigns[campaignId].video||{},bouncex.video.buildEnv(campaignId,provider,placement);try{_vast.default.beginParse(campaignId,vastData)}catch(err){bouncex.video.fail(campaignId,err)}},buildEnv:function(campaignId,provider,placement){var self=bouncex.campaigns[campaignId].video;self.player=document.getElementById("bx-video-player-"+campaignId),self.player&&jQuery(self.player).closest(".bx-group").addClass("bx-group-placeholder"),self.uniqueEventPixels=[],self.vast={},self.vpaid={},self.integrations={},self.integrations.moatApiReference={dispatchEvent:function(){}},self.config={},self.config.provider=provider,self.creative={},self.creative.requestWidth=placement.width,self.creative.requestHeight=placement.height,self.status={ready:!1,passedCompletionThreshold:!1,qOne:!1,midpoint:!1,qThree:!1,vastDataLoaded:!1,stopped:!1}},canPlayMedia:function(campaignId){var dummyPlayer=document.createElement("VIDEO"),mediaType=bouncex.campaigns[campaignId].video.vast.type;if("maybe"===dummyPlayer.canPlayType(mediaType)||"probably"===dummyPlayer.canPlayType(mediaType))return bouncex.video.log(campaignId,"media file supported","player"),!0;var wrapperLevel=bouncex.campaigns[campaignId].video.vast.wrapperLevel||!1;_vast.default.endParse(campaignId),wrapperLevel&&!mediaType?bouncex.video.log(campaignId,"no media found on wrapper level "+wrapperLevel,"warning"):bouncex.video.log(campaignId,"video player does not support "+mediaType,"error")},bxPlayerPop:function(campaignId,type){var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player);bouncex.report(campaignId,"pop",{"pop:activation":type,video_type:playerSnapshot.isVPAID?"VPAID":"VAST",media_type:playerSnapshot.type,media_size:playerSnapshot.dimensions.videoWidth+"x"+playerSnapshot.dimensions.videoHeight})},onPlay:function(campaignId){var ca=bouncex.campaigns[campaignId],player=ca.video.player,provider=ca.video.config.provider,staticVastTag=bouncex.campaigns[campaignId].video.config.src.indexOf("/demo/ads_demo_video.mp4")>-1,playerState=bouncex.video.getPlayerSnapshot(campaignId,player);bouncex.off(jQuery(player),"onplay"),ca.video.videoResponseLoaded=!0,"aqbx"===provider&&staticVastTag&&bouncex.video.aqbxStyleFix(campaignId,player);try{player.play()}catch(err){bouncex.video.log(campaignId,"error: "+err,"error")}bouncex.video.toggleMute(campaignId,!0),bouncex.video.fireTrackingEvents(campaignId,"start");var moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoStart",playerState.volume);ca.video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},play:function(campaignId){var campaign=bouncex.campaigns[campaignId],playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,campaign.video.player);playerSnapshot.isVPAID&&playerSnapshot.ready&&campaign.video.videoResponseLoaded?campaign.video.vpaid.ad.startAd():!playerSnapshot.playing&&playerSnapshot.ready&&campaign.video.videoResponseLoaded&&campaign.video.player.play()},playVideo:function(campaignId,playBeforeImpression,type){var campaign=bouncex.campaigns[campaignId];if(_browser.default.currentTab.isVisible()){campaign.listeners.onTabVisibilityChange((function(){bouncex.video.playPauseVisibility(campaignId)})),campaign.listeners.onScroll((function(){bouncex.video.playPauseVisibility(campaignId)}));var player=campaign.video&&campaign.video.player||campaign.gbi&&campaign.gbi.player;player&&(player.muted=player.playsInline=!0,player.autoplay="0"!==player.getAttribute("data-wknd-autoplay")),playBeforeImpression?bouncex.isBxPlayerCampaign(campaignId)?bouncex.video.playVideoBeforeImpression(type,campaignId):bouncex.gbi.playVideoBeforeImpression(type,campaignId):campaign&&campaign.gbi&&campaign.gbi.player?campaign.gbi.player.play():bouncex.isBxPlayerCampaign(campaignId)&&bouncex.video.play(campaignId)}else campaign.listeners.onTabVisible(bouncex.video.playVideo.bind(this,campaignId,playBeforeImpression,type))},isPlayableVideoCampaign:function(campaignId,playBeforeImpression){var campaign=bouncex.campaigns[campaignId],isGbiVideo=campaign.gbi&&campaign.gbi.isVideo;if(playBeforeImpression||!1){if(!campaign.video&&isGbiVideo&&campaign.gbi.playBeforeImpression&&!campaign.gbi.videoResponseLoaded)return!0;if(bouncex.isBxPlayerCampaign(campaignId)&&bouncex.video.ready(campaignId))return campaign.video.status.isPlayable=!0,!0}else{if(!bouncex.isBxPlayerCampaign(campaignId)&&isGbiVideo&&campaign.gbi.config.playOnImpression&&campaign.gbi.player&&"playing"!==campaign.gbi.player.getState())return!0;if(bouncex.isBxPlayerCampaign(campaignId)&&isGbiVideo&&!campaign.ad_shown)return campaign.video.status.isPlayable=!0,!0}return!1},playVideoBeforeImpression:function(type,campaignId){var campaign=bouncex.campaigns[campaignId];this._integrations.moat.init(campaignId,campaign.video.vast);var player=campaign.video.player,playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,campaign.video.player),moatDispatch=this._integrations.moat.apiReference;_helpers.default.shouldSampleMoatPixel()&&(campaign.video.integrations.moatApiReference=bouncex.video._integrations.moat.initMoatTracking(moatDispatch.container,moatDispatch.ids,moatDispatch.duration,moatDispatch.partnerCode,moatDispatch.url)),playerSnapshot.isVPAID?_vpaid.default.playVPAIDBeforeImpression(type,campaignId):(bouncex.on(jQuery(player),"onplay",bouncex.video.onPlay(campaignId)),bouncex.on(jQuery(player),"onerror",(function(data){jQuery(player).off("onerror"),player.pause(),bouncex.campaigns[campaignId].video.status.stopped=!0,bouncex.video.fail(campaignId,data.message?data.message:"error loading video response")})),campaign.video.videoResponseLoaded&&(bouncex.show_ad(type,campaignId),bouncex.video.fireTrackingEvents(campaignId,"impression")))},configPlayer:function(campaignId){var campaign=bouncex.campaigns[campaignId],playerConfig=campaign.video.config||{},vastConfig=campaign.video.vast,playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,campaign.video.player);if(playerSnapshot.isVPAID||(playerConfig.src=vastConfig.src||"//"+bouncex.website.biu+"/assets/global/videos/pub/demo/ads_demo_video.mp4",playerConfig.clickThroughUrl=vastConfig.clickThrough||!1),playerConfig.aspectRatio=vastConfig.aspectRatio,playerConfig.offsetAspectRatio=vastConfig.offsetAspectRatio,playerSnapshot.isVPAID?(playerConfig.width=vastConfig.vpaidWidth,playerConfig.height=vastConfig.vpaidHeight):(playerConfig.width=vastConfig.width,playerConfig.height=vastConfig.height),bouncex.video.stylePlayer(campaignId),playerSnapshot.isVPAID)bouncex.video.addVpaidEventTrackingListeners(campaignId);else{var videoPlayer=document.getElementById("bx-video-player-"+campaignId);jQuery(videoPlayer).attr("src",bouncex.campaigns[campaignId].video.config.src),bouncex.video.setClickThroughUrl(campaignId,playerConfig.clickThroughUrl),bouncex.video.addVideoEventTrackingListeners(campaignId)}bouncex.gbi2.watchVideoLoad(campaignId),campaign.video.config=playerConfig},setClickThroughUrl:function(campaignId,url){var player=bouncex.campaigns[campaignId].video.player;""!==url&&!1!==url&&jQuery(player).attr("href",url)},clickThroughHelper:function(campaignId,url){window.open(url,"_blank").focus()},toggleMute:function(campaignId,forceMute){var player=bouncex.campaigns[campaignId].video.player;player.muted=!!forceMute||!player.muted,player.muted||0!==player.volume||(player.volume=.75),this.updatePlayerButtons(player)},playPausePlayer:function(campaignId){var video=bouncex.campaigns[campaignId].video,player=video.player;player.paused||player.ended?(player.play(),video.manuallyPaused=!1):(player.pause(),video.manuallyPaused=!0),this.updatePlayerButtons(player)},playPauseVisibility:function(campaignId){var video=bouncex.campaigns[campaignId].video,player=video.player;video.status.passedCompletionThreshold?player.paused||bouncex.video.log(campaignId,"player left alone due to not meeting the completion threshold","player"):_browser.default.currentTab.isVisible()?_browser.default.viewport.elementInViewport(player)?video.manuallyPaused||!player.paused&&!player.ended||player.play():(player.paused||bouncex.video.log(campaignId,"player paused because video out of viewport","player"),player.pause()):(player.paused||bouncex.video.log(campaignId,"player paused on tab hide","player"),player.pause())},updateProgressPlayer:function(campaignId){var progressWrapper=document.getElementById("bx-video-progress-wrapper-"+campaignId);if(null!==progressWrapper){var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player),currentTime=!1!==playerSnapshot.time.inSeconds?playerSnapshot.time.inSeconds:0,adDuration=Math.floor(playerSnapshot.time.durationRounded),currentFormatted=bouncex.video.getFormattedTime(currentTime),durationFormatted=bouncex.video.getFormattedTime(adDuration);jQuery(".bx-video-progress-time-left",progressWrapper).text(currentFormatted),jQuery(".bx-video-progress-time-total",progressWrapper).text(durationFormatted)}},toMinutes:function(time){return(time/60).toFixed(2).replace(".",":")},toSeconds:function(time){return time<10&&(time=("0"+time).slice(-2)),time="0:"+time},getFormattedTime:function(time){return time<60?bouncex.video.toSeconds(time):bouncex.video.toMinutes(time)},canPlay:function(campaignId){if(!bouncex.campaigns[campaignId].video.isVPAID){var playerState=bouncex.campaigns[campaignId].video.status;playerState.ready=!0,playerState.canPlayEvent=!0,bouncex.video.playerReady(campaignId),jQuery(bouncex.campaigns[campaignId].video.player).unbind("canplay.bx-"+campaignId)}},ready:function(campaignId){var campaign=bouncex.campaigns[campaignId];return campaign.video.status&&campaign.video.status.ready&&!campaign.video.videoResponseLoaded},playerReady:function(campaignId){var campaign=bouncex.campaigns[campaignId];campaign.video.status.ready?(campaign.video.isVPAID||bouncex.video.updateProgressPlayer(campaignId),bouncex.gbi2._activateCampaign(campaignId),campaign.trigger&&!campaign.ad_visible&&bouncex.show_ad(campaign.trigger,campaignId)):bouncex.video.log(campaignId,"player not ready","player")},getPlayerSnapshot:function(campaignId,player){var adRecord=bouncex.campaigns[campaignId].video.vast,duration=player.duration||adRecord.duration,firstQuartile=Math.floor(.25*duration),midpoint=Math.floor(2*firstQuartile),thirdQuartile=Math.floor(3*firstQuartile),status=bouncex.campaigns[campaignId].video.status,campaignVast=bouncex.campaigns[campaignId].video.vast,creative=bouncex.campaigns[campaignId].video.creative;return{ended:player.ended,playing:!player.paused,paused:player.paused,type:player.currentType||adRecord.type,src:player.currentSrc||campaignVast.vpaidUrl,clickThroughUrl:adRecord.clickThrough,muted:player.muted,volume:player.volume,ready:status.ready||!1,playbackRate:player.playbackRate,seeking:player.seeking,isVPAID:bouncex.campaigns[campaignId].video.vast.isVPAID,vastDataLoaded:status.vastDataLoaded,dimensions:{offsetWidth:player.offsetWidth,offsetHeight:player.offsetHeight,videoWidth:player.videoWidth||adRecord.vpaidWidth,videoHeight:player.videoHeight||adRecord.vpaidHeight,requestWidth:creative.requestWidth,requestHeight:creative.requestHeight},time:{duration:duration,durationRounded:Math.floor(duration),currentUnformatted:player.currentTime||!1,inSeconds:parseInt(player.currentTime%60)||!1,firstQuartile:{value:firstQuartile,passed:status.qOne||!1},midpoint:{value:midpoint,passed:status.midpoint||!1},thirdQuartile:{value:thirdQuartile,passed:status.qThree||!1}}}},stylePlayer:function(campaignId){var creative=bouncex.campaigns[campaignId].video.creative;creative.dynamicHeight=bouncex.campaigns[campaignId].obj1.find(".bx-creative-"+campaignId+" .bx-row-video").width(),creative.dynamicWidth=bouncex.campaigns[campaignId].obj1.find(".bx-creative-"+campaignId+" .bx-row-video").height(),jQuery(".bxc.bx-campaign-"+campaignId).addClass("bx-width-full-content"),jQuery("body").on("focus","#bx-video-btns-"+campaignId+" .bx-video-btn",(function(){jQuery("#bx-video-wrapper-"+campaignId).addClass("bx-video-wrapper-has-focus")})).on("blur","#bx-video-btns-"+campaignId+" .bx-video-btn",(function(){jQuery(".bx-video-wrapper-"+campaignId).removeClass("bx-video-wrapper-has-focus")})),bouncex.campaigns[campaignId].video.vast.isVPAID||bouncex.video.adjustAspectRatio(campaignId)},adjustAspectRatio:function(campaignId){var video=bouncex.campaigns[campaignId].video,mediaPadding=video.vast.aspectRatio.paddingTop,mediaAspectRatio=video.vast.aspectRatio.ratio,creativeAspectRatio=video.creative.dynamicWidth/video.creative.dynamicHeight,staticAqbxVastTag=video.config.src.indexOf("/demo/ads_demo_video.mp4")>-1&&"aqbx"===bouncex.campaigns[campaignId].video.config.provider,threeToFourRatio="300"===video.config.height&&"400"===video.config.width&&"75%"===mediaPadding;!mediaPadding||mediaAspectRatio===creativeAspectRatio||staticAqbxVastTag||threeToFourRatio||(jQuery("#bx-video-wrapper-"+campaignId).addClass("bx-video-aspectRatio-fix-"+campaignId),jQuery(".bx-video-aspectRatio-fix-"+campaignId).css("padding-top",mediaPadding))},aqbxStyleFix:function(campaignId,player){var mediaHeight=jQuery(player)[0].videoHeight,mediaWidth=jQuery(player)[0].videoWidth,newHeight=(Number(jQuery(".bx-creative-"+campaignId+" .bx-row-video").css("width").split("px")[0])/(mediaWidth/mediaHeight)).toString()+"px";jQuery(".bx-creative-"+campaignId+" .bx-video-wrapper").css("height",newHeight)},detectVideoProgress:function(campaignId,qOne,mid,qThree){var moatEventData,playerState=bouncex.campaigns[campaignId].video.status,playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player),seconds=playerSnapshot.time.inSeconds;qOne!==seconds||playerSnapshot.time.firstQuartile.passed?mid!==seconds||playerSnapshot.time.midpoint.passed?qThree!==seconds||playerSnapshot.time.thirdQuartile.passed?bouncex.video.constants.completionThresholdInSeconds<=seconds&&!playerState.passedCompletionThreshold&&(playerState.passedCompletionThreshold=!0,bouncex.video.log(campaignId,"player made it to completion threshold","player")):(moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoThirdQuartile",playerSnapshot.volume),bouncex.video.fireTrackingEvents(campaignId,"thirdQuartile"),playerState.qThree=!0):(moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoMidpoint",playerSnapshot.volume),bouncex.video.fireTrackingEvents(campaignId,"midpoint"),playerState.midpoint=!0):(moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoFirstQuartile",playerSnapshot.volume),bouncex.video.fireTrackingEvents(campaignId,"firstQuartile"),playerState.qOne=!0),moatEventData&&bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},addVideoEventTrackingListeners:function(campaignId){var player=document.getElementById("bx-video-player-"+campaignId),playerEvents=" volumechange.bx-"+campaignId+" canplay.bx-"+campaignId+" durationchange.bx-"+campaignId+" ended.bx-"+campaignId+" pause.bx-"+campaignId+" play.bx-"+campaignId+" playing.bx-"+campaignId+" timeupdate.bx-"+campaignId+" loadeddata.bx-"+campaignId+" error.bx-"+campaignId+" canplaythrough.bx-"+campaignId+" onplay.bx-"+campaignId+" loadedmetadata.bx-"+campaignId,playerClickEvents=" touchend.bx-"+campaignId+" click.bx-"+campaignId,campaign=bouncex.campaigns[campaignId];bouncex.campaigns[campaignId].video.player=player,(0,_eventBinding.bxBind)(player,playerEvents,(function(event){bouncex.video.handleVideoEvents(campaignId,player,event)})),(0,_eventBinding.bxBind)(player,playerClickEvents,(function(event){campaign.video.isInClickState||(campaign.video.isInClickState=!0,bouncex.video.handleVideoEvents(campaignId,player,event),setTimeout((function(){campaign.video.isInClickState=!1}),350))})),this.handleVideoClose(campaignId)},addVpaidEventTrackingListeners:function(campaignId){var player=document.getElementById("bx-video-player-"+campaignId),playerEvents=" volumechange.bx-"+campaignId+" ended.bx-"+campaignId+" pause.bx-"+campaignId+" play.bx-"+campaignId;(0,_eventBinding.bxBind)(player,playerEvents,(function(event){bouncex.video.updatePlayerButtons(player)}))},handleVideoEvents:function(campaignId,player,event){var type=event.type,playerState=bouncex.campaigns[campaignId].video.status,playerMetadata=bouncex.video.getPlayerSnapshot(campaignId,player);if("canplaythrough"!==type||playerState.canPlayEvent)if("loadedmetadata"===type&&bouncex.browser.ios)player.setAttribute("playsinline",""),bouncex.video.canPlay(campaignId);else if("canplay"===type)bouncex.video.canPlay(campaignId);else if("play"===type)this.handlePlayEvent(campaignId,playerMetadata);else if("volumechange"===type)this.handleVolumechangeEvent(campaignId,playerMetadata,player);else if("timeupdate"!==type||playerMetadata.isVPAID)if("pause"!==type||bouncex.campaigns[campaignId].video.status.stopped||bouncex.campaigns[campaignId].video.player.ended)if("ended"===type)this.handleEndEvent(campaignId,playerMetadata);else if("error"===type){var errorMessage=event.data&&event.data.message?event.data.message:"an error has occurred, campaign failed";bouncex.video.fail(campaignId,errorMessage)}else"click"!==type&&"touchend"!==type||this.handleClickEvent(campaignId,playerMetadata);else this.handlePauseEvent(campaignId,playerMetadata);else this.handleTimeUpdateEvent(campaignId,playerMetadata);else bouncex.video.canPlay(campaignId);["play","pause","ended","volumechange"].indexOf(type)>=0&&this.updatePlayerButtons(player)},handleVideoClose:function(campaignId){var player=document.getElementById("bx-video-player-"+campaignId),closeBtn=document.getElementById("bx-creative-"+campaignId).getElementsByClassName("bx-close-link");bouncex.campaigns[campaignId].video.player=player,jQuery(closeBtn).on("click.bx-"+campaignId,(function(){var playerMetadata=bouncex.video.getPlayerSnapshot(campaignId,player),moatEventData=bouncex.video._integrations.moat.getDispatchEventParams("AdStopped",playerMetadata.volume);!1===bouncex.campaigns[campaignId].video.vast.isVPAID&&(bouncex.campaigns[campaignId].video.status.stopped=!0,player.pause()),player.ended=!0,bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)}))},handlePlayEvent:function(campaignId,playerMetadata){var moatEventData=this._integrations.moat.getDispatchEventParams("AdPlaying",playerMetadata.volume);bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},handleVolumechangeEvent:function(campaignId,playerMetadata,player){var moatEventData=this._integrations.moat.getDispatchEventParams("AdVolumeChange",playerMetadata.volume);player.muted&&bouncex.video.fireTrackingEvents(campaignId,"mute"),bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},handleTimeUpdateEvent:function(campaignId,playerMetadata){bouncex.video.updateProgressPlayer(campaignId),bouncex.video.detectVideoProgress(campaignId,playerMetadata.time.firstQuartile.value,playerMetadata.time.midpoint.value,playerMetadata.time.thirdQuartile.value)},handlePauseEvent:function(campaignId,playerMetadata){var moatEventData=bouncex.video._integrations.moat.getDispatchEventParams("AdPaused",playerMetadata.volume);bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId)},handleClickEvent:function(campaignId,playerMetadata){if(playerMetadata.clickThroughUrl)try{bouncex.video.clickThroughHelper(campaignId,playerMetadata.clickThroughUrl)}catch(e){}bouncex.video.report(campaignId,"click"),bouncex.video.fireTrackingEvents(campaignId,"click"),bouncex.video.fireTrackingEvents(campaignId,"clickTracking")},handleEndEvent:function(campaignId,playerMetadata){var moatEventData=this._integrations.moat.getDispatchEventParams("AdVideoComplete",playerMetadata.volume);bouncex.video.fireTrackingEvents(campaignId,"complete"),bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent(moatEventData,campaignId),bouncex.off(bouncex.window," volumechange.bx-"+campaignId+" canplay.bx-"+campaignId+" durationchange.bx-"+campaignId+" ended.bx-"+campaignId+" pause.bx-"+campaignId+" play.bx-"+campaignId+" playing.bx-"+campaignId+" timeupdate.bx-"+campaignId+" loadeddata.bx-"+campaignId+" error.bx-"+campaignId+" click.bx-"+campaignId+" canplaythrough.bx-"+campaignId+"touchend.bx-"+campaignId+"onplay.bx-"+campaignId)},updatePlayerButtons:function(player){var buttonToggle={ended:player.ended,paused:!player.ended&&player.paused,playing:!player.ended&&!player.paused,muted:player.muted,unmuted:!player.muted},wrapper=jQuery(player).closest(".bx-video-wrapper");Object.keys(buttonToggle).forEach((function(buttonName){wrapper.toggleClass("bx-video-player-"+buttonName,!!buttonToggle[buttonName])}))},getEventUrls:function(campaignId,event){var eventUrls;return!(!(eventUrls=bouncex.campaigns[campaignId].video.vast.vpaidUrl?bouncex.campaigns[campaignId].video.vpaid.vastConfig.tracking[event]:bouncex.campaigns[campaignId].video.vast.tracking[event])||0===eventUrls.length)&&("string"==typeof eventUrls&&(eventUrls=[eventUrls]),eventUrls)},fireTrackingEvents:function(campaignId,event){var alreadyCalled=!1,calledEvents=bouncex.campaigns[campaignId].video.uniqueEventPixels||[],eventUrls=this.getEventUrls(campaignId,event);if(eventUrls)for(var i=0;i<eventUrls.length;i++){var eventPixelUrl=eventUrls[i];null==eventPixelUrl||eventPixelUrl.length<1||-1===eventPixelUrl.indexOf("http")||(calledEvents.includes(eventPixelUrl)?alreadyCalled=!0:(calledEvents.push(eventPixelUrl),bouncex.video.log(campaignId,alreadyCalled?"already fired event pixel for "+event:"firing event pixel "+eventPixelUrl+" for "+event,"eventpixel"),document.createElement("img").src=eventPixelUrl))}},_integrations:{moat:{apiReference:{},init:function(campaignId,vastData){bouncex.video.log(campaignId,"init moat integration","moat"),bouncex.video._integrations.moat.apiReference=this.getMoatApiReference(campaignId,vastData)},initMoatTracking:function(a,c,d,h,k){var e,g,f=document.createElement("script"),b=[];c={adData:{ids:c,duration:d,url:k},dispatchEvent:function(a,id){id&&bouncex.video.log(id,a.type,"moat"),this.sendEvent?(b&&(b.push(a),a=b,b=!1),this.sendEvent(a)):b.push(a)}},d="_moatApi"+Math.floor(1e8*Math.random());try{g=(e=a.ownerDocument).defaultView||e.parentWindow}catch(l){e=document,g=window}return g[d]=c,f.type="text/javascript",a&&a.insertBefore(f,a.childNodes[0]||null),f.src="https://z.moatads.com/"+h+"/moatvideo.js#"+d,c},getMoatApiReference:function(campaignId,vastData){var campaign=bouncex.campaigns[campaignId];return{partnerCode:"bouncexjsvideo854426616072",container:bouncex.campaigns[campaignId].video.player,url:vastData.src,duration:vastData.duration,ids:{level1:window.location.host+"("+bouncex.website.id+")",level2:bouncex.gbi2.getDeploymentType(campaignId),level3:vastData.isVPAID?"VPAID":"VAST",level4:"video",slicer1:bouncex.state.mobile?"mobile":"desktop",slicer2:campaign.trigger,zMoatSSP:campaign.winningBid?campaign.winningBid.provider:""}}},getDispatchEventParams:function(eventName,volume){return{type:eventName,adVolume:volume}}}},report:function(campaignId,eventName,metadata){bouncex.video.log(campaignId,'reporting event "'+eventName+'"',"player");var playerSnapshot=bouncex.video.getPlayerSnapshot(campaignId,bouncex.campaigns[campaignId].video.player);(metadata=metadata||{}).source="ads",metadata.agent="js",metadata.video_type=playerSnapshot.isVPAID?"VPAID":"VAST",metadata.media_type=playerSnapshot.type,metadata.media_size=playerSnapshot.dimensions.videoWidth+"x"+playerSnapshot.dimensions.videoHeight,metadata.video_length=playerSnapshot.time.duration,"video_pause"===eventName&&(metadata.pause_location=playerSnapshot.time.currentUnformatted),bouncex.buildReport(campaignId,eventName,metadata)},log:function(campaignId,msg,job){var color,campaign=campaignId?"["+campaignId+"]":"",provider="("+(bouncex.campaigns[campaignId]?bouncex.campaigns[campaignId].video.config.provider||"no provider":"stack")+")",error="error"===job?"#FF0000":"#00F";switch(_records.default.addRecord({group:"video",campaignId:campaignId,message:msg,isError:error}),job){case"vast":color="#09AF59";break;case"vpaid":color="#226666";break;case"player":color="#8E29D4";break;case"moat":color="#A13647";break;case"error":color="#FF0000";break;case"warning":color="#F67917";break;case"eventpixel":color="#956843";break;default:color="#8E29D4"}"vast"===job?bouncex.log("%c [vast]: "+msg,"color: "+color):bouncex.log("%c video ["+job+"] "+campaign+provider+": "+msg,"color: "+color)},fail:function(campaignId,msg){bouncex.campaigns[campaignId].failed=!0,bouncex.video.log(campaignId,msg,"error")}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _helpers=_interopRequireDefault(__webpack_require__(14)),_init=_interopRequireDefault(__webpack_require__(55));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={beginParse:function(campaignId,vastData,completeCallback){_init.default.buildVastEnv(campaignId,vastData,completeCallback)},endParse:function(campaignId){_helpers.default.groupEnd(campaignId,"vast parser exit",!1)}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj;(obj=__webpack_require__(14))&&obj.__esModule;var XML={convertStringToXML:function(xmlString){if(void 0===window.DOMParser){var internetExplorerXML=new ActiveXObject("Microsoft.XMLDOM");return internetExplorerXML.loadXML(xmlString),internetExplorerXML}var parsedXML,xmlParser=new DOMParser;try{(parsedXML=xmlParser.parseFromString(xmlString,"application/xml"))&&""!==parsedXML&&!XML.parsingError(parsedXML)||bouncex.log("error parsing XML string")}catch(err){bouncex.log("error parsing XML string")}return parsedXML},parsingError:function(xml){try{var xmlErrorMsg=(new DOMParser).parseFromString("INVALID","text/xml").getElementsByTagName("parsererror")[0].namespaceURI;return xml.getElementsByTagNameNS(xmlErrorMsg,"parsererror").length>0}catch(err){bouncex.log("xml parsing error: ",err)}},parseXmlText:function(text){return/^\s*$/.test(text)?null:/^(?:true|false)$/i.test(text)?"true"===text.toLowerCase():text.trim()}},_default=XML;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_validations=(obj=__webpack_require__(18))&&obj.__esModule?obj:{default:obj};var HTTP={call:function(campaignId,url,method,body,callback,secondTry){bouncex.video.log(campaignId,"making HTTP request ".concat(url),"vast"),_validations.default.checkHttpRequest(campaignId,url,callback);var xml=HTTP.createXMLRequest();xml.onreadystatechange=function(){if(4==xml.readyState)if(200===xml.status)callback&&callback(campaignId,xml);else if(secondTry){if(0!==xml.status)return bouncex.video.fail(campaignId,"XML request to parse vast data failed"),!1}else HTTP.call(campaignId,url,method,body,callback,!0)},xml.open(method,_validations.default.checkUrl(url).href,!0),secondTry&&(xml.withCredentials=!0);try{body?xml.send(body):xml.send()}catch(err){var logSecondTryMsg=!0===secondTry?" on second try":".";bouncex.video.fail(campaignId,"VAST [httpCall]: XHR request failed"+logSecondTryMsg+err.message),secondTry||HTTP.call(campaignId,url,method,body,callback,!0,"vast")}},success:function(status){return status>=200&&status<300},createXMLRequest:function(){var xml;return window.XMLHttpRequest?xml=new XMLHttpRequest:window.ActiveXObject&&(xml=new ActiveXObject("Microsoft.XMLHTTP")),xml}},_default=HTTP;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _validations=_interopRequireDefault(__webpack_require__(18)),_load_player=_interopRequireDefault(__webpack_require__(56)),_data_processor=_interopRequireDefault(__webpack_require__(104)),_helpers=_interopRequireDefault(__webpack_require__(14));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={vastResponse:function(campaignId,response){var vastXml,adRecord,ca=bouncex.campaigns[campaignId];if(ca.video.vast.wrapperLevel>0&&!ca.video.vast.handlingWrapper){var loop=ca.video.vast.wrapperLevel;_helpers.default.groupCollapsed(campaignId,"re-init vast parser, wrapper found - on loop: "+loop,!1)}else bouncex.video.log(campaignId,"init vast parser","vast");vastXml=_validations.default.checkXml(response,campaignId),adRecord=ca.video.vast,_data_processor.default.getAd(campaignId,vastXml,response),!ca.failed&&adRecord.vpaidUrl?(bouncex.video.log(campaignId," -> Found VPAID","vast"),_load_player.default.vpaidMedia(campaignId,adRecord),adRecord.completeCallback&&adRecord.completeCallback(adRecord)):ca.failed||(bouncex.video.log(campaignId,"vast parse complete","vast"),ca.video.vast.handlingWrapper||_load_player.default.vastMedia(campaignId,adRecord)),ca.video.vast.handlingWrapper||_helpers.default.groupEnd(campaignId,"exit vast parser",!1)}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var obj,_helpers=__webpack_require__(58),_event_callbacks=(obj=__webpack_require__(100))&&obj.__esModule?obj:{default:obj};var Init={buildEnvironment:function(campaignId,vpaidObj,player,playerWrapper){bouncex.video.log(campaignId,"building VPAID environment","vpaid");var self=vpaidObj,slot=playerWrapper;return self.campaignId=campaignId,self.ad=bouncex.campaigns[campaignId].video.vpaid.ad,self.vastConfig=bouncex.campaigns[campaignId].video.vast,self.config={},slot&&((slot=slot.appendChild(document.createElement("div"))).className="bx-vpaid-slot bx-row-html"),self.callbacks={AdClickThru:_event_callbacks.default.onAdClickThru,AdDurationChange:_event_callbacks.default.onAdDurationChange,AdError:_event_callbacks.default.onAdError,AdImpression:_event_callbacks.default.onAdImpression,AdLoaded:_event_callbacks.default.onAdLoaded,AdPaused:_event_callbacks.default.onAdPaused,AdPlaying:_event_callbacks.default.onAdPlaying,AdSizeChange:_event_callbacks.default.onAdSizeChange,AdSkippableStateChange:_event_callbacks.default.onAdSkippableStateChange,AdSkipped:_event_callbacks.default.onAdSkipped,AdStarted:_event_callbacks.default.onAdStarted,AdStopped:_event_callbacks.default.onAdStopped,AdUserAcceptInvitation:_event_callbacks.default.onAdUserAcceptInvitation,AdUserClose:_event_callbacks.default.onAdUserClose,AdUserMinimize:_event_callbacks.default.onAdUserMinimize,AdVideoComplete:_event_callbacks.default.onAdVideoComplete,AdVideoFirstQuartile:_event_callbacks.default.onAdVideoFirstQuartile,AdVideoMidpoint:_event_callbacks.default.onAdVideoMidpoint,AdVideoStart:_event_callbacks.default.onAdVideoStart,AdVideoThirdQuartile:_event_callbacks.default.onAdVideoThirdQuartile,AdVolumeChange:_event_callbacks.default.onAdVolumeChange},self.adUnit={lastVolume:""},self.config.creativeData={},self.config.environmentVars={},self.config.viewMode="normal",self.config.desiredBitrate=-1,self.config.environmentVars.slot=slot,self.config.environmentVars.videoSlot=player,self.config.environmentVars.autoPlay=!1,self.config.environmentVars.videoSlotCanAutoPlay=!0,self},initializeVPAID:function(campaignId){bouncex.video.log(campaignId,"init VPAID","vpaid");var player=bouncex.document[0].getElementById("bx-video-player-"+campaignId),playerWrapper=bouncex.document[0].getElementById("bx-video-wrapper-"+campaignId),self=Init.buildEnvironment(campaignId,bouncex.campaigns[campaignId].video.vpaid,player,playerWrapper),ad=self.ad,progressComponent=document.getElementById("bx-video-progress-wrapper-"+campaignId);for(var eventName in progressComponent&&progressComponent.parentNode.removeChild(progressComponent),self.callbacks)ad.unsubscribe(self.callbacks[eventName],eventName),ad.subscribe(self.callbacks[eventName],eventName,self);self.vastConfig.vpaidAdParams&&(self.config.creativeData={AdParameters:self.vastConfig.vpaidAdParams}),(0,_helpers.validateAd)(ad)||bouncex.video.log(campaignId,"_validateVPAID Error: VPAID interface check failed","error"),(0,_helpers.adjustCreative)(campaignId),ad.initAd(self.vastConfig.vpaidWidth,self.vastConfig.vpaidHeight,self.config.viewMode,self.config.desiredBitrate,self.config.creativeData,self.config.environmentVars)}},_default=Init;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _browser=_interopRequireDefault(__webpack_require__(8)),_integrations=_interopRequireDefault(__webpack_require__(101)),_tracking=_interopRequireDefault(__webpack_require__(102)),_wknd_events=_interopRequireDefault(__webpack_require__(103));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={onAdLoaded:function(){_wknd_events.default.adLoaded(this.campaignId,this),_tracking.default.fireTrackingRequests(this.campaignId,"AdLoaded",this.vastConfig.tracking.loaded),this.ad.unsubscribe(this.callbacks.AdLoaded,"AdLoaded")},onAdStarted:function(){var vol=this.ad.getAdVolume();_tracking.default.fireTrackingRequests(this.campaignId,"AdStarted",this.vastConfig.tracking.creativeView),this.adUnit.lastVolume=vol,_wknd_events.default.adStarted(this.campaignId)},onAdUserClose:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdUserClose",this.vastConfig.tracking.close)},onAdUserMinimize:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdUserMinimize",this.vastConfig.tracking.collapse)},onAdUserAcceptInvitation:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdUserAcceptInvitation",this.vastConfig.tracking.acceptInvitation)},onAdSkippableStateChange:function(){this.ad.getAdSkippableState()},onAdStopped:function(){var vol=this.ad.getAdVolume();bouncex.campaigns[this.campaignId].video.status.stopped=!0,_integrations.default.Moat.dispatch(this.campaignId,"AdStopped",vol)},onAdPaused:function(){var vol=this.ad.getAdVolume(),video=bouncex.campaigns[this.campaignId].video;video.manuallyPaused=video.manuallyPaused||_browser.default.currentTab.isVisible(),_tracking.default.fireTrackingRequests(this.campaignId,"AdPaused",this.vastConfig.tracking.pause),_integrations.default.Moat.dispatch(this.campaignId,"AdPaused",vol)},onAdPlaying:function(){var vol=this.ad.getAdVolume();bouncex.campaigns[this.campaignId].video.manuallyPaused=!1,_tracking.default.fireTrackingRequests(this.campaignId,"AdPlaying",this.vastConfig.tracking.resume),_integrations.default.Moat.dispatch(this.campaignId,"AdPlaying",vol)},onAdVolumeChange:function(){var vol=this.ad.getAdVolume(),lastVolume=this.adUnit.lastVolume;0===vol&&lastVolume>0?_tracking.default.fireTrackingRequests(this.campaignId,"AdVolumeChange",this.vastConfig.tracking.mute,"volumechange"):vol>0&&0===lastVolume&&_tracking.default.fireTrackingRequests(this.campaignId,"AdVolumeChange",this.vastConfig.tracking.unmute,"volumechange"),_integrations.default.Moat.dispatch(this.campaignId,"AdVolumeChange",vol),this.adUnit.lastVolume=vol},onAdImpression:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdImpression",this.vastConfig.tracking.impression)},onAdVideoStart:function(){bouncex.video.toggleMute(this.campaignId,!0);var vol=this.ad.getAdVolume();this.adUnit.started=!0,_tracking.default.fireTrackingRequests(this.campaignId,"AdVideoStart",this.vastConfig.tracking.start),_integrations.default.Moat.dispatch(this.campaignId,"AdVideoStart",vol)},onAdSkipped:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdSkipped",this.vastConfig.tracking.skip),bouncex.close_ad(this.campaignId)},onAdVideoFirstQuartile:function(){var campaignId=this.campaignId,vol=this.ad.getAdVolume();_tracking.default.fireTrackingRequests(this.campaignId,"AdVideoFirstQuartile",this.vastConfig.tracking.firstQuartile),bouncex.campaigns[campaignId].video.status.qOne=!0,_integrations.default.Moat.dispatch(this.campaignId,"AdVideoFirstQuartile",vol)},onAdVideoMidpoint:function(){var campaignId=this.campaignId,vol=this.ad.getAdVolume();_tracking.default.fireTrackingRequests(this.campaignId,"AdVideoMidpoint",this.vastConfig.tracking.midpoint),bouncex.campaigns[campaignId].video.status.midpoint=!0,_integrations.default.Moat.dispatch(this.campaignId,"AdVideoMidpoint",vol)},onAdVideoThirdQuartile:function(){var campaignId=this.campaignId,vol=this.ad.getAdVolume();_tracking.default.fireTrackingRequests(this.campaignId,"AdVideoThirdQuartile",this.vastConfig.tracking.thirdQuartile),bouncex.campaigns[campaignId].video.status.qThree=!0,_integrations.default.Moat.dispatch(this.campaignId,"AdVideoThirdQuartile",vol)},onAdClickThru:function(url,id,playerHandles){var campaignId=this.campaignId;bouncex.campaigns[campaignId].video.vast.clickThrough=url,void 0!==playerHandles&&1==playerHandles&&url&&window.open(url),_tracking.default.fireTrackingRequests(this.campaignId,"AdClickThru",this.vastConfig.tracking.clickTracking)},onAdDurationChange:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdDurationChange",this.vastConfig.tracking.durationchange)},onAdSizeChange:function(){(document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||document.fullscreenElement)&&_tracking.default.fireTrackingRequests(this.campaignId,"AdSizeChange",this.vastConfig.tracking.fullscreen)},onAdVideoComplete:function(){_tracking.default.fireTrackingRequests(this.campaignId,"AdVideoComplete",this.vastConfig.tracking.complete),_integrations.default.Moat.dispatch(this.campaignId,"AdVideoComplete",this.ad.getAdVolume())},onAdError:function(msg){_tracking.default.fireTrackingRequests(this.campaignId,"AdError",this.vastConfig.tracking.error)}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={Moat:{dispatch:function(campaignId,type,adVolume){bouncex.campaigns[campaignId].video.integrations.moatApiReference.dispatchEvent({type:type,adVolume:adVolume},campaignId)}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={fireTrackingRequests:function(campaignId,event,urls){var calledTrackingEvents=bouncex.campaigns[campaignId].video.uniqueEventPixels||[],ad=bouncex.campaigns[campaignId].video.vpaid.ad;if(urls&&0!==urls.length&&!bouncex.video.disableTrackingEvents){"string"==typeof urls&&(urls=[urls]);for(var i=0;i<urls.length;i++){var url=urls[i];if(!(null===url||url.length<1||-1===url.indexOf("http")))if(!calledTrackingEvents.includes(url))calledTrackingEvents.push(url),"true"!==ad.allowCacheBusting&&!0!==ad.allowCacheBusting||(url.indexOf("?")>-1?url+="&rnd="+Math.random():url+="?rnd="+Math.random()),bouncex.video.log(campaignId,"firing event pixel "+url+" for "+event,"eventpixel"),document.createElement("img").src=url}}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _default={adLoaded:function(campaignId,vpaidAd){bouncex.campaigns[campaignId].video.status.ready=!0,bouncex.video.playerReady(campaignId)},adStarted:function(campaignId){if(bouncex.campaigns[campaignId].video.videoResponseLoaded){var type=bouncex.campaigns[campaignId].video.triggerType;bouncex.show_ad(type,campaignId)}}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _node_parsers=_interopRequireDefault(__webpack_require__(15)),_element_parsers=_interopRequireDefault(__webpack_require__(59)),_validations=_interopRequireDefault(__webpack_require__(18));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DataProcessor={getAd:function(campaignId,vastXml){var mediaFile=vastXml.getElementsByTagName("MediaFile"),vastAd=DataProcessor.addMetaData(campaignId,vastXml),adRecord=bouncex.campaigns[campaignId].video.vast;_validations.default.checkMediaExists(campaignId,vastXml,mediaFile),_element_parsers.default.init(campaignId,vastAd,vastXml,adRecord)},getNodeTextOrFalse:function(vastAd,elementName){return _node_parsers.default.parseNodeText(vastAd.getElementsByTagName(elementName)[0])||!1},addMetaData:function(campaignId,vastXml){var vastAd=_node_parsers.default.getXmlNode(campaignId,vastXml,"Ad",2),adMetaData={};return null!==vastAd&&(adMetaData.adId=vastAd.getAttribute("id")||null,adMetaData.type=vastAd.nodeName||null,adMetaData.system=DataProcessor.getNodeTextOrFalse(vastAd,"AdSystem"),adMetaData.title=DataProcessor.getNodeTextOrFalse(vastAd,"AdTitle"),adMetaData.description=DataProcessor.getNodeTextOrFalse(vastAd,"Description"),adMetaData.system=DataProcessor.getNodeTextOrFalse(vastAd,"AdSystem"),adMetaData.title=DataProcessor.getNodeTextOrFalse(vastAd,"AdTitle"),adMetaData.description=DataProcessor.getNodeTextOrFalse(vastAd,"Description"),adMetaData.advertiser=DataProcessor.getNodeTextOrFalse(vastAd,"Advertiser"),adMetaData.pricing=DataProcessor.getNodeTextOrFalse(vastAd,"Pricing"),adMetaData.category=DataProcessor.getNodeTextOrFalse(vastAd,"Category"),0===bouncex.campaigns[campaignId].video.vast.wrapperLevel&&(bouncex.campaigns[campaignId].video.vast.metaData=adMetaData),vastAd)}},_default=DataProcessor;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _node_parsers=_interopRequireDefault(__webpack_require__(15)),_element_parsers=_interopRequireDefault(__webpack_require__(59));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var Tracking={recordEventPixels:function(adRecord,trackingEvents){for(var videoEvent,k=0;k<trackingEvents.length;k++){var trackingNode=trackingEvents[k];_node_parsers.default.nodeExists(trackingNode)&&(trackingNode=_node_parsers.default.getNodeValue(trackingNode),videoEvent=trackingEvents[k].getAttribute("event"),adRecord.tracking[videoEvent]=adRecord.tracking[videoEvent]||[],-1===adRecord.tracking[videoEvent].indexOf(trackingNode)&&adRecord.tracking[videoEvent].push(trackingNode))}},recordVideoClickTrackingPixels:function(campaignId,adRecord,video){var clickTracking,clickTrackingUrl,clickThrough,videoClicks=_node_parsers.default.getXmlNode(campaignId,video,"VideoClicks",0);null!==videoClicks&&(null!==(clickThrough=_node_parsers.default.getXmlNode(campaignId,videoClicks,"ClickThrough",0))&&null!==clickThrough.firstChild&&(adRecord.clickThrough=_node_parsers.default.getNodeValue(clickThrough)),clickTrackingUrl=(clickTracking=_node_parsers.default.getXmlNode(campaignId,videoClicks,"ClickTracking",0))?_node_parsers.default.getNodeValue(clickTracking):null,adRecord.tracking.clickTracking=adRecord.tracking.clickTracking||[],clickTrackingUrl&&-1===adRecord.tracking.clickTracking.indexOf(clickTrackingUrl)&&adRecord.tracking.clickTracking.push(clickTrackingUrl))},recordErrorPixels:function(adRecord,error){for(var i=0;i<error.length;i++){var node=error[i];_node_parsers.default.nodeExists(node)&&(node=_node_parsers.default.getNodeValue(node),adRecord.tracking.error=adRecord.tracking.error||[],null!==node&&-1===adRecord.tracking.error.indexOf(node)&&adRecord.tracking.error.push(node))}},recordImpressionPixels:function(adRecord,impressions){for(var i=0;i<impressions.length;i++){var node=impressions[i];_node_parsers.default.nodeExists(node)&&(node=_node_parsers.default.getNodeValue(node),adRecord.tracking.impression=adRecord.tracking.impression||[],null!==node&&-1===adRecord.tracking.impression.indexOf(node)&&adRecord.tracking.impression.push(node))}},processWrapperEventPixels:function(campaignId,wrapper){bouncex.video.log(campaignId,"WRAPPER: init extraction","vast");var adRecord=bouncex.campaigns[campaignId].video.vast,impressions=_node_parsers.default.getXmlNode(campaignId,wrapper,"Impression",1),trackingEvents=_node_parsers.default.getXmlNode(campaignId,wrapper,"Tracking",1),video=_node_parsers.default.getXmlNode(campaignId,wrapper,"Linear",0),error=_node_parsers.default.getXmlNode(campaignId,wrapper,"Error",1);impressions&&(bouncex.video.log(campaignId,"WRAPPER: handling impressions","vast"),Tracking.recordImpressionPixels(adRecord,impressions)),error&&(bouncex.video.log(campaignId,"WRAPPER: handling error pixels","vast"),Tracking.recordErrorPixels(campaignId,adRecord,error)),trackingEvents&&(bouncex.video.log(campaignId,"WRAPPER: handling tracking events","vast"),Tracking.recordEventPixels(adRecord,trackingEvents)),video&&(bouncex.video.log(campaignId,"WRAPPER: handling inline ad click tracking","vast"),_element_parsers.default.handleVideo(campaignId,adRecord,video))}},_default=Tracking;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _bxInterval=_interopRequireDefault(__webpack_require__(10)),_criteria=_interopRequireDefault(__webpack_require__(54)),_customVariables=_interopRequireDefault(__webpack_require__(17)),_logger=_interopRequireDefault(__webpack_require__(1)),_activeTime=_interopRequireDefault(__webpack_require__(26)),_helpers=__webpack_require__(0),_scheduling=__webpack_require__(2),_ibxTracking=_interopRequireDefault(__webpack_require__(60));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EventTracking={init:function init(){if(bouncex.website.ete){if(bouncex.website.ettm&&!(0,_helpers.visitorTestMode)("events"))return;this.stopAll();try{eval(bouncex.website.etjs),this.evalAllUIEvents(!0)}catch(err){bouncex.err(err,{source:"event tracking js"})}}},evalAllUIEvents:function(reset){if(2===bouncex.website.ete&&bouncex.website.etjson)for(var i=0;i<bouncex.website.etjson.length;i++)!reset&&bouncex.website.etjson[i].criteriaPassed||(bouncex.website.etjson[i].criteriaPassed=this.evalUIEvent(bouncex.website.etjson[i]))},evalUIEvent:function(event){var criteriaPassed=new _criteria.default(event.type.val,event.evaluation,"UI event").evaluate();if(criteriaPassed){var trigger=event.trigger;switch(trigger.activation){case"onActiveTime":var seconds=trigger.val;bouncex.et.onActiveTime(seconds,(function(){bouncex.et.makeUIEvent(event)}));break;case"onClick":var targetEl=bouncex.website.els[trigger.val];targetEl&&bouncex.et.on(bouncex.body,"click",(function(){var $el=jQuery(this);bouncex.et.makeUIEvent(event,$el)}),targetEl);break;case"onCartEmpty":bouncex.et.onCartEmpty((function(){bouncex.et.makeUIEvent(event)}));break;case"onHover":case"onVisible":bouncex.et[trigger.activation](bouncex.website.els[trigger.val],(function($el){bouncex.et.makeUIEvent(event,$el)}));break;case"delay":var delay=1e3*trigger.val;bouncex.setTimeout2((function(){bouncex.et.makeUIEvent(event)}),delay);break;case"default":default:this.makeUIEvent(event)}}return criteriaPassed},makeUIEvent:function(event,$el){var type=event.type.val,metaData=event.data_fields[0].reduce((function(acc,cvarData){if("default"!==cvarData.activation){var cvarObj=_customVariables.default.getVar(cvarData.val);cvarObj&&"event"===cvarObj.trigger&&_customVariables.default.evalVarAndReload(cvarData.val,$el),acc["custom"===cvarData.activation?cvarData.val:cvarData.activation]=bouncex.vars[cvarData.val]}return acc}),{});bouncex.push([type,metaData])},hoverTime:1e3,log:function(msg){_logger.default.info({group:"et log",message:msg,color:"#4b0082"})},on:function(target,event,callback,selector){var listener={event:event,selector:selector,stop:function(){bouncex.off(target,event+"."+listenerId,selector)}},listenerId=this.register(listener);return bouncex.on(target,event+"."+listenerId,callback,selector),listenerId},onActiveTime:function(seconds,callback){var activeTimeCallbackId=_activeTime.default.addCallback(seconds,callback),listener={event:"active time",stop:function(){_activeTime.default.clearCallback(activeTimeCallbackId)}};return this.register(listener)},onCartEmpty:function(callback){var varName=bouncex.et.cart.config?bouncex.et.cart.config.cartCountVariable:"cart_qty";this.onVarChange(varName,(function(oldVal,newVal){oldVal>0&&0===newVal&&callback()}))},onAnyVarChange:function(callback){return this.on(bouncex.window,"bxVarsChange",(function(){var changedVars=arguments[1];callback(changedVars)}))},onVarChange:function(varName,callback){return this.onAnyVarChange((function(changedVars){for(var i=0;i<changedVars.length;i++)if(changedVars[i].name==varName)return callback(changedVars[i].oldVal,bouncex.vars[varName])}))},onHover:function(selector,callback){var timeout,time=this.hoverTime,hoverListener={event:"hover",selector:selector,stop:function(){bouncex.off(bouncex.body,"mouseenter."+listenerId,selector),bouncex.off(bouncex.body,"mouseleave."+listenerId,selector),clearTimeout(timeout)}},listenerId=this.register(hoverListener);bouncex.on(bouncex.body,"mouseenter."+listenerId,(function(){var $el=jQuery(this);clearTimeout(timeout),$el.attr("data-bxhover-"+listenerId)||(timeout=setTimeout((function(){$el.attr("data-bxhover-"+listenerId,!0),bouncex.tryCatch(callback)($el)}),time))}),selector),bouncex.on(bouncex.body,"mouseleave."+listenerId,(function(){clearTimeout(timeout)}),selector)},onTrue:function(condition,callback,maxTries){var tries=0;if(maxTries=maxTries||5,condition())callback();else var intId=bouncex.et.setInterval((function(){condition()?(bouncex.et.stop(intId),callback()):tries>maxTries&&bouncex.et.stop(intId),tries++}))},onVisible:function(selector,callback){var visible,prevVisible=!1;function executeCallbackIfVisible(){visible=jQuery(selector).is(":visible"),!prevVisible&&visible&&bouncex.tryCatch(callback)(jQuery(selector)),prevVisible=visible}return executeCallbackIfVisible(),this.setInterval(executeCallbackIfVisible)},register:function(listener){var id=Date.now()+Math.random();return bouncex.listeners=bouncex.listeners||{},bouncex.listeners[id]=listener,id},setInterval:function(callback){var bxIntervalId=_bxInterval.default.addTask(callback),listener={event:"bxInterval",stop:function(){_bxInterval.default.stopTask(bxIntervalId)}};return this.register(listener)},stop:function(id){bouncex.listeners.hasOwnProperty(id)&&(bouncex.listeners[id].stop(),delete bouncex.listeners[id])},stopAll:function(){for(var id in bouncex.listeners)this.stop(id)},cart:{init:function(obj){var defaults={storeCartVariable:"cart",cartCountVariable:"cart_qty",maxVariableSize:bouncex.local_storage_enabled?1500:400,storeValues:["count","items"],maxItems:10};obj=jQuery.extend(defaults,obj),this.config=obj,this.replenish=obj.replenish||this.replenish,this.validateReplenishment=obj.validateReplenishment||this.validateReplenishment,this.reportReplenishment=obj.reportReplenishment||this.reportReplenishment,this.replenishmentComplete=obj.replenishmentComplete||bouncex.utils.getParam("bx_replen"),this.replenishmentType=obj.replenishmentType||"unknown",this.replenishmentSuccessful=obj.replenishmentSuccessful||this.replenishmentSuccessful,this.tryReplenishment(),this.reportReplenishment()},setReplenishmentReportingStatus:function(statusString){var status={BX_CART_VALID:{code:0},BX_CART_MALFORMED:{code:1,message:"bx_cart malformed"},BX_CART_ITEMS_ALREADY_IN_CART:{code:2,message:"Items already in cart"},BX_CART_MISSING_DATA:{code:3,message:"Missing value, token or items"},BX_CART_REJECTED_UNKNOWN_REASON:{code:4,message:"Aborted for unknown reason"},BX_REPLEN_FAILURE:{code:9,message:"Could not replenish cart"},BX_REPLEN_SUCCESS:{code:10}}[statusString];status&&(this.returnCode=status.code,status.message&&(this.failureMessage=status.message))},getCart:function(){return this.state?this.state:this.config.storeCartVariable&&bouncex.vars[this.config.storeCartVariable]?(this.state=JSON.parse(bouncex.vars[this.config.storeCartVariable]),this.state):{}},getCount:function(){return bouncex.vars[this.config.cartCountVariable]},inferCount:function(cart){if(bouncex.utils.validate.integer(cart.count))return parseInt(cart.count);if(cart.items){for(var count=0,i=0;i<cart.items.length;i++){count+=parseInt(cart.items[i].qty)||1}return count}return bouncex.utils.validate.integer(this.getCount())?parseInt(this.getCount()):0},parseCartParam:function(bx_cart){return"{"!==bx_cart.charAt(0)&&(bx_cart=atob(bx_cart)),JSON.parse(bx_cart)},tryReplenishment:function(){var bx_cart=bouncex.utils.getParam("bx_cart"),cart={};if(this.replenishing=!1,!bx_cart)return!1;try{cart=this.parseCartParam(bx_cart)}catch(e){return bouncex.err(e),this.setReplenishmentReportingStatus("BX_CART_MALFORMED"),!1}return this.validateReplenishment(cart)?(this.save(cart),this.replenishing=!0,this.setReplenishmentReportingStatus("BX_CART_VALID"),this.replenish(cart)):(void 0===this.returnCode&&this.setReplenishmentReportingStatus("BX_CART_REJECTED_UNKNOWN_REASON"),!1)},replenish:function(cart){return bouncex.et.log("Replenish function not defined"),null},replenishmentSuccessful:function(){return this.getCount()>0},save:function(cart){if(!cart)return!1;this.state=cart;var cartCopy=jQuery.extend(!0,{},cart);if(this.config.storeCartVariable){var storedCart={};if(0===cartCopy.count)storedCart={count:0};else for(var i=0;i<this.config.storeValues.length;i++){var k=this.config.storeValues[i];cartCopy.hasOwnProperty(k)&&(storedCart[k]=cartCopy[k])}this.saveToVariable(storedCart)}},saveToVariable:function(storedCart){var cartString=JSON.stringify(storedCart);if(cartString.length<=this.config.maxVariableSize)bouncex.setv(this.config.storeCartVariable,cartString),bouncex.setBounceCookie();else if(storedCart.items&&storedCart.items.length){JSON.stringify(storedCart.items[storedCart.items.length-1]).length>=this.config.maxVariableSize?storedCart.items.pop():storedCart.items.shift(),this.saveToVariable(storedCart)}},track:function(cart){var trackCart=jQuery.extend({},cart);trackCart.items&&(trackCart.items=JSON.stringify(trackCart.items)),trackCart.ids&&(trackCart.ids=trackCart.ids.join(",")),trackCart=bouncex.utils.addNamespace(trackCart,"cart"),bouncex.push(["cart",trackCart])},update:function(cart){if(this.replenishing)return!1;if(cart.newItem){var allItems=this.getCart().items||[];allItems.push(cart.newItem),cart.items=allItems}if(this.config.maxItems&&cart.items&&cart.items.length>this.config.maxItems&&(cart.items=cart.items.slice(cart.items.length-this.config.maxItems)),cart.count=this.inferCount(cart),!cart.ids&&cart.items){for(var ids=[],i=0;i<cart.items.length;i++)cart.items[i].id&&ids.push(cart.items[i].id);ids.length&&(cart.ids=ids)}(cart.newItem||cart.addToCart)&&bouncex.push(["add to cart",{}]),delete cart.newItem,delete cart.addToCart,this.save(cart),this.track(cart)},validateReplenishment:function(cart){var cartCount=this.getCount();return bouncex.utils.validate.integer(cartCount)&&cartCount>0?(this.setReplenishmentReportingStatus("BX_CART_ITEMS_ALREADY_IN_CART"),!1):cart?!!(cart.value||cart.token||cart.items)||(this.setReplenishmentReportingStatus("BX_CART_MISSING_DATA"),!1):(this.setReplenishmentReportingStatus("BX_CART_MALFORMED"),!1)},reportReplenishment:function(){var cart=this.getCart(),bx_cart=bouncex.utils.getParam("bx_cart");if(bx_cart)try{cart=this.parseCartParam(bx_cart)}catch(e){bouncex.err(e)}var properties={"cart:replentype":this.replenishmentType};if(cart.ids&&(properties["cart:ids"]=cart.ids),cart.date&&(properties["cart:date"]=cart.date),cart.items&&(properties["cart:items"]=JSON.stringify(cart.items)),cart.eid&&(properties["cart:eventid"]=cart.eid),bx_cart)properties["cart:returncode"]=this.returnCode,properties["cart:count"]=this.getCount(),this.returnCode>0?(this.failureMessage&&(properties["cart:failuremessage"]=this.failureMessage),bouncex.push(["cart replenish abort",properties])):bouncex.push(["cart replenish attempt",properties]);else if(this.replenishmentComplete){setTimeout(function(){properties["cart:success"]=this.replenishmentSuccessful(),properties["cart:count"]=this.getCount(),properties["cart:success"]?this.setReplenishmentReportingStatus("BX_REPLEN_SUCCESS"):this.setReplenishmentReportingStatus("BX_REPLEN_FAILURE"),this.failureMessage&&(properties["cart:failuremessage"]=this.failureMessage),properties["cart:returncode"]=this.returnCode,bouncex.push(["cart replenish",properties])}.bind(this),1100)}}},item:{requirements:[{name:"id"},{name:"copy"},{name:"url",tests:[function(url){return bouncex.utils.validate.url(url)}]},{name:"imageurl",tests:[function(url){return bouncex.utils.validate.url(url)}]}],requireImageLoad:!0,validate:function(item){for(var i=0;i<this.requirements.length;i++){var requirement=this.requirements[i];if(!item["item:"+requirement.name])return bouncex.et.log("Invalid Item. "+requirement.name+" empty"),!1;if(requirement.tests)for(var j=0;j<requirement.tests.length;j++){var test=requirement.tests[j],itemValue=item["item:"+requirement.name];if("function"==typeof test&&!test(itemValue))return bouncex.et.log("Invalid Item. The following "+requirement.name+" failed "+test.name+" test: "+itemValue),!1}}return!0}}},setTimeout2=_scheduling.setTimeoutWrapper,init_event_tracking=EventTracking.init.bind(EventTracking),init_ibx_tracking=_ibxTracking.default.init,_default=EventTracking;exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _campaignHelpers=_interopRequireDefault(__webpack_require__(6)),_logger=_interopRequireDefault(__webpack_require__(1));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={init:function(ca_id,itemId){try{bouncex.osr.log(ca_id,itemId?"init OSR on product page, excluding item #"+itemId:"init OSR",!1),this._getOsrParamsJson(ca_id,bouncex.campaigns[ca_id].osr_params_json),this._getItems(ca_id,itemId)}catch(err){bouncex.err(err,{source:"osr js"})}},_getItems:function(ca_id,itemId){bouncex.osr.log(ca_id,"getting items",!1);var endpoint=bouncex.campaigns[ca_id].osr.config.endpoint;itemId&&(endpoint=endpoint+","+itemId);var options={url:endpoint,method:"GET",timeout:4e3,dataType:"json",complete:function(response,status){if(bouncex.osr._handleResponse(ca_id,response)&&(bouncex.osr.log(ca_id,"tracked items successfully loaded",!1),bouncex.campaigns[ca_id].jform=jQuery("#bx-form-"+ca_id+"-step-1"),bouncex.osr.activateCampaign(ca_id)),!bouncex.campaigns[ca_id].osrItems)return bouncex.osr.fail(ca_id,"no items returned, OSR campaign "+ca_id+" is ineligible")}};bouncex.utils.doAjaxRequest(options)},_getOsrParamsJson:function(ca_id,osrParams){var osrParamsQuery,config=bouncex.parseJSON(osrParams);bouncex.campaigns[ca_id].osr={},bouncex.campaigns[ca_id].osr.config={},osrParamsQuery=config.sortBy+","+config.minProducts+","+config.maxProducts,config.endpoint="https://"+bouncex.website.osru+"?website_id="+bouncex.website.id+"&device_id="+bouncex.cookie.did+"&visit_id="+bouncex.cookie.vid+"&osr_params="+osrParamsQuery,bouncex.campaigns[ca_id].osr.config=config},_handleResponse:function(ca_id,response){if(response&&200===response.status)try{var responseText=response.responseText;if(responseText.trim()&&0!==responseText.length)return bouncex.campaigns[ca_id].osrItems=bouncex.parseJSON(responseText).items,bouncex.osr._populateCreative(ca_id,bouncex.campaigns[ca_id].osrItems);bouncex.osr.fail(ca_id,"empty response")}catch(err){bouncex.osr.fail(ca_id,err)}else if(response&&202===response.status)try{response.responseText.indexOf("Not enough 'view item' events")>-1&&bouncex.osr.fail(ca_id,"OSR campaign's minimum # of products is greater than the user's history of 'view item' events.")}catch(err){bouncex.osr.fail(ca_id,err)}return!1},_populateCreative:function(ca_id,itemsJson){if(bouncex.campaigns[ca_id].control)return!0;var creative=document.getElementById("bx-campaign-"+ca_id),creativeClone=creative.cloneNode(!0);return creative.innerHTML=this._populateClonedCreativeTemplate(bouncex.campaigns[ca_id].numSteps,creativeClone,itemsJson,bouncex.campaigns[ca_id].osr.config,ca_id),!0},_populateClonedCreativeTemplate:function(numSteps,creativeClone,itemsJson,config,ca_id){var osrGroupNum=0;this._adjustLocalItemsObject(ca_id,itemsJson,config),this._populateOsrItemNumberElements(this._getOsrItemNumberElements(creativeClone),bouncex.campaigns[ca_id].osrItems.length),("development"===bouncex.env||"staging"===bouncex.env)&&itemsJson.length>bouncex.campaigns[ca_id].osrItems.length&&(itemsJson=bouncex.campaigns[ca_id].osrItems);for(var i=1;i<=numSteps;i++){for(var osrGroups=this._getOsrGroups(i,creativeClone),k=0;k<osrGroups.length;k++){var item=itemsJson[k],osrGroup=osrGroups[k];osrGroup&&item?osrGroup.innerHTML=bouncex.osr._populateClonedCreativeGroups(osrGroup,item,config):osrGroup.parentNode.removeChild(osrGroup)}osrGroups.length&&(osrGroupNum=osrGroups.length)}return bouncex.campaigns[ca_id].osr.config.inconsistentMaxParamToCreativeMax&&osrGroupNum>0&&osrGroupNum!==itemsJson.length&&(bouncex.campaigns[ca_id].osrItems=itemsJson.slice(0,osrGroupNum),this._populateOsrItemNumberElements(this._getOsrItemNumberElements(creativeClone),osrGroupNum)),creativeClone.innerHTML},_adjustLocalItemsObject:function(ca_id,itemsJson,config){var adjustedItemsJson=[];if(itemsJson.length>config.maxProducts){for(var i in bouncex.campaigns[ca_id].osr.config.inconsistentMaxParamToCreativeMax=!0,itemsJson)(adjustedItemsJson.length<config.maxProducts||void 0===adjustedItemsJson.length)&&adjustedItemsJson.push(itemsJson[i]);bouncex.campaigns[ca_id].osrItems=adjustedItemsJson}},_populateClonedCreativeGroups:function(osrGroup,item,config,i){var osrEl,prop,groupLink,linkBehavior=bouncex.osr._setLinkBehavior(config.linkBehavior),bxOsrEls=osrGroup.querySelectorAll("[data-bx-osr]",i);for("true"!==config.disableGroupLinks?(groupLink=osrGroup.firstChild&&"A"===osrGroup.firstChild.tagName?osrGroup.firstChild:osrGroup,bouncex.osr._setOsrAttributes(groupLink,{href:item.url,"data-click":"hyperlink",target:linkBehavior,"data-click-report":"default"})):bouncex.osr._setOsrAttributes(osrGroup,{style:"cursor:default !important"}),i=0;i<bxOsrEls.length;i++)prop=(osrEl=bxOsrEls[i]).getAttribute("data-bx-osr"),bouncex.osr._populateItemProperties(osrEl,prop,item,config,linkBehavior);return osrGroup.innerHTML},_populateItemProperties:function(osrEl,prop,item,config,linkBehavior){"imageurl"===prop?bouncex.osr._populateImages(osrEl,item[prop]):"price"===prop?bouncex.osr._populatePrice(osrEl,config.currency,item[prop]):"url"===prop?bouncex.osr._populateUrl(osrEl,linkBehavior,item[prop]):osrEl.firstChild.textContent=item[prop]},_getOsrGroups:function(step,creative){return creative.querySelectorAll(".bx-step-"+step+' [data-bx-osr="group"]')},_getOsrItemNumberElements:function(creative){return creative.querySelectorAll('[data-bx-osr="numitems"]')},_populateOsrItemNumberElements:function(numItemsElements,numItems){for(var j=0;j<numItemsElements.length;j++){var itemsText,numEl=numItemsElements[j];numEl&&numItems>0&&(itemsText=numEl.textContent.replace(numEl.textContent,numItems),numEl.textContent=itemsText)}},_setOsrAttributes:function(el,attrs){for(var key in attrs)el.setAttribute(key,attrs[key])},_populateUrl:function(element,linkBehavior,url){element.getElementsByTagName("button").length>0&&(element=element.getElementsByTagName("button")[0]),this._setOsrAttributes(element,{href:url,"data-click":"hyperlink",target:linkBehavior,"data-click-report":"default"}),element.classList.add("bx-osr-preventclicks")},_populatePrice:function(element,currency,price){var formattedPrice=this._getFormattedCurrency(currency,price);element.firstChild.textContent=formattedPrice},_populateImages:function(element,imageUrl){"DIV"===element.firstChild.tagName?element.firstChild.setAttribute("style","background-image:url('"+imageUrl+"')"):element.firstChild.setAttribute("src",imageUrl)},_getFormattedCurrency:function(currency,price){switch(currency){case"USD":return"$"+price;case"EU":return""+price;default:return"$"+price}},_setLinkBehavior:function(behavior){switch(behavior){case"newTab":return"_blank";case"currTab":return"_self";default:return"_blank"}},activateCampaign:function(ca_id){bouncex.osr.log(ca_id,"activating OSR campaign",!1),_campaignHelpers.default.activateCampaign(ca_id)},log:function(ca_id,message,isError){var data={group:"osr",campaignId:ca_id,message:message};isError?_logger.default.error(data):_logger.default.info(data)},fail:function(ca_id,msg){bouncex.campaigns[ca_id].failed=!0,this.log(ca_id,msg,!0)}};exports.default=_default},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _helpers=__webpack_require__(0),_default={log:function(){var log=console.log.bind?console.log.bind(console):window.console.log;(0,_helpers.isBxInternalTraffic)()&&log.apply(null,arguments)},console:{trace:function(){(0,_helpers.isBxInternalTraffic)()&&console.trace&&console.trace()},group:function(){var group=console.group.bind?console.group.bind(console):window.console.group;((0,_helpers.visitorTestMode)("office")||(0,_helpers.visitorTestMode)("bxdev"))&&group.apply(null,arguments)},groupCollapsed:function(){var groupCollapsed=console.groupCollapsed.bind?console.groupCollapsed.bind(console):window.console.groupCollapsed;(0,_helpers.isBxInternalTraffic)()&&console.groupCollapsed&&groupCollapsed.apply(null,arguments)},groupEnd:function(){var groupEnd=console.groupEnd.bind?console.groupEnd.bind(console):window.console.groupEnd;(0,_helpers.isBxInternalTraffic)()&&console.groupEnd&&groupEnd.apply(null,arguments)}},table:function(){var table=console.table.bind?console.table.bind(console):window.console.table;("production"!==bouncex.env||(0,_helpers.visitorTestMode)("office")||(0,_helpers.visitorTestMode)("bxdev"))&&table.apply(null,arguments)}};exports.default=_default},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,LZString=function(){var f=String.fromCharCode,keyStrBase64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",keyStrUriSafe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",baseReverseDic={};function getBaseValue(alphabet,character){if(!baseReverseDic[alphabet]){baseReverseDic[alphabet]={};for(var i=0;i<alphabet.length;i++)baseReverseDic[alphabet][alphabet.charAt(i)]=i}return baseReverseDic[alphabet][character]}var LZString={compressToBase64:function(input){if(null==input)return"";var res=LZString._compress(input,6,(function(a){return keyStrBase64.charAt(a)}));switch(res.length%4){default:case 0:return res;case 1:return res+"===";case 2:return res+"==";case 3:return res+"="}},decompressFromBase64:function(input){return null==input?"":""==input?null:LZString._decompress(input.length,32,(function(index){return getBaseValue(keyStrBase64,input.charAt(index))}))},compressToUTF16:function(input){return null==input?"":LZString._compress(input,15,(function(a){return f(a+32)}))+" "},decompressFromUTF16:function(compressed){return null==compressed?"":""==compressed?null:LZString._decompress(compressed.length,16384,(function(index){return compressed.charCodeAt(index)-32}))},compressToUint8Array:function(uncompressed){for(var compressed=LZString.compress(uncompressed),buf=new Uint8Array(2*compressed.length),i=0,TotalLen=compressed.length;i<TotalLen;i++){var current_value=compressed.charCodeAt(i);buf[2*i]=current_value>>>8,buf[2*i+1]=current_value%256}return buf},decompressFromUint8Array:function(compressed){if(null==compressed)return LZString.decompress(compressed);for(var buf=new Array(compressed.length/2),i=0,TotalLen=buf.length;i<TotalLen;i++)buf[i]=256*compressed[2*i]+compressed[2*i+1];var result=[];return buf.forEach((function(c){result.push(f(c))})),LZString.decompress(result.join(""))},compressToEncodedURIComponent:function(input){return null==input?"":LZString._compress(input,6,(function(a){return keyStrUriSafe.charAt(a)}))},decompressFromEncodedURIComponent:function(input){return null==input?"":""==input?null:(input=input.replace(/ /g,"+"),LZString._decompress(input.length,32,(function(index){return getBaseValue(keyStrUriSafe,input.charAt(index))})))},compress:function(uncompressed){return LZString._compress(uncompressed,16,(function(a){return f(a)}))},_compress:function(uncompressed,bitsPerChar,getCharFromInt){if(null==uncompressed)return"";var i,value,ii,context_dictionary={},context_dictionaryToCreate={},context_c="",context_wc="",context_w="",context_enlargeIn=2,context_dictSize=3,context_numBits=2,context_data=[],context_data_val=0,context_data_position=0;for(ii=0;ii<uncompressed.length;ii+=1)if(context_c=uncompressed.charAt(ii),Object.prototype.hasOwnProperty.call(context_dictionary,context_c)||(context_dictionary[context_c]=context_dictSize++,context_dictionaryToCreate[context_c]=!0),context_wc=context_w+context_c,Object.prototype.hasOwnProperty.call(context_dictionary,context_wc))context_w=context_wc;else{if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++)context_data_val<<=1,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++;for(value=context_w.charCodeAt(0),i=0;i<8;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}else{for(value=1,i=0;i<context_numBits;i++)context_data_val=context_data_val<<1|value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value=0;for(value=context_w.charCodeAt(0),i=0;i<16;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}0==--context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++),delete context_dictionaryToCreate[context_w]}else for(value=context_dictionary[context_w],i=0;i<context_numBits;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1;0==--context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++),context_dictionary[context_wc]=context_dictSize++,context_w=String(context_c)}if(""!==context_w){if(Object.prototype.hasOwnProperty.call(context_dictionaryToCreate,context_w)){if(context_w.charCodeAt(0)<256){for(i=0;i<context_numBits;i++)context_data_val<<=1,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++;for(value=context_w.charCodeAt(0),i=0;i<8;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}else{for(value=1,i=0;i<context_numBits;i++)context_data_val=context_data_val<<1|value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value=0;for(value=context_w.charCodeAt(0),i=0;i<16;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1}0==--context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++),delete context_dictionaryToCreate[context_w]}else for(value=context_dictionary[context_w],i=0;i<context_numBits;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1;0==--context_enlargeIn&&(context_enlargeIn=Math.pow(2,context_numBits),context_numBits++)}for(value=2,i=0;i<context_numBits;i++)context_data_val=context_data_val<<1|1&value,context_data_position==bitsPerChar-1?(context_data_position=0,context_data.push(getCharFromInt(context_data_val)),context_data_val=0):context_data_position++,value>>=1;for(;;){if(context_data_val<<=1,context_data_position==bitsPerChar-1){context_data.push(getCharFromInt(context_data_val));break}context_data_position++}return context_data.join("")},decompress:function(compressed){return null==compressed?"":""==compressed?null:LZString._decompress(compressed.length,32768,(function(index){return compressed.charCodeAt(index)}))},_decompress:function(length,resetValue,getNextValue){var i,w,bits,resb,maxpower,power,c,dictionary=[],enlargeIn=4,dictSize=4,numBits=3,entry="",result=[],data={val:getNextValue(0),position:resetValue,index:1};for(i=0;i<3;i+=1)dictionary[i]=i;for(bits=0,maxpower=Math.pow(2,2),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;switch(bits){case 0:for(bits=0,maxpower=Math.pow(2,8),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;c=f(bits);break;case 1:for(bits=0,maxpower=Math.pow(2,16),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;c=f(bits);break;case 2:return""}for(dictionary[3]=c,w=c,result.push(c);;){if(data.index>length)return"";for(bits=0,maxpower=Math.pow(2,numBits),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;switch(c=bits){case 0:for(bits=0,maxpower=Math.pow(2,8),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;dictionary[dictSize++]=f(bits),c=dictSize-1,enlargeIn--;break;case 1:for(bits=0,maxpower=Math.pow(2,16),power=1;power!=maxpower;)resb=data.val&data.position,data.position>>=1,0==data.position&&(data.position=resetValue,data.val=getNextValue(data.index++)),bits|=(resb>0?1:0)*power,power<<=1;dictionary[dictSize++]=f(bits),c=dictSize-1,enlargeIn--;break;case 2:return result.join("")}if(0==enlargeIn&&(enlargeIn=Math.pow(2,numBits),numBits++),dictionary[c])entry=dictionary[c];else{if(c!==dictSize)return null;entry=w+w.charAt(0)}result.push(entry),dictionary[dictSize++]=w+entry.charAt(0),w=entry,0==--enlargeIn&&(enlargeIn=Math.pow(2,numBits),numBits++)}}};return LZString}();void 0===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return LZString}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,exports,__webpack_require__){var _i_closure=__webpack_require__(29),_debug=_interopRequireDefault(__webpack_require__(5)),_perf=_interopRequireDefault(__webpack_require__(12)),_scheduling=__webpack_require__(2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}bouncex.website&&(_perf.default.times("tag"),bouncex.website.sd>0&&!bouncex.website.fbe?(0,_scheduling.setTimeoutWrapper)(_i_closure.InitSequence.preInit1.entry,bouncex.website.sd):_debug.default.tryCatch(_i_closure.InitSequence.preInit1.entry)())},,function(module,exports,__webpack_require__){__webpack_require__(30),__webpack_require__(61),__webpack_require__(64),__webpack_require__(66),__webpack_require__(63),__webpack_require__(67),__webpack_require__(6),__webpack_require__(42),__webpack_require__(72),__webpack_require__(45),__webpack_require__(46),__webpack_require__(73),__webpack_require__(22),__webpack_require__(17),__webpack_require__(76),__webpack_require__(68),__webpack_require__(47),__webpack_require__(3),__webpack_require__(43),__webpack_require__(70),__webpack_require__(69),__webpack_require__(74),__webpack_require__(49),__webpack_require__(77),__webpack_require__(78),__webpack_require__(79),__webpack_require__(40),__webpack_require__(80),__webpack_require__(62),__webpack_require__(29),__webpack_require__(110),__webpack_require__(83),__webpack_require__(86),__webpack_require__(44),__webpack_require__(53),__webpack_require__(87),__webpack_require__(88),__webpack_require__(89),__webpack_require__(84),__webpack_require__(82),__webpack_require__(50),__webpack_require__(85),__webpack_require__(51),__webpack_require__(13),__webpack_require__(52),__webpack_require__(104),__webpack_require__(59),__webpack_require__(14),__webpack_require__(97),__webpack_require__(95),__webpack_require__(55),__webpack_require__(56),__webpack_require__(15),__webpack_require__(98),__webpack_require__(105),__webpack_require__(18),__webpack_require__(96),__webpack_require__(94),__webpack_require__(100),__webpack_require__(58),__webpack_require__(57),__webpack_require__(99),__webpack_require__(101),__webpack_require__(102),__webpack_require__(103),__webpack_require__(106),__webpack_require__(60),__webpack_require__(93),__webpack_require__(37),__webpack_require__(107),__webpack_require__(91),__webpack_require__(19),__webpack_require__(26),__webpack_require__(11),__webpack_require__(35),__webpack_require__(8),__webpack_require__(10),__webpack_require__(108),__webpack_require__(54),__webpack_require__(5),__webpack_require__(71),__webpack_require__(9),__webpack_require__(21),__webpack_require__(20),__webpack_require__(36),__webpack_require__(34),__webpack_require__(32),__webpack_require__(41),__webpack_require__(0),__webpack_require__(24),__webpack_require__(90),__webpack_require__(23),__webpack_require__(65),__webpack_require__(1),__webpack_require__(12),__webpack_require__(28),__webpack_require__(81),__webpack_require__(27),__webpack_require__(16),__webpack_require__(48),__webpack_require__(25),__webpack_require__(2),__webpack_require__(7),__webpack_require__(31),__webpack_require__(4),__webpack_require__(33),__webpack_require__(92),__webpack_require__(38),__webpack_require__(39),__webpack_require__(75),module.exports=__webpack_require__(113)},function(module,exports,__webpack_require__){function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}var _0x2a20cd,_0x126e56,a0_0x126e=["vKfssufusu9ox1jbveu=","zgvMAw5LuhjVCgvYDhK=","AvbOB25L","D2LUzg93CYbWAg9Uzq==","jNbLpq==","ug93zxjwuIbtr1GGntm1","yM91BMnLEa==","Ahr0Chm6lY9LDMvUDhmUyM91BMnLEc5Uzxq=","q0jFrvjst1i=","Bwf0y2G=","DxnLCI1JyxrJAc1HBgW=","CMfUzg9T","B3bLBG==","jMvYCM9Ypq==","DMfSDwvZ","CgvYzM9YBwfUy2u=","u0nssvbux1zfuLnjt04=","ChjLDG==","jMrLDMLJzwLKpq==","AgvPz2H0","D2fYChnWzwvK","Aw5KzxHpzG==","C3rHDhvZ","jKDduZe9","DgHLBG==","x3nLDenVB2TPzq==","r0rquL9pufrpvvrFsurftLrjrKLfuG==","B25LCNjVCG==","jNzPC2L0Awq9","rvHqx0vo","r0rquL9fuLjpuL9nrvntquDf","C3rVChDHDgnO","qebHC3LUy0L0zxjHDg9Y","zgvMyxvSDa==","zw5HyMXLv2TUzfrLC3rPBMC=","x2rLy29KzuzVCLjLDhjLDMLHBa==","B3rOzxi=","ufqXx1jpvvrf","C3vZCgvUzgvKu3rHCNq=","Bg9N","BMv4Da==","BwfRzvjLCxvLC3q=","ChvZAa==","D3nPza==","ywXS","AvbHza==","BxndCNLWDg8=","CMvWBgfJzq==","BxneB05VDfrYywnR","AwqTC2vYDMLJzs10Aw1LB3v0","Dg9tDhjPBMDuywC=","Ahr0Chm6lY9WAxGUy2rUD2LKz2v0lMnVBq==","y29UDgLUDwu=","yNHNCMfWAeDeufjpChrpDxq=","BNvTyMvY","C2v0uhjVDg90ExbLt2y=","yNHNCMfWAfjLC2v0","y3jLyxrLrgf0yunOyw5UzwW=","AM9PBG==","BMv4DeXVyW==","yxbPA2v5","zgv0zwn0ue0=","C2vZC2LVBLn0B3jHz2u=","C2vUDa==","D2vIC2L0zq==","C2nYzwvU","Dhj5tg9J","te9hx1vsta==","Aw5MBW==","zxH0zxjUywXPza==","D29YA2vYx3n0yxj0Dxa=","yxzHAwXxAwr0Aa==","jML2pq==","Bw96sw5KzxHLzerc","z3jHCgG=","AxbVza==","C2v0rxH0zxjUywXjrfn5BMngAxjLza==","Dg9tDhjPBMC=","AxncyxnLnJq=","oYbWyxrOps87igrVBwfPBJ0=","C2fMyxjP","qK9vtKnfwf9bueLlrvK=","C3vIC3rY","yNHNCMfWAhyYq0nqqu9WDe91Da==","yNH2Awq=","AwrtEw5JsgfZrMLYzwq=","zMLYzvbPEgvSCW==","r01Fru4=","mJaWmZaXmdC=","z2v0tg9JywXtDg9YywDLsurZ","C29MDeLe","B3b0t3v0q0nqqq==","yxDYyxa=","B25Py2vJyw5KAwrHDgu=","v2fYBMLUzW==","CMvWB3j0uMvXDwvZDe1LDhjPy3m=","z2v0","yxbWBhK=","sw4Gr0rquIbVChqTB3v0ignOzwnR","z2vUzxjHDgvmB2fKsuq=","yxjN","Ahr0Chm6lY9VChrVDxqUy2rUD2LKz2v0lMnVBq==","CM9VDa==","DxnHz2u=","q0Xjru5ux1nqrunjrKLdx1nut1jbr0vFs0vz","Aw9Z","Bg9JyxrPB24=","qteW","B25SB2nHBgnHBMrPzgf0zq==","surFu1Loq19gsvjfrf9trvntsu9ox0Tfwq==","o2v4CgLYzxm9vgH1lcaWmsbkyw4GmtK3mcaWmdOWmdOWmcbvvem7u2fTzvnPDgu9tM9UztTtzwn1CMu=","y2f0y2G=","z2v0u2vZC2LVBKrHDge=","CMvXx2XHDa==","BMv0q29TCgXLDgu=","CxvLCNLtzwXLy3rVCG==","DhjPz2DLCKnSAwvUDenHBgXIywnR","Dhj5rw50CMLLCW==","zxjYB3i=","Bg9HzeLe","qLHFsu5gtW==","l20/D3nPzd0=","y3jLyxrL","v0Torf9urvnusu5hx1nfu1njt05Fs0vz","su5gtW==","AgfZsurtEw5JrMLYzwq=","twfW","Bwv0Ag9K","DgvZDa==","C3rHDhvZvgv4Da==","y3vZDg9TrxjYB3jnzxnZywDL","l2nJCge/AwrFDhLWzt1IEgLKjMLKx3zHBhvLpq==","qxjNDw1LBNrZ","z2v0rwXLBwvUDej5swq=","surFvvjm","jMrLDMLJzuLepq==","z2v0q3vYCMvUDfnJCMLWDa==","qLHFsu5gt19jtLrfuLzbta==","DxnWu3rYAw5N","x19JBxa=","sufcx1vtuf9bueLFq09ou0vovf9nrvntquDf","zgf0yq==","zxHWB3j0CW==","z2v0rgv2AwnLvhLWzq==","jMXVywrjrd0=","CMvWB3j0rxjYB3i=","jNDLyNnPDgvFAwq9","y2HYB21L","x191C3bHCgK=","zMLYzuDYyxbO","DMLZAxrjra==","BgfUz3vHz2u=","q0nqqv9fuLjpuL9nrvntquDf","uMvXDwvZDcbWyxjZzsbLCNjVCJOG","sw5MBW==","C3jJ","yxr0ywnOrxzLBNq=","B25SB2fK","yNHWywDLDMLLD2LK","CMvWB3j0sw5MBW==","DMLLDW==","z2v0twfYA2v0Aw5Nq2XVDwrwAxnPDg9Ysuq=","DMfYrgf0yq==","u2v0","B250B3vJAhn0yxj0","vvnbr0vFqu5btfLusunt","qteWwa==","DMvYyM9Zzq==","zMLUywXSEuXVyW==","yw5KCM9Pza==","CMvKAxjLy3q=","ywjYDxb0","DgHYB3C=","DxnLCLn0ywDL","t0jtx0rptufjtLm=","D29YA2vYu3rHCNq=","t0jtx0vo","y2rUyMfZA2v0lM5LDa==","BgfUz3vHz2vZ","CMvWB3j0rxjYB3jnzxrYAwm=","lMnKBMjHC2TLDc5Uzxq=","qxn5BMnjDgvYyxrVCG==","zgv2AwnL","y3jLyxrLt2zMzxi=","jKjyv0Lepq==","mZC1EdGXmG==","r2vUzxjHDg9Y","jLndsde9","o1nHBwvtAxrLpu5VBMu7ifnLy3vYzq==","DgLTAw5N","jKDdsde9","Ahr0Chm6lY91lMnKBNDPzgDLDc5JB20=","v0fstKLorW==","CMvKAxjLy3rtDgfYDa==","CMvXDwvZDezPBgvtExn0zw0=","BwfJ","u09vuKnf","DxnWrgf0yuLZt3b0zwrpDxq=","zxHLy3v0Aw5N","CgfYC2vty3jPChq=","x3nLDeXVy2fSu3rVCMfNzq==","C3bSAxq=","surFu1Loq19uwvbf","qwLYmG==","nZy4EdeWmJq=","x19LC01VzhvSzq==","B2jZuMvX","z2v0vMfYAwf0Aw9Uu3rHDhvZ","q0nqqsbjrcbtDgfNzsbLCNjVCG==","CgfNzxzPzxDjra==","AgfZt3DUuhjVCgvYDhK=","zgLK","l3bPEgvSlNbUzZ90ExbLpwnHjNn1yNr5Cgu9","CMvZCg9UC2vtDgfYDa==","vevnue9sqvjz","AxrLCMf0B3i=","zgvSzwDHDgu=","sw52ywXPzcbHDhrLBxb0ihrVigL0zxjHDguGBM9UlwL0zxjHyMXLigLUC3rHBMnLlGPjBIbVCMrLCIb0BYbIzsbPDgvYywjSzsWGBM9UlwfYCMf5ig9IAMvJDhmGBxvZDcbOyxzLigeGw1n5BwjVBc5PDgvYyxrVCL0OksbTzxrOB2qU","z2v0vMvUzg9Yq29UC2vUDhm=","B3bLBKrHDgfIyxnL","Bg9Nt2jQzwn0","x2vPza==","z2v0tMv0lu1tlw9UzxjYB3i=","x2LUDM9Rzq==","uLrdswnLr2f0AgvYzxi=","qeb0B1n0CMLUz1rHzW==","ptSGzxHWAxjLCZ1uAhuSidaXiePHBIaXotCWidaWoJaWoJaXieDnvdSGCgf0Ad0VoYbKB21HAw49lG==","qujdrevgr0HjsKTmtu5quvjtvfvwv1HzwMfIy2rLzMDOAwPRBg1UB3bXCNn0Dxz3EhL6mdeYmZq1nJC4oq==","vxnLCIbPCYbVChrLzc1VDxqGD2L0AcbjquiGq29UC2vUDcbgCMfTzxDVCMS=","yNHer1rLC3q=","x2DLDenVB2TPzq==","zgvIDwC=","AwXSzwDHBcbJyxrJAcbHDhrLBxb0","zg9TywLUtg9VA3vWrw5K","Dhj5ihn0yxrLBwvUDcb3AxrOB3v0ignHDgnOig9YigzPBMfSBhK=","x19PzgnVBNrLEhq=","jMj4zgLKpq==","ms41lJK=","jMnVBNnLBNq9","Dw5KzwzPBMvK","z2v0rw50CMLLC0j5vhLWzq==","z2v0t3b0t3v0","surZlxjLy2vPDMvKoIa=","l2DYyxbOp2nVB2TPzuLepq==","zgv2","yNvPBgrjBMzV","DhjPzgvUDa==","AxntywzHCMK=","A2v5CW==","rxjYB3i=","yNHPBMzV","z2v0vgLTzxPVBMvpzMzZzxq=","jNDHCNbZCgvLzd0=","Dg9htvrtDhjPBMC=","zg9Uzq==","z2v0u2vZC2LVBKrHDgeTC2vZC2LVBLn0B3jHz2u=","zw5K","tM90iefSBg93zwqGB24GrvuGDhjHzMzPyW==","AxnpChrLze91DfzPyunduee=","zMLYzwzVEa==","BMv0","rvjst1i=","jMfWAwTLEt0=","Awq9yY5QCW==","D2TUzhrLC3q=","revwx0vo","CMvZCg9UC2vFCMvJDG==","B2jQzwn0","z2v0rxH0zw5ZAw9U","sw4Gq0nqqsbVChqTB3v0ignOzwnR","yxnZAwDU","Aw5wyxjPyxrPB24=","D3jHCa==","y29TCgXLDgLVBG==","y2fSBa==","CMvNzw5LCMf0B3jsDw50Aw1Lid0GCG==","tufuq0HFqu5btfLusunt","r2vUzxjHDg9YigLZigfSCMvHzhKGCNvUBMLUzW==","AgfZrxH0zxjUywXjrfn5BMngAxjLza==","yNHKAwq=","x2DLDfnLC3nPB25tDg9YywDL","nde0EdG5nG==","veHjuLrfru5Ftu9oveHt","mZiWEdu2oa==","D2LU","B3nJChu=","Axnjt1nxzwjwAwv3","BwfYAW==","C3vZCgvUzgvKwwLLBgq=","rvzftLrtx1vsta==","CMvXx2vYCG==","CMvZCg9UC2vuzxH0","odm0EdeXotq=","C2nYAxb0w3nYyYO9iMLKpwmUANmIxq==","jNnLDMvYAxr5pq==","AxbHza==","zMLYzvbHCNrUzxjqAxHLBa==","DxnLCKfNzw50","qujdrevgr0HjsKTmtu5puffsu1rvvLDywvPHyMnKzwzNAgLQA2XTBM9WCxjZDhv2D3H5EJaXmJm0nty3odKRlW==","vg91y2G1","z2v0vgLTzq==","DNb2","BMv3suq=","DMLZAxrVCG==","C2vUzfjLCxvLC3ruB0Le","CMvHzhLtDgf0zq==","Awrhzw5fCNjVCG==","ChqZCMvKAxjLy3q=","zMLYC3rmB2fK","D2vIC2L0zuLe","B3b0t3v0wu9d","jNnLCxvLBMnLAwq9","yMLUza==","qteYwa==","BgvUz3rO","zxH0zxjUywXjra==","r2vUzxjHDg9YrNvUy3rPB24=","DMvUzg9Yq29UC2vUDhm=","jMXVzZ0=","z2v0t2jZzxj2zxi=","C3rHCNruAw1L","ywz0zxjmB2m=","surtDgfNzq==","C2vUza==","su5wquXjrf9uuKfgrKLdx01fu1nbr0u=","surtx09otfLFq0i=","oYbtyw1Lu2L0zt1oB25LoYbtzwn1CMu=","C3rVCa==","y29UBMvJDevUza==","mL5isxLRra==","BwfZDgvYsurZ","y29Uy2f0","C2vXDwvUy2vjra==","z2v0q29UDgv4Da==","D2vIA2L0sw5KzxHLzerc","yNjLywS=","q0Xjru5ux0nc","rvHqrunururFu1rbvfvtx0nprevt","CgLRzq==","se9tva==","C2vJDxjLq29UBMvJDgLVBLn0yxj0","uhjVmte=","C3rYAw5NAwz5","zg9TywLUx2XVB2T1Ca==","ywrKrxzLBNrmAxn0zw5LCG==","qebPDgvYyxrVCG==","Axnhzw5LCMf0B3jgDw5JDgLVBG==","vxnLCIbPCYbVChrLzc1VDxqGD2L0Acbzt0m=","B3bY","C3rVCMvjrerHDge=","DMfYAwf0Aw9Usuq=","Bw96uLrdugvLCKnVBM5Ly3rPB24=","C2vZC2LVBLn0B3jHz2vmB2fK","o2rVBwfPBJ0U","C2v0surtEw5JrMLYzwq=","DMvYC2LVBG==","DhLWzq==","zMLYzvnVzNrjrfn5BMm=","rvHqt1nfx1jfu0vu","yxn5BMnjDgvYyxrVCG==","wfnnyxG=","vvnfuL9vuKW=","x2vUy29KzuzVCLn0B3jHz2u=","jNDWCZ0=","uhjVmtiUoq==","surZ","jMLKx3n5BMm6zxH0zxjUywXFAwq9","zMv0y2HtDgfYDa==","p2nVB2TPzuLepq==","z2v0tg9NvMfSDwu=","CMvWB3j0v2fYBMLUzW==","B2XKsuqX","DMfYsuq=","Cg9W","CMvKAxjLy3rfBMq=","w29IAMvJDcbhzw5LCMf0B3jD","z2rWCKfWCgXPzxm=","zMLLBgq=","u1rpuKfhrv9lrvK=","Aw5PDgLHBgL6zq==","qvbjs0vz","C3rYAw5N","odm0EdeXmti=","y3jLyxrLrxzLBNq=","AxnpBMvqzxjJzw50uM9SBa==","rvHurvjoquXFsuq=","uhjVmtaUnq==","v0Torf9urvnux1bbuKfnx1nfva==","y2fUzgLKyxrL","y29UzgL0Aw9UywXdyLrYEunHDgnO","z2v0u3rVCMvKtwfZDgvYsurZ","ChjVDg90ExbL","C3rVCMvwyxjPyxrPB25tDgf0Dxm=","q0nqqv9pufrpvvrFsurftLrjrKLfuG==","revcvuCG","yNHZzxf1zw5JzwLK","ueLyx0vo","u0vtu0LptL9tve9squDfx0Xpquq=","D2LUzg93CW==","AwrtB3vYy2u=","CMvZzxq=","x19WCM90B19F","surFtevor1ri","CMvXDwvZDfn0yxj0","z2v0uMfUzg9TvMfSDwvZ","x19HD2fPDa==","C2XPy2u=","r1jbueHFru4=","vxnLCIbPCYbVChrLzc1VDxqGD2L0Acbhrfbs","y2f0y2HmB2m=","x3nLDfnLC3nPB25tDg9YywDL","qurFq0i=","jNzHCKrHDge9","AwruExbL","C2v0sxrLBq==","Bwf0y2HLCW==","zgLKBNqGzMLUAxnO","D2LUzg93CYbqAg9Uzq==","surFr0vox0vsuK9s","z2v0qLHjBMzV","mtaYnhGXmZy2","DMLK","Aw5JBhvKzxm=","yxzHAwXizwLNAhq=","q0nqqv9jrf9tvefhrv9fuLjpuG==","Ahr0Chm6lY9LlMnKBNDPzgDLDc5JB20=","qtLy","uhjVos43","jMnVB2TPzuLepq==","y2rUD2LKz2v0lMnVBq==","jNDZAwq9","BM93","AhjLzG==","AxngAxjLzM94","D2vIz2W=","CgfYC2u=","u2vJDxjLoW==","D2L0AenYzwrLBNrPywXZ","AxnbCNjHEq==","yY5TAw4UANm=","q2fSBgjHy2SGtM90ifjLy2vPDMvK","jM09","B3b0t3v0tKfj","yt1Jyw5KAwrHDgu=","surtDgfNzvbYzwzPCMu=","y3jLyxrLrwXLBwvUDa==","jNy9","ug93zxjwuIbtr1GGntu0","BwfPBG==","ueLyruXFvvjm","p0njrd0=","yNHNCMfWAa==","mc4WlJaUma==","jKDduZi9","z2v0vvnqrgf0yq==","z2v0rNv0DxjLrgf0zuLUrgf5CW==","Dg9mB3DLCKnHC2u=","zgv2AwnLsuq=","D2TUzhzHCMLK","y29UBMvJDfn0yxj0","t1but1vux1vsta==","t2jQzwn0","z2v0uhjVDg90ExbLt2y=","zgvMAw5Lq2fSBgjHy2Tty2HLBwe=","t1but1vux1nfuLzjq0vFvefh","qteX","DgLTzwrqCM9TAxnL","vKvsqK9trv9ftG==","surZuMvJzwL2zwq=","AgfYzeLe","zxjYB3jZ","jNDLyNnPDgvPzd0=","y29UC3rYDwn0B3i=","Aw5KzxHLzerc","surFu0vsvKLdrv9uquC=","t0jtx0rptufjtLnFvKfs","suqY","Ahr0Chm6lY8=","r2v0ifnLC3nPB24Grgf0yq==","jKrjrd0=","r0vu","ptTKB21HAw49lG==","CMvZB2X2zq==","AgfUzhnOywTL","uKvrx1rjtuvpvvq=","uMvXDwvZDcbLCNjVCJOG","B2XKsuq=","C3rVCMvpChrpDxq=","nde0EdCZnG==","C2vHCMnO","BMfTzq==","zNvUy3rPB24=","zxH0zxjUywXjreHHC0zPCMvK","vg91y2G2","kf58oYLCCYO=","jMLKx3n5BMm6AwrFC291CMnLpq==","BwLUAtq=","CMvZCg9UC2vfBMq=","BMf2AwDHDg9Y","zMLYzunSAwvUDefUywX5DgLJCW==","suqGz2vUzxjHDgLVBIbMywLSzwq=","ywDLBNq=","B3b0B3v0lxnLCNzPy2u=","CMvZB3vYy2u=","l3rYywnRlMDPzI9Pzf9ZEw5Jp2LKx3n5BMm6AwrFDhLWzt0=","x2DLDeXVy2fSu3rVCMfNzq==","Ahr0Chm6lY9PzhmUy2rUD2LKz2v0lMnVBq==","Dg90ywW=","yNH3Awq=","CMv0DxjU","zgLZCgXHEu5HBwu=","vu5nqvnlrurFuKvorevsrvjFv0vcr0W=","B2jZnq==","y29VA2LLsuq=","uevFru4=","B25ZDwnJzxnZ","B3bLCMe=","CNzHBa==","sw52ywXPzcbHDhrLBxb0ihrVihnWCMvHzcbUB24TAxrLCMfIBguGAw5ZDgfUy2uUcKLUig9YzgvYihrVigjLigL0zxjHyMXLlcbUB24TyxjYyxKGB2jQzwn0CYbTDxn0igHHDMuGysbBu3LTyM9SlML0zxjHDg9YxsGPig1LDgHVzc4=","zg9TywLU","qtHy","Bg9JywXtDg9YywDL","AvbVza==","y29TCgXLDgu=","vvjm","yNvPBgrjra==","BM9YBwfS","surZt25SEunc","zg9TywLUtg9VA3vWu3rHCNq=","zM9YrwfJAa==","AxnxA25KvgvZDgLUz0vUywjSzwq=","surFr0vox0zbsuXfra==","D2LKDgG=","v0vcr0XFzgvIDwDFCMvUzgvYzxjFAw5MBW==","ywrJyG==","B3b0t3v0r0rquG==","zNjVBq==","mZC1Edy2nW==","x19Zy3jLzw4=","y2HHCKf0","BxnnyxHuB3vJAfbVAw50CW==","jNzHCKLepq==","BgLUDxG=","zxjYx2nUDa==","x3nLBNq=","zgvSzxrLq29VA2LL","y29VA2LL","y3vYCMvUDfnJCMLWDa==","AxbOB25L","Bwv0yq==","BMv3suqX","jMj4D2LKpq==","jNzLCNnPB249","DMfSDwu=","ChjVzhvJDfn1yG==","x2LK","surZt25SEuncoIa=","oYbtyw1Lu2L0zt1oB25LoYa="];_0x2a20cd=a0_0x126e,_0x126e56=277,function(_0x49c980){for(;--_0x49c980;)_0x2a20cd.push(_0x2a20cd.shift())}(++_0x126e56);var a0_0x12b0=function a0_0x12b0(_0x2a20cd,_0x126e56){var _0x12b062=a0_0x126e[_0x2a20cd-=0];if(void 0===a0_0x12b0.TgvAeW){a0_0x12b0.GeSzRI=function(_0x36eb6f){for(var _0x55b5ce=function(_0x59ec60){for(var _0x24fe95,_0x41bb9a,_0x25db75=String(_0x59ec60).replace(/=+$/,""),_0x357032="",_0x234814=0,_0x290202=0;_0x41bb9a=_0x25db75.charAt(_0x290202++);~_0x41bb9a&&(_0x24fe95=_0x234814%4?64*_0x24fe95+_0x41bb9a:_0x41bb9a,_0x234814++%4)?_0x357032+=String.fromCharCode(255&_0x24fe95>>(-2*_0x234814&6)):0)_0x41bb9a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=".indexOf(_0x41bb9a);return _0x357032}(_0x36eb6f),_0x535e72=[],_0x26ee42=0,_0xf702a=_0x55b5ce.length;_0x26ee42<_0xf702a;_0x26ee42++)_0x535e72+="%"+("00"+_0x55b5ce.charCodeAt(_0x26ee42).toString(16)).slice(-2);return decodeURIComponent(_0x535e72)},a0_0x12b0.oDiYTX={},a0_0x12b0.TgvAeW=!0}var _0x1008e9=a0_0x12b0.oDiYTX[_0x2a20cd];return void 0===_0x1008e9?(_0x12b062=a0_0x12b0.GeSzRI(_0x12b062),a0_0x12b0.oDiYTX[_0x2a20cd]=_0x12b062):_0x12b062=_0x1008e9,_0x12b062};!function(_0x590bc4){var _0xc527e2={};function _0x3e3f4d(_0x1ea2d8){if(_0xc527e2[_0x1ea2d8])return _0xc527e2[_0x1ea2d8][a0_0x12b0("0x1a7")];var _0x56691d=_0xc527e2[_0x1ea2d8]={i:_0x1ea2d8,l:!1,exports:{}};return _0x590bc4[_0x1ea2d8][a0_0x12b0("0x22b")](_0x56691d[a0_0x12b0("0x1a7")],_0x56691d,_0x56691d[a0_0x12b0("0x1a7")],_0x3e3f4d),_0x56691d.l=!0,_0x56691d[a0_0x12b0("0x1a7")]}_0x3e3f4d.m=_0x590bc4,_0x3e3f4d.c=_0xc527e2,_0x3e3f4d.d=function(_0x105d9a,_0x31f43c,_0x63138){_0x3e3f4d.o(_0x105d9a,_0x31f43c)||Object.defineProperty(_0x105d9a,_0x31f43c,{enumerable:!0,get:_0x63138})},_0x3e3f4d.r=function(_0x4f23af){"undefined"!=typeof Symbol&&Symbol[a0_0x12b0("0x14b")]&&Object[a0_0x12b0("0x11a")](_0x4f23af,Symbol[a0_0x12b0("0x14b")],{value:"Module"}),Object[a0_0x12b0("0x11a")](_0x4f23af,"__esModule",{value:!0})},_0x3e3f4d.t=function(_0x5154ee,_0x54853c){if(1&_0x54853c&&(_0x5154ee=_0x3e3f4d(_0x5154ee)),8&_0x54853c)return _0x5154ee;if(4&_0x54853c&&"object"==_typeof(_0x5154ee)&&_0x5154ee&&_0x5154ee[a0_0x12b0("0x1e6")])return _0x5154ee;var _0x2ce250=Object[a0_0x12b0("0x193")](null);if(_0x3e3f4d.r(_0x2ce250),Object.defineProperty(_0x2ce250,a0_0x12b0("0x13a"),{enumerable:!0,value:_0x5154ee}),2&_0x54853c&&a0_0x12b0("0x68")!=_typeof(_0x5154ee))for(var _0x36531d in _0x5154ee)_0x3e3f4d.d(_0x2ce250,_0x36531d,function(_0x17671d){return _0x5154ee[_0x17671d]}.bind(null,_0x36531d));return _0x2ce250},_0x3e3f4d.n=function(_0x527368){var _0x3eb67e=_0x527368&&_0x527368.__esModule?function(){return _0x527368[a0_0x12b0("0x13a")]}:function(){return _0x527368};return _0x3e3f4d.d(_0x3eb67e,"a",_0x3eb67e),_0x3eb67e},_0x3e3f4d.o=function(_0x42d13c,_0x5e7b74){return Object[a0_0x12b0("0x72")][a0_0x12b0("0x1eb")][a0_0x12b0("0x22b")](_0x42d13c,_0x5e7b74)},_0x3e3f4d.p="",_0x3e3f4d(_0x3e3f4d.s=11)}([function(_0x19505c,_0x573c20,_0x4e459f){"use strict";_0x19505c.exports={initialize:function(_0x10769b,_0x17bbbb){var _0x3deaf=function(_0x55291f){try{return JSON.parse(JSON[a0_0x12b0("0x41")](_0x55291f||{}))}catch(_0x3cc858){return{}}}(_0x10769b&&_0x10769b.dataset);return this.APIKEY=_0x3deaf[a0_0x12b0("0x155")]||_0x3deaf[a0_0x12b0("0x12d")],this[a0_0x12b0("0x170")]="1"===_0x3deaf.gm,this.PIX_EN="1"===_0x3deaf.fire,this[a0_0x12b0("0x136")]="1"===_0x3deaf.exp,this[a0_0x12b0("0xed")]="1"===_0x3deaf.pe,this[a0_0x12b0("0x222")]="1"===_0x3deaf[a0_0x12b0("0x20d")],this[a0_0x12b0("0x6c")]=_0x3deaf[a0_0x12b0("0x15e")]||_0x3deaf[a0_0x12b0("0x26")]||null,this[a0_0x12b0("0xbe")]="1"===_0x3deaf[a0_0x12b0("0x1c0")],this[a0_0x12b0("0x3b")]=_0x3deaf.cb||null,this[a0_0x12b0("0x86")]=_0x3deaf[a0_0x12b0("0x101")]||null,this[a0_0x12b0("0x30")]=_0x3deaf.idsonlycb||null,this[a0_0x12b0("0x129")]=_0x17bbbb,this[a0_0x12b0("0x1dd")]=_0x10769b&&_0x10769b[a0_0x12b0("0x1b4")],this.ID_SYNC_TYPE=_0x3deaf.idtype||null,this[a0_0x12b0("0x191")]={wsid:window[a0_0x12b0("0x11f")]&&window[a0_0x12b0("0x11f")][a0_0x12b0("0x159")]&&window[a0_0x12b0("0x11f")][a0_0x12b0("0x159")].id||void 0},this}}},function(_0x35adee,_0x364d7d,_0x402f91){"use strict";var _0x238ebe=_0x402f91(0);function _0x5b00dd(_0x536077){return{ID_URL:a0_0x12b0("0xe5"),USER_URL:a0_0x12b0("0x1d8"),EVENTS_URL:a0_0x12b0("0x120"),PIXEL_URL:a0_0x12b0("0x14c"),LOG_URL:a0_0x12b0("0x94"),OPTOUT_URL:a0_0x12b0("0x17e")}[_0x536077]}var _0x49f4eb=a0_0x12b0("0x204"),_0x30ade1=_0x49f4eb+"_"+_0x238ebe[a0_0x12b0("0x67")],_0x376129=_0x5b00dd(a0_0x12b0("0x19f")),_0x351615=_0x5b00dd(a0_0x12b0("0x54")),_0x348c52=_0x5b00dd(a0_0x12b0("0xc")),_0x3d4b08=_0x5b00dd(a0_0x12b0("0xac")),_0x1c9c6e=_0x5b00dd("LOG_URL"),_0x1f25e0=_0x5b00dd(a0_0x12b0("0xb7")),_0x821e28=-1<window.location[a0_0x12b0("0x9b")][a0_0x12b0("0x12e")](a0_0x12b0("0x221")),_0x57ca3a=_0x30ade1+"_t",_0x4b39b1=_0x30ade1+a0_0x12b0("0x116"),_0x4e807c=_0x30ade1+a0_0x12b0("0x1f6"),_0x3967c7=window.navigator&&window[a0_0x12b0("0xdd")][a0_0x12b0("0x14")]&&window[a0_0x12b0("0xdd")][a0_0x12b0("0x14")].toLowerCase()||"",_0x450961=function(){for(var _0x39e700=location.hostname,_0x6b8e39=a0_0x12b0("0x15"),_0x4bae42=_0x6b8e39+"=1",_0x35abfb=_0x39e700[a0_0x12b0("0x1e2")]("."),_0x14fce0=_0x35abfb[a0_0x12b0("0x25")]-1;_0x14fce0--;)if(_0x39e700=_0x35abfb.slice(_0x14fce0).join("."),document[a0_0x12b0("0x10d")]=_0x4bae42+a0_0x12b0("0x4c")+_0x39e700+a0_0x12b0("0x1d5"),-1<document[a0_0x12b0("0x10d")].indexOf(_0x4bae42))return document.cookie=_0x6b8e39+a0_0x12b0("0xcc")+_0x39e700+a0_0x12b0("0x187"),_0x39e700}(),_0xf15cd8=/^((?!chrome|android|windows).)*safari/[a0_0x12b0("0x199")](_0x3967c7),_0x4d2701=/firefox/[a0_0x12b0("0x199")](_0x3967c7),_0x2ca5ec=/(msie 10\.)|(windows.*(rv:11|edge\/))/[a0_0x12b0("0x199")](_0x3967c7),_0x26fd7b=/version\/[0-8]{1}(\.[0-9]+)?(\.[0-9]+)? /[a0_0x12b0("0x199")](_0x3967c7),_0x50b0f6=/(iPhone|iPod|iPad).*AppleWebKit((?!.*Safari)|(?!Safari IPhoneAppVersion))/i[a0_0x12b0("0x199")](_0x3967c7),_0x1b3c63=!_0x26fd7b,_0x23cfa5=document&&-1<document[a0_0x12b0("0xf7")][a0_0x12b0("0x12e")]("wunderkind.co")||_0x238ebe[a0_0x12b0("0x222")],_0x25497e=window.attachEvent?"on":"",_0x349d36=a0_0x12b0(_0x25497e?"0x1b5":"0x43");_0x35adee[a0_0x12b0("0x1a7")]={ID_LENGTH:9,OBS_DOMAINS:[a0_0x12b0("0x1a6"),"page",a0_0x12b0("0x1b9")],REQ_TIMEOUT:6e3,SC_TIMEOUT:12e4,CLIENT_SPECIFIC_STORAGE_KEY:_0x30ade1,STORAGE_KEY:_0x49f4eb,GDPR_OPTOUT_IDENTIFIER:a0_0x12b0("0x14e"),CCPA_OPTOUT_IDENTIFIER:a0_0x12b0("0x16c"),ID_URL:_0x376129,USER_URL:_0x351615,EVENTS_URL:_0x348c52,PIXEL_URL:_0x3d4b08,LOG_URL:_0x1c9c6e,OPTOUT_URL:_0x1f25e0,PT1_ROUTE:a0_0x12b0("0x1c3"),PT3_ROUTE:a0_0x12b0("0x1e"),ID_SERVICE_TAG:"id-service",OPTOUT_SERVICE_TAG:a0_0x12b0("0xe1"),UA:_0x3967c7,HOST:_0x450961,ID_GEN_ERROR:"ID generation error",CB_ERROR:"Callback error",ID_GEN_FAILED:a0_0x12b0("0xdf"),GDPR_ERROR_MESSAGE:a0_0x12b0("0x83"),CCPA_ERROR_MESSAGE:"User is opted-out with CCPA",CCPA_ID_STAGE_ERROR:a0_0x12b0("0x1e9"),isSafari:_0xf15cd8,isFirefox:_0x4d2701,isMicrosoft:_0x2ca5ec,isBelowSafari8:_0x26fd7b,isIOSWebView:_0x50b0f6,OBS_EN:_0x1b3c63,IF_IS_OLD_IE:_0x25497e,EXPOSE_RESET:_0x23cfa5,LISTEN_FOR_EVENT:_0x349d36,INFO:a0_0x12b0("0x1b3"),ERROR:a0_0x12b0("0x212"),WARNING:a0_0x12b0("0x177"),UNAUTHORIZED:"Unauthorized",YOC_ERROR_MESSAGE:a0_0x12b0("0x46"),INVALID_TRAFFIC_MESSAGE:a0_0x12b0("0x21a"),MATCH_ANALYTICS:a0_0x12b0("0x122"),USAGE_ANALYTICS:a0_0x12b0("0x180"),EXPECTED_STATUS_CODES:{200:!0,401:!0,403:!0,422:!0},CONSENT_VENDOR_ID:256,CONSENT_PURPOSE_IDS:[1,2,4,5],IAB_CONSENT_MESSAGE:a0_0x12b0("0x1fd"),IAB_USP_API_CONSENT_MESSAGE:"User is opted-out with IAB USP API",BOUNCEX_APIKEY:a0_0x12b0("0x34"),BX_INFO_INTERVAL:500,BX_INFO_TIMEOUT:9e4,SESSION_STORAGE_LOAD:"sessionStorageLoad",THIRTEEN_MONTHS:395,FIVE_YEARS_AND_TWO_DAYS:1827,COOKIE_SECURE_ATTR:a0_0x12b0("0x9f"),WKND_TEST_PARAM_SET:_0x821e28,WKND_TESTING_SESSION_KEY:_0x57ca3a,ID_SYNC_FIRED_SESSION_KEY:_0x4b39b1,EXTERNAL_ID_SYNC_FIRED_SESSION_KEY:_0x4e807c,VARIATION_RATE:.05,VARIATION_TEST_URL_PARAM:a0_0x12b0("0xb5"),OBS_DOMAINS_VAR:["event",a0_0x12b0("0x12f")]}},function(_0x13f728,_0x3b00af,_0x172125){"use strict";var _0x1170bf=_0x172125(0),_0x2407aa={config:{gmEN:_0x1170bf[a0_0x12b0("0x170")],pixEN:_0x1170bf[a0_0x12b0("0x77")],graphEN:_0x1170bf[a0_0x12b0("0x82")]},apikey:_0x1170bf.APIKEY,cjsversion:_0x1170bf.SCRIPT_VERSION};_0x13f728[a0_0x12b0("0x1a7")].getLogValue=function(_0x513019){return _0x2407aa[_0x513019]},_0x13f728.exports[a0_0x12b0("0x1f5")]=function(_0x1b8d32,_0x309a10){return _0x1b8d32&&(_0x309a10?_0x2407aa[_0x309a10]=Object[a0_0x12b0("0x227")](_0x2407aa[_0x309a10]||{},_0x1b8d32):_0x2407aa=Object[a0_0x12b0("0x227")](_0x2407aa,_0x1b8d32)),_0x2407aa}},function(_0x4f31ae,_0x44573b,_0x142660){_0x4f31ae[a0_0x12b0("0x1a7")]=_0x142660(12)},function(_0x59811a,_0x546454){function _0x25541e(_0x3fcf2e,_0x36fee4,_0x2f383d,_0x594909,_0xdc540e,_0xa132a6,_0x5039f6){try{var _0x44686a=_0x3fcf2e[_0xa132a6](_0x5039f6),_0x5143d5=_0x44686a.value}catch(_0x8f636b){return void _0x2f383d(_0x8f636b)}_0x44686a[a0_0x12b0("0x217")]?_0x36fee4(_0x5143d5):Promise[a0_0x12b0("0xcd")](_0x5143d5)[a0_0x12b0("0x131")](_0x594909,_0xdc540e)}_0x59811a[a0_0x12b0("0x1a7")]=function(_0x46bc44){return function(){var _0x512a93=this,_0x30ab78=arguments;return new Promise((function(_0x3433b6,_0x4ef33a){var _0x13232b=_0x46bc44[a0_0x12b0("0x17a")](_0x512a93,_0x30ab78);function _0x22e2d6(_0x1eabbb){_0x25541e(_0x13232b,_0x3433b6,_0x4ef33a,_0x22e2d6,_0x4ef06a,"next",_0x1eabbb)}function _0x4ef06a(_0x46bb15){_0x25541e(_0x13232b,_0x3433b6,_0x4ef33a,_0x22e2d6,_0x4ef06a,a0_0x12b0("0x1c5"),_0x46bb15)}_0x22e2d6(void 0)}))}}},function(_0x1186af,_0x1a8ce5,_0x1242eb){"use strict";var _0x39683d=_0x1242eb(14),_0x80208f=_0x1242eb(3),_0x35724c=_0x1242eb(4),_0x2b8e3e=this;function _0xe1a3b8(_0x4ac40a,_0x2e3f00){(null==_0x2e3f00||_0x2e3f00>_0x4ac40a[a0_0x12b0("0x25")])&&(_0x2e3f00=_0x4ac40a[a0_0x12b0("0x25")]);for(var _0x4a511b=0,_0x3714c9=new Array(_0x2e3f00);_0x4a511b<_0x2e3f00;_0x4a511b++)_0x3714c9[_0x4a511b]=_0x4ac40a[_0x4a511b];return _0x3714c9}var _0x17cbc5=_0x1242eb(1),_0x59e5ae=_0x1242eb(2),_0x179c12=_0x1242eb(0),_0x2ecbd9=window[a0_0x12b0("0x147")]||window.crypto,_0x47ada2=_0x1242eb(9),_0x5dba16=_0x1242eb(6);function _0x569ae3(_0x193c4c,_0xd1b81d,_0x2afec1){return{metric:a0_0x12b0("0x18a"),endpoint:_0x193c4c,stage:_0xd1b81d,durationMs:_0x2afec1}}function _0x4c0723(_0x48b99b){Array.isArray(_0x48b99b)||(_0x48b99b=[_0x48b99b]);var _0x3ee0ea=_0x179c12[a0_0x12b0("0x191")][a0_0x12b0("0x144")]||"",_0x35b386=btoa(JSON.stringify(_0x48b99b)),_0xe77edf=a0_0x12b0("0x192")+_0x3ee0ea+a0_0x12b0("0xa4")+encodeURIComponent(_0x35b386),_0x2816a0=encodeURI(_0x17cbc5[a0_0x12b0("0x15c")]+_0xe77edf);window.bxgraph.meta[a0_0x12b0("0x200")]&&console.log("DEBUG report metrics, websiteid:",_0x3ee0ea,_0x48b99b),(new Image)[a0_0x12b0("0x1b4")]=_0x2816a0}function _0x191a96(_0x955ef2,_0x3bcfdc,_0x59daa6){var _0x6c0121=_0x3bcfdc?a0_0x12b0("0x68")==_typeof(_0x3bcfdc)?_0x3bcfdc:_0x3bcfdc.stack:"",_0x22ae1b="/cjs-logger?source="+_0x955ef2+a0_0x12b0("0x11")+_0x59daa6+a0_0x12b0("0x126")+encodeURIComponent(_0x6c0121)+a0_0x12b0("0x97")+(window[a0_0x12b0("0xae")][a0_0x12b0("0x58")]&&window[a0_0x12b0("0xae")][a0_0x12b0("0x58")][a0_0x12b0("0xec")]||"")+a0_0x12b0("0x1a0")+(window[a0_0x12b0("0xae")][a0_0x12b0("0x58")]&&window.bxgraph[a0_0x12b0("0x58")][a0_0x12b0("0xb4")]||"")+a0_0x12b0("0x1d1")+(_0x179c12[a0_0x12b0("0x191")][a0_0x12b0("0x144")]||"")+a0_0x12b0("0x215")+(_0x179c12.APIKEY||"")+a0_0x12b0("0x1a9")+(_0x59e5ae.getLogValue(a0_0x12b0("0x190"))||"")+a0_0x12b0("0x113")+_0x179c12.SCRIPT_VERSION,_0x15db59=encodeURI(_0x17cbc5[a0_0x12b0("0x15c")]+_0x22ae1b);window[a0_0x12b0("0xae")][a0_0x12b0("0x110")][a0_0x12b0("0x200")]?console[a0_0x12b0("0x140")](a0_0x12b0("0x75")[a0_0x12b0("0x36")](_0x59daa6,": ").concat(_0x955ef2," ")[a0_0x12b0("0x36")](_0x6c0121," ")[a0_0x12b0("0x36")](_0x15db59)):!_0x3bcfdc&&_0x59daa6!==_0x17cbc5[a0_0x12b0("0x1d9")]||(_0x59daa6!==_0x17cbc5.INFO&&window[a0_0x12b0("0xae")].meta[a0_0x12b0("0xc1")][a0_0x12b0("0x143")](_0x15db59),(new Image)[a0_0x12b0("0x1b4")]=_0x15db59)}function _0x42edc8(_0x3d0eae,_0x2e9bdc){var _0x4a5962=setTimeout(_0x2e9bdc,3e3);return function(_0xb141d){clearTimeout(_0x4a5962),_0x3d0eae(_0xb141d)}}_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x2b")]=Date[a0_0x12b0("0x9a")](),_0x1186af[a0_0x12b0("0x1a7")].stopwatch=function(_0x334011){var _0x5dfb3b={};_0x5dfb3b[_0x334011]=Date[a0_0x12b0("0x9a")]()-this[a0_0x12b0("0x2b")],_0x59e5ae.logObject(_0x5dfb3b,a0_0x12b0("0x1d6"))},_0x1186af[a0_0x12b0("0x1a7")].addEvent=function(_0x34c67d,_0x57ab57,_0x568035){_0x34c67d[_0x17cbc5.LISTEN_FOR_EVENT](_0x17cbc5.IF_IS_OLD_IE+_0x57ab57,_0x568035,!0)},_0x1186af[a0_0x12b0("0x1a7")].triggerClientCallback=function(_0x346207,_0x5f2c99,_0x5beebc){var _0x286383,_0x516e9d,_0x4f5adb,_0x4aba41=3<arguments[a0_0x12b0("0x25")]&&void 0!==arguments[3]?arguments[3]:{},_0x305d38=window;_0x5f2c99&&(_0x516e9d=(_0x286383=_0x5f2c99.split("."))[a0_0x12b0("0x60")](),_0x286383[a0_0x12b0("0xfc")]((function(_0x1fe655){_0x305d38=_0x305d38[_0x1fe655]})),a0_0x12b0("0xd6")==_typeof(_0x305d38[_0x516e9d])&&(_0x4f5adb=null!==_0x346207?null:this[a0_0x12b0("0xba")](_0x5beebc,_0x4aba41,_0x5f2c99),this[a0_0x12b0("0x70")](_0x305d38,_0x516e9d,_0x346207,_0x4f5adb)))},_0x1186af.exports[a0_0x12b0("0x70")]=function(_0x437f66,_0x54eacf,_0x4bea3e,_0x4481c2){if(!window[a0_0x12b0("0x1fe")]&&(Math[a0_0x12b0("0x124")]()<.01||_0x179c12[a0_0x12b0("0xbe")]||window[a0_0x12b0("0xae")].meta[a0_0x12b0("0x200")]))_0x437f66[_0x54eacf](_0x4bea3e,_0x4481c2);else try{_0x437f66[_0x54eacf](_0x4bea3e,_0x4481c2)}catch(_0xb9c0c3){}},_0x1186af[a0_0x12b0("0x1a7")].defineCallbackSchema=function(_0x3eadf9,_0x221fd3,_0x1db987){var _0x115600={IDs:{deviceID:_0x221fd3[a0_0x12b0("0x58")][a0_0x12b0("0xb4")],cookieID:_0x221fd3[a0_0x12b0("0x58")][a0_0x12b0("0xec")]},version:window.bxgraph[a0_0x12b0("0x110")][a0_0x12b0("0x4e")],warpspeed:_0x179c12[a0_0x12b0("0x67")]};switch(_0x1db987){case _0x179c12[a0_0x12b0("0x86")]:_0x221fd3[a0_0x12b0("0x15d")][a0_0x12b0("0xa5")]?(_0x115600[a0_0x12b0("0xb4")]="",_0x115600[a0_0x12b0("0x58")].cookieID="",_0x115600[a0_0x12b0("0x58")][a0_0x12b0("0xb4")]=""):_0x115600.deviceID=_0x221fd3[a0_0x12b0("0x58")][a0_0x12b0("0xb4")];break;case _0x179c12[a0_0x12b0("0x3b")]:_0x115600[a0_0x12b0("0x15d")]=_0x221fd3[a0_0x12b0("0x15d")],_0x179c12[a0_0x12b0("0xed")]&&_0x3eadf9&&(_0x115600[a0_0x12b0("0x10d")]=_0x3eadf9)}return _0x115600},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x1d")]=function(_0x198ee1,_0x16ed6c){try{this[a0_0x12b0("0x18d")](_0x198ee1,_0x16ed6c)}catch(_0x5e7a15){this[a0_0x12b0("0x5d")](_0x17cbc5[a0_0x12b0("0x121")],_0x5e7a15)}_0x198ee1!==_0x17cbc5.GDPR_ERROR_MESSAGE&&_0x198ee1!==_0x17cbc5[a0_0x12b0("0x2f")]&&_0x198ee1!==_0x17cbc5[a0_0x12b0("0x1b1")]&&this[a0_0x12b0("0x5d")](_0x17cbc5[a0_0x12b0("0x8d")],_0x198ee1)},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x142")]=function(_0x5e4726,_0x57d583,_0x38d766){var _0x15f124=this;return new Promise((function(_0x3b33c7){var _0x29e6fe=new XMLHttpRequest,_0x5a1dbb={tag:_0x57d583};_0x29e6fe[a0_0x12b0("0x1b6")]=function(){if(4===this[a0_0x12b0("0x1c")]){if(_0x17cbc5[a0_0x12b0("0x3c")][this.status])try{this[a0_0x12b0("0xe")]?_0x5a1dbb.data=JSON[a0_0x12b0("0x9e")](this[a0_0x12b0("0xe")]):this[a0_0x12b0("0x19a")]&&(_0x5a1dbb[a0_0x12b0("0x1a6")]={},_0x5a1dbb[a0_0x12b0("0x1a6")].error=this[a0_0x12b0("0x19a")])}catch(_0x2bb1d8){_0x15f124.reportWarning(a0_0x12b0("0x1b2")+_0x57d583,_0x2bb1d8)}_0x3b33c7(_0x5a1dbb)}},_0x29e6fe.ontimeout=function(){_0x57d583===_0x17cbc5[a0_0x12b0("0xc5")]?_0x5a1dbb[a0_0x12b0("0x1a6")]={error:a0_0x12b0("0x14a")}:(_0x15f124[a0_0x12b0("0x6b")]||_0x179c12[a0_0x12b0("0xbe")])&&_0x15f124.reportErrorMetric("req_timeout",_0x57d583),_0x3b33c7(_0x5a1dbb)},_0x29e6fe[a0_0x12b0("0x134")]=function(){_0x57d583===_0x17cbc5[a0_0x12b0("0xc5")]?_0x5a1dbb.data={error:"id-service-error"}:(_0x15f124[a0_0x12b0("0x6b")]||_0x179c12[a0_0x12b0("0xbe")])&&(_0x15f124[a0_0x12b0("0x1b8")](a0_0x12b0("0xd0")+_0x57d583),_0x15f124[a0_0x12b0("0x1cc")](a0_0x12b0("0xd"),_0x57d583)),_0x3b33c7(_0x5a1dbb)},_0x57d583===_0x17cbc5[a0_0x12b0("0xc5")]&&(_0x29e6fe[a0_0x12b0("0xa0")]=!0),_0x29e6fe[a0_0x12b0("0x125")](a0_0x12b0("0xcb"),_0x5e4726,!0),_0x29e6fe.timeout=_0x38d766,_0x29e6fe[a0_0x12b0("0x2e")]()}))},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0xbd")]=function(_0x1853b8,_0x15c992){var _0x50187b=new Promise((function(_0x8ba73a){setTimeout(_0x8ba73a[a0_0x12b0("0x23")](null,{}),_0x1853b8)}));return Promise.race([_0x15c992,_0x50187b])},_0x1186af.exports[a0_0x12b0("0x1b8")]=function(_0x1f45d3,_0x3cfce7){_0x191a96(1<arguments[a0_0x12b0("0x25")]&&void 0!==_0x3cfce7?_0x3cfce7:_0x17cbc5[a0_0x12b0("0x195")],_0x1f45d3,_0x17cbc5[a0_0x12b0("0x195")])},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x5d")]=function(_0xc95002,_0x315fe2){_0x191a96(_0xc95002,_0x315fe2,_0x17cbc5[a0_0x12b0("0x1d9")])},_0x1186af.exports[a0_0x12b0("0x1aa")]=function(_0x292a39,_0x5a3c1e){_0x191a96(_0x292a39,_0x5a3c1e,_0x17cbc5[a0_0x12b0("0x21e")])},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x178")]=function(){var _0x44c0f0;window.performance&&window.performance.getEntriesByType&&(_0x44c0f0=[],window[a0_0x12b0("0x128")][a0_0x12b0("0x209")](a0_0x12b0("0xe2")).filter((function(_0x30c6ba){return _0x30c6ba.name[a0_0x12b0("0x91")](a0_0x12b0("0x1ca"))||_0x30c6ba[a0_0x12b0("0xd5")][a0_0x12b0("0x91")](a0_0x12b0("0x98"))}))[a0_0x12b0("0xfc")]((function(_0x2d9bdc){var _0x597f2f,_0x36072c=(_0x597f2f=_0x2d9bdc[a0_0x12b0("0xd5")][a0_0x12b0("0x122")](/^https?:\/\/([^/?#]+)(?:[/?#]|$)/i))&&_0x597f2f[1],_0x54a9f5=_0x2d9bdc[a0_0x12b0("0x33")]-_0x2d9bdc[a0_0x12b0("0xb6")];0<_0x54a9f5&&_0x44c0f0.push(_0x569ae3(_0x36072c,"connect",_0x54a9f5));var _0x489c89=_0x2d9bdc[a0_0x12b0("0x202")]-_0x2d9bdc[a0_0x12b0("0xfb")];0<_0x489c89&&_0x44c0f0[a0_0x12b0("0x143")](_0x569ae3(_0x36072c,a0_0x12b0("0x42"),_0x489c89)),0<_0x2d9bdc.duration&&_0x44c0f0[a0_0x12b0("0x143")](_0x569ae3(_0x36072c,a0_0x12b0("0xe6"),_0x2d9bdc.duration));var _0x4cb718,_0x7b3abe,_0x270a31,_0x1ced8a=_0x2d9bdc[a0_0x12b0("0x61")]-_0x2d9bdc[a0_0x12b0("0x1da")];0<_0x1ced8a&&_0x44c0f0[a0_0x12b0("0x143")](_0x569ae3(_0x36072c,a0_0x12b0("0x1c3"),_0x1ced8a)),0<_0x2d9bdc[a0_0x12b0("0x1c8")]&&(_0x4cb718=(_0x2d9bdc.redirectStart||_0x2d9bdc[a0_0x12b0("0x5a")])-_0x2d9bdc[a0_0x12b0("0x1c8")],_0x44c0f0[a0_0x12b0("0x143")](_0x569ae3(_0x36072c,a0_0x12b0("0x15f"),_0x4cb718))),0<_0x2d9bdc.responseStart&&(_0x7b3abe=_0x2d9bdc[a0_0x12b0("0xdc")]-_0x2d9bdc[a0_0x12b0("0x1ee")],_0x44c0f0[a0_0x12b0("0x143")](_0x569ae3(_0x36072c,a0_0x12b0("0x223"),_0x7b3abe))),0<_0x2d9bdc[a0_0x12b0("0x7e")]&&(_0x270a31=_0x2d9bdc[a0_0x12b0("0x7e")]-_0x2d9bdc[a0_0x12b0("0x3f")],_0x44c0f0[a0_0x12b0("0x143")](_0x569ae3(_0x36072c,a0_0x12b0("0xce"),_0x270a31)))})),0<_0x44c0f0[a0_0x12b0("0x25")]&&_0x4c0723(_0x44c0f0))},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x1cc")]=function(_0x51b73,_0x37a6fb){var _0xddfbc4,_0x46ce44,_0x2f90c5;window[a0_0x12b0("0xae")][a0_0x12b0("0x110")][a0_0x12b0("0x200")]&&console[a0_0x12b0("0x140")]("DEBUG error metric, type:",_0x51b73,_0x37a6fb),_0x4c0723((_0xddfbc4=_0x51b73,_0x46ce44=_0x37a6fb,_0x2f90c5=1,{metric:a0_0x12b0("0x10a"),type:_0xddfbc4,subType:_0x46ce44,cnt:_0x2f90c5=_0x2f90c5||1}))},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x8e")]=_0x35724c(_0x80208f[a0_0x12b0("0xa")]((function _0x436f69(){return _0x80208f.wrap((function(_0x1c7a95){for(;;)switch(_0x1c7a95.prev=_0x1c7a95[a0_0x12b0("0x141")]){case 0:if(!_0x179c12[a0_0x12b0("0x67")]===_0x17cbc5[a0_0x12b0("0x16a")])throw new Error("not bx site");_0x1c7a95[a0_0x12b0("0x141")]=2;break;case 2:return _0x1c7a95[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),new Promise((function(_0x585c20,_0x1d78d9){var _0x2dd676=setInterval((function(){window[a0_0x12b0("0x11f")]&&window[a0_0x12b0("0x11f")][a0_0x12b0("0x10d")]&&window[a0_0x12b0("0x11f")][a0_0x12b0("0x10d")][a0_0x12b0("0x1ec")]&&window[a0_0x12b0("0x11f")].cookie[a0_0x12b0("0x90")]&&(clearInterval(_0x2dd676),_0x585c20({bxdid:window[a0_0x12b0("0x11f")][a0_0x12b0("0x10d")][a0_0x12b0("0x1ec")],bxvid:window[a0_0x12b0("0x11f")][a0_0x12b0("0x10d")][a0_0x12b0("0x90")],bxpageviewid:window[a0_0x12b0("0x11f")][a0_0x12b0("0x10d")][a0_0x12b0("0x18")],bxsequenceid:window[a0_0x12b0("0x11f")].cookie.sid}))}),_0x17cbc5[a0_0x12b0("0x1a2")]);setTimeout((function(){clearInterval(_0x2dd676),_0x1d78d9(a0_0x12b0("0x8b"))}),_0x17cbc5.BX_INFO_TIMEOUT)})));case 3:case a0_0x12b0("0x219"):return _0x1c7a95[a0_0x12b0("0x32")]()}}),_0x436f69)}))),_0x1186af[a0_0x12b0("0x1a7")].isOnePercentRoll=Math[a0_0x12b0("0x124")]()<.01,_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x167")]=function(_0x4dab2f){try{return btoa(atob(_0x4dab2f))===_0x4dab2f}catch(_0x26ab5e){return!1}},_0x1186af[a0_0x12b0("0x1a7")].isOptedOutViaGDPRConsent=function(){var _0x210cd9=this;return new Promise((function(_0x24c17e,_0x1de79c){_0x24c17e=_0x42edc8(_0x24c17e,(function(){window[a0_0x12b0("0x11f")]&&window[a0_0x12b0("0x11f")][a0_0x12b0("0x143")]&&window[a0_0x12b0("0x11f")].push(["debug",{code:"Callback Not Received",message:a0_0x12b0("0x17b")}]),_0x1de79c(a0_0x12b0("0xa3"))}));try{_0x210cd9[a0_0x12b0("0x6b")]&&_0x210cd9.reportInfo("iab consent: "+window[a0_0x12b0("0x183")].hostname)}catch(_0x563a3d){}window[a0_0x12b0("0x1a4")](a0_0x12b0("0x1f3"),[_0x17cbc5.CONSENT_VENDOR_ID],(function(_0x519f42,_0x350cd7){if(_0x350cd7&&("true"===_0x519f42[a0_0x12b0("0x63")]||!0===_0x519f42[a0_0x12b0("0x63")])&&_0x519f42.vendorConsents){if(!1===_0x519f42[a0_0x12b0("0x28")][_0x17cbc5.CONSENT_VENDOR_ID])return _0x24c17e(!0);var _0x3cda93,_0x1c09de=function(_0x3ecfe2,_0xf38e17){var _0x5efc0e;if(a0_0x12b0("0x208")==("undefined"==typeof Symbol?"undefined":_typeof(Symbol))||null==_0x3ecfe2[Symbol[a0_0x12b0("0x1f0")]]){if(Array.isArray(_0x3ecfe2)||(_0x5efc0e=function(_0x5c655d,_0x24b8af){if(_0x5c655d){if(a0_0x12b0("0x68")==_typeof(_0x5c655d))return _0xe1a3b8(_0x5c655d,void 0);var _0x5e78e7=Object[a0_0x12b0("0x72")][a0_0x12b0("0x166")][a0_0x12b0("0x22b")](_0x5c655d).slice(8,-1);return a0_0x12b0("0xb8")===_0x5e78e7&&_0x5c655d[a0_0x12b0("0xc3")]&&(_0x5e78e7=_0x5c655d[a0_0x12b0("0xc3")].name),a0_0x12b0("0x197")===_0x5e78e7||"Set"===_0x5e78e7?Array[a0_0x12b0("0x103")](_0x5c655d):a0_0x12b0("0x19d")===_0x5e78e7||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[a0_0x12b0("0x199")](_0x5e78e7)?_0xe1a3b8(_0x5c655d,void 0):void 0}}(_0x3ecfe2))){_0x5efc0e&&(_0x3ecfe2=_0x5efc0e);var _0x1f18e1=0,_0x5d78fb=function(){};return{s:_0x5d78fb,n:function(){return _0x1f18e1>=_0x3ecfe2.length?{done:!0}:{done:!1,value:_0x3ecfe2[_0x1f18e1++]}},e:function(_0x2e24f5){throw _0x2e24f5},f:_0x5d78fb}}throw new TypeError(a0_0x12b0("0x1f2"))}var _0x12b427,_0x130462=!0,_0x2d126f=!1;return{s:function(){_0x5efc0e=_0x3ecfe2[Symbol[a0_0x12b0("0x1f0")]]()},n:function(){var _0x5041f9=_0x5efc0e[a0_0x12b0("0x141")]();return _0x130462=_0x5041f9[a0_0x12b0("0x217")],_0x5041f9},e:function(_0x47540d){_0x2d126f=!0,_0x12b427=_0x47540d},f:function(){try{_0x130462||null==_0x5efc0e.return||_0x5efc0e.return()}finally{if(_0x2d126f)throw _0x12b427}}}}(_0x17cbc5.CONSENT_PURPOSE_IDS);try{for(_0x1c09de.s();!(_0x3cda93=_0x1c09de.n())[a0_0x12b0("0x217")];){var _0x2a58fb=_0x3cda93[a0_0x12b0("0x114")];if(!1===_0x519f42.purposeConsents[_0x2a58fb])return _0x24c17e(!0)}}catch(_0x4f8808){_0x1c09de.e(_0x4f8808)}finally{_0x1c09de.f()}}return _0x24c17e(!1)}))}))},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x21b")]=_0x35724c(_0x80208f[a0_0x12b0("0xa")]((function _0x2743d3(){return _0x80208f[a0_0x12b0("0x229")]((function(_0x5d8a55){for(;;)switch(_0x5d8a55.prev=_0x5d8a55[a0_0x12b0("0x141")]){case 0:return _0x5d8a55[a0_0x12b0("0x1c4")]("return",new Promise((function(_0x343b51,_0x3a6be3){_0x343b51=_0x42edc8(_0x343b51,(function(){window[a0_0x12b0("0x11f")]&&window[a0_0x12b0("0x11f")][a0_0x12b0("0x143")]&&window.bouncex[a0_0x12b0("0x143")]([a0_0x12b0("0x200"),{code:a0_0x12b0("0xa3"),message:a0_0x12b0("0x226")}]),_0x3a6be3(a0_0x12b0("0xa3"))})),a0_0x12b0("0xd6")==_typeof(window[a0_0x12b0("0x1ad")])?window[a0_0x12b0("0x1ad")](a0_0x12b0("0xb1"),1,(function(_0x374c78,_0x2be10b){_0x2be10b&&_0x2b8e3e[a0_0x12b0("0x1de")](_0x374c78)?_0x47ada2[a0_0x12b0("0x2d")](!1,!0)[a0_0x12b0("0x131")]((function(_0x107c0a){var _0x2714cf,_0x1b9ead,_0x4bc957,_0x36973b=_0x179c12[a0_0x12b0("0x191")]&&_0x179c12[a0_0x12b0("0x191")][a0_0x12b0("0x144")]?_0x179c12[a0_0x12b0("0x191")][a0_0x12b0("0x144")]:"";_0x2714cf=_0x107c0a[a0_0x12b0("0x58")][a0_0x12b0("0xb4")],_0x1b9ead=_0x36973b,_0x4bc957=_0x374c78[a0_0x12b0("0x1a3")],_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x142")](_0x17cbc5[a0_0x12b0("0xb7")]+a0_0x12b0("0x19c")[a0_0x12b0("0x36")](_0x2714cf,a0_0x12b0("0x1ab"))[a0_0x12b0("0x36")](_0x1b9ead,a0_0x12b0("0x207"))[a0_0x12b0("0x36")](_0x4bc957),_0x17cbc5[a0_0x12b0("0xbb")],_0x17cbc5.REQ_TIMEOUT),_0x5dba16[a0_0x12b0("0xd2")](_0x17cbc5[a0_0x12b0("0x74")]),_0x343b51(!0)})).catch((function(_0x337fa1){_0x2b8e3e[a0_0x12b0("0x5d")](_0x17cbc5[a0_0x12b0("0x93")],_0x337fa1),_0x343b51(!1)})):_0x343b51(!1)})):_0x343b51(!1)})));case 1:case a0_0x12b0("0x219"):return _0x5d8a55[a0_0x12b0("0x32")]()}}),_0x2743d3)}))),_0x1186af.exports[a0_0x12b0("0x1de")]=function(_0x537762){if(_0x537762&&_0x537762[a0_0x12b0("0x1a3")]){var _0x378417=_0x537762[a0_0x12b0("0x1a3")].split(""),_0x1d9f18=_0x39683d(_0x378417,3)[2];return _0x1d9f18&&"Y"===_0x1d9f18.toUpperCase()}return!1},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0x17c")]=function(){var _0x4001fe="",_0x15fd30=a0_0x12b0("0x1fc");return Array.from(_0x2ecbd9[a0_0x12b0("0x7f")](new Uint8Array(15)))[a0_0x12b0("0xfc")]((function(_0x4bf9dc){_0x4001fe+=_0x15fd30[a0_0x12b0("0x106")](_0x4bf9dc%_0x15fd30[a0_0x12b0("0x25")])})),_0x4001fe},_0x1186af[a0_0x12b0("0x1a7")][a0_0x12b0("0xde")]=function(_0x84b8bf,_0x5e3813,_0x4740f7){var _0x4e6b4f=_0x59e5ae[a0_0x12b0("0x5c")](a0_0x12b0("0x190"))||"";(new Image)[a0_0x12b0("0x1b4")]=""[a0_0x12b0("0x36")](_0x17cbc5[a0_0x12b0("0xc")],a0_0x12b0("0x1ed")).concat(_0x84b8bf,a0_0x12b0("0x99")).concat(_0x4740f7,a0_0x12b0("0x97")).concat(_0x5e3813[a0_0x12b0("0x58")][a0_0x12b0("0xec")],"&deviceID=")[a0_0x12b0("0x36")](_0x5e3813[a0_0x12b0("0x58")][a0_0x12b0("0xb4")],a0_0x12b0("0x56"))[a0_0x12b0("0x36")](_0x179c12[a0_0x12b0("0x67")],"&externalID=").concat(_0x179c12[a0_0x12b0("0x6c")],"&optOutNAI=").concat(_0x5e3813[a0_0x12b0("0x15d")][a0_0x12b0("0xa5")],a0_0x12b0("0x1a9"))[a0_0x12b0("0x36")](_0x4e6b4f)},_0x1186af.exports[a0_0x12b0("0xb2")]=function(){var _0x41485c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:395;return new Date((new Date)[a0_0x12b0("0x17")]()+864e5*_0x41485c)[a0_0x12b0("0x216")]()}},function(_0x4dc0e6,_0x4b8dee,_0x292a74){"use strict";var _0x2eebd2=_0x292a74(1),_0x2aad28=_0x292a74(0),_0x459cfb=_0x292a74(5),_0x32e2de=_0x292a74(2);_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x132")]=function(_0x80e909,_0x40ed6f,_0x9d539a){document[a0_0x12b0("0x10d")]="".concat(_0x80e909,"=").concat(this[a0_0x12b0("0x55")](_0x40ed6f),"; expires=")[a0_0x12b0("0x36")](_0x459cfb[a0_0x12b0("0xb2")](_0x9d539a),a0_0x12b0("0x168"))[a0_0x12b0("0x36")](_0x2eebd2[a0_0x12b0("0x3e")],a0_0x12b0("0x118"))+_0x2eebd2.COOKIE_SECURE_ATTR},_0x4dc0e6.exports._getCookie=function(_0x39c19d){var _0x7f6b78=(document[a0_0x12b0("0x10d")][a0_0x12b0("0x122")](a0_0x12b0("0xd9")+_0x39c19d+"\\s*=\\s*([^;]+)")||[])[2];if(_0x7f6b78)return this._decodeForRetrevial(_0x7f6b78)},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x10c")]=function(_0x45588a){document.cookie=""[a0_0x12b0("0x36")](_0x45588a,a0_0x12b0("0x1fb"))[a0_0x12b0("0x36")](_0x2eebd2[a0_0x12b0("0x3e")],a0_0x12b0("0x31"))},_0x4dc0e6.exports._getLocalStorage=function(_0x2a3323){try{return this[a0_0x12b0("0x13c")](window[a0_0x12b0("0xf4")]&&window.localStorage[_0x2a3323])}catch(_0x1d3670){}},_0x4dc0e6.exports[a0_0x12b0("0x1e1")]=function(_0x56878f,_0x3ad9ec){try{window[a0_0x12b0("0xf4")]&&(window.localStorage[_0x56878f]=_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x55")](_0x3ad9ec))}catch(_0x371d7f){}},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x3")]=function(_0x23f34e){try{return this[a0_0x12b0("0x13c")](window[a0_0x12b0("0x157")]&&window[a0_0x12b0("0x157")][_0x23f34e])}catch(_0x590ed9){}},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x85")]=function(_0x14ccbb,_0x1738e3){try{window[a0_0x12b0("0x157")]&&(window[a0_0x12b0("0x157")][_0x14ccbb]=this[a0_0x12b0("0x55")](_0x1738e3))}catch(_0xf44d33){}},_0x4dc0e6.exports._encodeForStorage=function(_0x5a3a2a){try{return encodeURIComponent(btoa(JSON[a0_0x12b0("0x41")](_0x5a3a2a)))}catch(_0x378498){}},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x13c")]=function(_0x30f97d){var _0x183a47;try{_0x183a47=decodeURIComponent(_0x30f97d)}catch(_0x382168){return JSON[a0_0x12b0("0x9e")](_0x30f97d)}return JSON[a0_0x12b0("0x9e")](_0x459cfb[a0_0x12b0("0x167")](_0x183a47)?atob(_0x183a47):_0x183a47)},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x48")]=function(_0x286511,_0x3ced80){_0x286511&&_0x286511[a0_0x12b0("0x35")]&&_0x286511[a0_0x12b0("0x58")]&&(this[a0_0x12b0("0x132")](_0x2eebd2[a0_0x12b0("0x65")],_0x286511[a0_0x12b0("0x35")],_0x2eebd2[a0_0x12b0("0x5")]),this._setLocalStorage(_0x2eebd2[a0_0x12b0("0x181")],{masterIDs:_0x286511[a0_0x12b0("0x35")],IDs:_0x286511[a0_0x12b0("0x58")]}),!_0x2aad28[a0_0x12b0("0xed")]&&_0x3ced80&&this[a0_0x12b0("0x85")](_0x2eebd2[a0_0x12b0("0x181")],_0x286511))},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x13b")]=function(){this[a0_0x12b0("0x85")](_0x2eebd2.WKND_TESTING_SESSION_KEY,"1")},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0xfd")]=function(){return!!this[a0_0x12b0("0x3")](_0x2eebd2[a0_0x12b0("0x194")])},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x4d")]=function(){this[a0_0x12b0("0x85")](_0x2eebd2[a0_0x12b0("0x186")],"1")},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x196")]=function(){return!!this._getSessionStorage(_0x2eebd2.ID_SYNC_FIRED_SESSION_KEY)},_0x4dc0e6.exports[a0_0x12b0("0x165")]=function(){this._setSessionStorage(_0x2eebd2.EXTERNAL_ID_SYNC_FIRED_SESSION_KEY,"1")},_0x4dc0e6.exports[a0_0x12b0("0x1")]=function(){return!!this[a0_0x12b0("0x3")](_0x2eebd2.EXTERNAL_ID_SYNC_FIRED_SESSION_KEY)},_0x4dc0e6.exports.storeOptOut=function(_0x7e23a1){this[a0_0x12b0("0x132")](_0x7e23a1,"1",_0x2eebd2.FIVE_YEARS_AND_TWO_DAYS),this[a0_0x12b0("0x1e1")](_0x7e23a1,"1")},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x73")]=function(_0x595862,_0x5b7ffe){this[a0_0x12b0("0x1e1")](a0_0x12b0("0x49"),_0x595862),this[a0_0x12b0("0x1e1")](a0_0x12b0("0x228"),_0x5b7ffe)},_0x4dc0e6[a0_0x12b0("0x1a7")].getVariationStatus=function(){return{ID:this[a0_0x12b0("0xe4")]("variationID")||"",inVariation:this[a0_0x12b0("0xe4")](a0_0x12b0("0x228"))||!1}},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x189")]=function(){var _0x273dfb;try{_0x273dfb=this._getSessionStorage(_0x2eebd2[a0_0x12b0("0x181")]),_0x459cfb[a0_0x12b0("0x138")](_0x2eebd2[a0_0x12b0("0x78")])}catch(_0xb0c75a){Math[a0_0x12b0("0x124")]()<.001&&_0x459cfb[a0_0x12b0("0x5d")](a0_0x12b0("0x218"),_0xb0c75a)}if(_0x273dfb){try{(window[a0_0x12b0("0xae")][a0_0x12b0("0x110")][a0_0x12b0("0x200")]||_0x2aad28[a0_0x12b0("0xbe")]||_0x459cfb[a0_0x12b0("0x6b")])&&_0x459cfb[a0_0x12b0("0x1b8")](_0x2eebd2[a0_0x12b0("0x78")]+": "+_0x32e2de[a0_0x12b0("0x1f5")]()[a0_0x12b0("0x1d6")][a0_0x12b0("0x4b")])}catch(_0x326768){_0x459cfb.reportError(a0_0x12b0("0xc9"),_0x326768)}return{masterIDs:_0x273dfb[a0_0x12b0("0x35")],IDs:_0x273dfb[a0_0x12b0("0x58")],info:_0x273dfb[a0_0x12b0("0x15d")]}}return _0x273dfb},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x20a")]=function(_0x3d85bb){return this[a0_0x12b0("0x1ff")](_0x3d85bb)||this[a0_0x12b0("0xe4")](_0x3d85bb)||!1},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x172")]=function(){return this._getLocalStorage(_0x2eebd2[a0_0x12b0("0x181")])},_0x4dc0e6[a0_0x12b0("0x1a7")][a0_0x12b0("0x71")]=function(){var _0x393238=this[a0_0x12b0("0x1ff")](_0x2eebd2[a0_0x12b0("0x65")]),_0x34e929=this._getLocalStorage(_0x2eebd2[a0_0x12b0("0x181")]);return _0x34e929&&_0x34e929[a0_0x12b0("0x35")]&&(_0x34e929=_0x34e929[a0_0x12b0("0x35")]),_0x32e2de[a0_0x12b0("0x1f5")]({cookie:!!_0x393238,LS:!!_0x34e929},a0_0x12b0("0x8a")),_0x393238||_0x34e929||void 0}},function(_0x2f60f9,_0x107ebc,_0x557db7){var _0x5bb6dd=_0x557db7(8);_0x2f60f9.exports=function(_0x118e5a,_0x521994){if(_0x118e5a){if("string"==typeof _0x118e5a)return _0x5bb6dd(_0x118e5a,_0x521994);var _0x3ce4b9=Object.prototype[a0_0x12b0("0x166")][a0_0x12b0("0x22b")](_0x118e5a)[a0_0x12b0("0x81")](8,-1);return a0_0x12b0("0xb8")===_0x3ce4b9&&_0x118e5a[a0_0x12b0("0xc3")]&&(_0x3ce4b9=_0x118e5a[a0_0x12b0("0xc3")][a0_0x12b0("0xd5")]),"Map"===_0x3ce4b9||a0_0x12b0("0x1bc")===_0x3ce4b9?Array[a0_0x12b0("0x103")](_0x118e5a):a0_0x12b0("0x19d")===_0x3ce4b9||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_0x3ce4b9)?_0x5bb6dd(_0x118e5a,_0x521994):void 0}}},function(_0x4af102,_0x46e9ad){_0x4af102[a0_0x12b0("0x1a7")]=function(_0xc65b09,_0x247f68){(null==_0x247f68||_0x247f68>_0xc65b09[a0_0x12b0("0x25")])&&(_0x247f68=_0xc65b09.length);for(var _0x4b546f=0,_0x343341=new Array(_0x247f68);_0x4b546f<_0x247f68;_0x4b546f++)_0x343341[_0x4b546f]=_0xc65b09[_0x4b546f];return _0x343341}},function(_0xf2a9db,_0x113c94,_0x5bc6cd){"use strict";var _0x4b7ba0,_0x260128,_0x51c932,_0x14bc88=_0x5bc6cd(3),_0x366702=_0x5bc6cd(18),_0x48c6f4=_0x5bc6cd(4),_0x172dac=_0x5bc6cd(10),_0x205c2c=_0x5bc6cd(5),_0x1ece2a=_0x5bc6cd(1),_0x197d2a=_0x5bc6cd(0),_0x384a51=_0x5bc6cd(2),_0x44743e=_0x5bc6cd(6);_0xf2a9db.exports[a0_0x12b0("0x2d")]=(_0x51c932=_0x48c6f4(_0x14bc88.mark((function _0xde3fc0(){var _0x2e33a8,_0xc8196e,_0x4c57ce,_0x3c47c6,_0x428951,_0x111786,_0x225097,_0x3518af,_0x866ad3,_0x1e01b7,_0x62ccef,_0x2c3e2a,_0x1aab29=arguments;return _0x14bc88[a0_0x12b0("0x229")]((function(_0x16ca13){for(;;)switch(_0x16ca13[a0_0x12b0("0x12a")]=_0x16ca13[a0_0x12b0("0x141")]){case 0:for(_0x2e33a8=0<_0x1aab29[a0_0x12b0("0x25")]&&void 0!==_0x1aab29[0]&&_0x1aab29[0],_0xc8196e=1<_0x1aab29[a0_0x12b0("0x25")]?_0x1aab29[1]:void 0,_0x4c57ce=[],_0x205c2c[a0_0x12b0("0x138")]("IDStageStart"),_0x4c57ce[a0_0x12b0("0x143")](_0x44743e[a0_0x12b0("0x71")]()),_0x3c47c6=function(_0x2a4563){if(_0x2a4563===new URLSearchParams(window.location[a0_0x12b0("0xd4")])[a0_0x12b0("0x179")](_0x1ece2a.VARIATION_TEST_URL_PARAM))return{ID:_0x2a4563,inVariation:!0,varID:"1"+_0x2a4563};var _0x51574d=_0x44743e[a0_0x12b0("0x1e8")]();return _0x51574d.ID!==_0x2a4563&&(_0x51574d.ID=_0x2a4563,_0x51574d[a0_0x12b0("0x228")]=Math[a0_0x12b0("0x124")]()<=_0x1ece2a[a0_0x12b0("0x119")],_0x44743e.storeVariationStatus(_0x2a4563,_0x51574d[a0_0x12b0("0x228")])),_0x51574d[a0_0x12b0("0x5f")]=(!0===_0x51574d.inVariation?"1":"0")+_0x2a4563,_0x51574d}(a0_0x12b0("0xeb")),_0x428951=[],_0x111786=0;_0x111786<_0x1ece2a[a0_0x12b0("0x1c7")][a0_0x12b0("0x25")];_0x111786++)_0x428951[a0_0x12b0("0x143")]({domain:_0x1ece2a.OBS_DOMAINS[_0x111786],field:"ID2"});if(_0x3c47c6[a0_0x12b0("0x228")])for(_0x225097=0;_0x225097<_0x1ece2a[a0_0x12b0("0xc6")][a0_0x12b0("0x25")];_0x225097++)_0x428951[a0_0x12b0("0x143")]({domain:_0x1ece2a.OBS_DOMAINS_VAR[_0x225097],field:a0_0x12b0("0x1bb")});return!_0x1ece2a[a0_0x12b0("0x1c9")]&&!_0x197d2a[a0_0x12b0("0x136")]||_0x44743e.isWkndTestingEnabled()||_0x4c57ce[a0_0x12b0("0x143")](_0x205c2c[a0_0x12b0("0xbd")](4e3,this[a0_0x12b0("0x2a")](_0x428951))),_0x1ece2a[a0_0x12b0("0x210")]||_0x1ece2a[a0_0x12b0("0x9")]||_0x4c57ce[a0_0x12b0("0x143")](_0x205c2c[a0_0x12b0("0xbd")](2e3,function _0x556cdb(){var _0x45e405=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],_0x5ad282={net:[]};function _0xe8a5b8(_0x463968){a0_0x12b0("0xaf")!==_0x463968&&-1===_0x5ad282[a0_0x12b0("0x21d")][a0_0x12b0("0x12e")](_0x463968)&&_0x5ad282[a0_0x12b0("0x21d")][a0_0x12b0("0x143")](_0x463968[a0_0x12b0("0x148")](/:0:/g,"::"))}function _0xe879e5(_0x1982e){_0x1982e[a0_0x12b0("0x1e2")]("\r\n")[a0_0x12b0("0xfc")]((function(_0x29286a){var _0x3db129;~_0x29286a[a0_0x12b0("0x12e")](a0_0x12b0("0xa6"))?"host"===(_0x3db129=_0x29286a.split(" "))[7]&&_0xe8a5b8(_0x3db129[4]):~_0x29286a[a0_0x12b0("0x12e")]("c=")&&_0xe8a5b8(_0x29286a[a0_0x12b0("0x1e2")](" ")[2])}))}return new Promise((function(_0x20b7a4){if(window[a0_0x12b0("0x1f9")]){var _0x29af17=new(window[a0_0x12b0("0x1f9")])({gatherPolicy:a0_0x12b0("0x145"),iceServers:[]});_0x29af17[a0_0x12b0("0x134")]=function(_0xf1a770){_0x205c2c.reportWarning(a0_0x12b0("0x1f7"),_0xf1a770)},_0x29af17[a0_0x12b0("0x185")]=function(_0x1995a7){var _0x20f09b=_0x1995a7.candidate.ip;_0x20f09b?_0xe8a5b8(_0x20f09b):(_0x205c2c[a0_0x12b0("0x138")](a0_0x12b0("0x18b")),_0x20b7a4(_0x5ad282))}}else{var _0x36c181=window.webkitRTCPeerConnection||window.RTCPeerConnection||window[a0_0x12b0("0x4a")];_0x36c181||_0x20b7a4(_0x5ad282);try{var _0x5ae8e3=new _0x36c181({iceServers:[]});_0x5ae8e3[a0_0x12b0("0x152")]("",{reliable:!1}),_0x5ae8e3[a0_0x12b0("0x134")]=function(_0x2930d1){_0x205c2c[a0_0x12b0("0x5d")]("getNet-onerror",_0x2930d1)},_0x5ae8e3[a0_0x12b0("0x176")]=function(_0xba611f){var _0x2cf01f=_0xba611f[a0_0x12b0("0x6f")];_0x2cf01f?_0xe879e5("a="+_0x2cf01f[a0_0x12b0("0x6f")]):a0_0x12b0("0xf6")===_0x5ae8e3.iceGatheringState&&(0===_0x5ad282[a0_0x12b0("0x21d")][a0_0x12b0("0x25")]&&_0x45e405?_0x20b7a4(_0x556cdb(!1)):(_0x205c2c.stopwatch(a0_0x12b0("0x18b")),_0x5ad282[a0_0x12b0("0x21d")]=_0x5ad282[a0_0x12b0("0x21d")][a0_0x12b0("0x153")](","),_0x20b7a4(_0x5ad282)))},_0x5ae8e3[a0_0x12b0("0x1d0")]((function(_0x1e2a7a){_0xe879e5(_0x1e2a7a.sdp),_0x5ae8e3.setLocalDescription(_0x1e2a7a)}),(function(){}))}catch(_0x3751f1){}}}))}())),_0x4c57ce.push(_0x205c2c[a0_0x12b0("0xbd")](1e3,_0x172dac[a0_0x12b0("0x20e")](_0xc8196e))),_0x16ca13[a0_0x12b0("0x141")]=14,Promise[a0_0x12b0("0x145")](_0x4c57ce);case 14:return _0x3518af=_0x16ca13[a0_0x12b0("0x158")],_0x866ad3=_0x3518af[_0x3518af[a0_0x12b0("0x25")]-1],_0x1e01b7=Object[a0_0x12b0("0x227")].apply(Object,[{}][a0_0x12b0("0x36")](_0x366702(_0x3518af))),_0x3c47c6[a0_0x12b0("0x1a6")]=void 0!==_0x1e01b7[a0_0x12b0("0x1bb")]?{obs5IDs:_0x1e01b7[a0_0x12b0("0x1bb")]}:void 0,_0x205c2c[a0_0x12b0("0x138")](a0_0x12b0("0xa7")),_0x16ca13[a0_0x12b0("0x141")]=21,_0x205c2c[a0_0x12b0("0xbd")](7e3,this[a0_0x12b0("0x1b")](_0x1e01b7,_0x3c47c6,_0x2e33a8));case 21:if(_0x62ccef=_0x16ca13.sent,_0x2c3e2a=_0x62ccef.FP||_0x62ccef[a0_0x12b0("0x15d")]||{},_0x866ad3[a0_0x12b0("0xe0")]&&_0x866ad3[a0_0x12b0("0xe0")][a0_0x12b0("0x1cf")]&&delete _0x866ad3.agent[a0_0x12b0("0x1cf")],_0x62ccef.info=Object[a0_0x12b0("0x227")](_0x866ad3,_0x2c3e2a),_0x62ccef[a0_0x12b0("0x58")]={deviceID:_0x62ccef[a0_0x12b0("0xb4")],cookieID:_0x62ccef[a0_0x12b0("0xec")]},delete _0x62ccef[a0_0x12b0("0xb4")],delete _0x62ccef[a0_0x12b0("0xec")],delete _0x62ccef.FP,_0x62ccef[a0_0x12b0("0x58")][a0_0x12b0("0xb4")]){_0x16ca13[a0_0x12b0("0x141")]=32;break}throw{customErrorMessage:_0x62ccef[a0_0x12b0("0x18f")]?_0x62ccef[a0_0x12b0("0x18f")]:_0x62ccef[a0_0x12b0("0x15d")].optOutGDPR?_0x1ece2a[a0_0x12b0("0x137")]:_0x62ccef[a0_0x12b0("0x15d")][a0_0x12b0("0x21")]?_0x1ece2a.YOC_ERROR_MESSAGE:_0x62ccef[a0_0x12b0("0x15d")][a0_0x12b0("0x174")]?_0x1ece2a[a0_0x12b0("0x1b1")]:_0x1ece2a[a0_0x12b0("0xfe")]};case 32:return _0x16ca13[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),_0x62ccef);case 33:case a0_0x12b0("0x219"):return _0x16ca13.stop()}}),_0xde3fc0,this)}))),function(){return _0x51c932[a0_0x12b0("0x17a")](this,arguments)}),_0xf2a9db[a0_0x12b0("0x1a7")][a0_0x12b0("0x7b")]=_0x48c6f4(_0x14bc88[a0_0x12b0("0xa")]((function _0x15309f(){var _0x4ca338;return _0x14bc88[a0_0x12b0("0x229")]((function(_0x3dece7){for(;;)switch(_0x3dece7[a0_0x12b0("0x12a")]=_0x3dece7[a0_0x12b0("0x141")]){case 0:return _0x205c2c.startTime=Date[a0_0x12b0("0x9a")](),_0x3dece7[a0_0x12b0("0x12a")]=1,_0x3dece7[a0_0x12b0("0x141")]=4,this[a0_0x12b0("0x2d")](!0);case 4:_0x4ca338=_0x3dece7[a0_0x12b0("0x158")],_0x3dece7[a0_0x12b0("0x141")]=10;break;case 7:return _0x3dece7[a0_0x12b0("0x12a")]=7,_0x3dece7.t0=_0x3dece7[a0_0x12b0("0x188")](1),_0x3dece7[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),_0x205c2c[a0_0x12b0("0x1d")](_0x3dece7.t0,_0x1ece2a[a0_0x12b0("0x3b")]));case 10:return window.bxgraph[a0_0x12b0("0x58")]={deviceID:_0x4ca338.IDs[a0_0x12b0("0xb4")],cookieID:_0x4ca338[a0_0x12b0("0x58")][a0_0x12b0("0xec")]},_0x4ca338[a0_0x12b0("0x58")].cookie&&_0x1ece2a[a0_0x12b0("0xed")]&&delete _0x4ca338[a0_0x12b0("0x58")][a0_0x12b0("0x10d")],_0x4ca338&&_0x44743e[a0_0x12b0("0x48")](_0x4ca338,!1),_0x3dece7[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),_0x4ca338[a0_0x12b0("0x58")]);case 14:case"end":return _0x3dece7.stop()}}),_0x15309f,this,[[1,7]])}))),_0xf2a9db[a0_0x12b0("0x1a7")][a0_0x12b0("0x2a")]=(_0x260128=_0x48c6f4(_0x14bc88[a0_0x12b0("0xa")]((function _0xa66ec6(_0x91c643){var _0x33b34a,_0x1c1b42,_0x31429c,_0x16d199,_0x9d01c4,_0x5bc4bb;return _0x14bc88[a0_0x12b0("0x229")]((function(_0xc4bb29){for(;;)switch(_0xc4bb29[a0_0x12b0("0x12a")]=_0xc4bb29[a0_0x12b0("0x141")]){case 0:for(_0x33b34a={},_0x1c1b42=[],_0x31429c=function(_0x2a85fc){var _0x542fdd,_0x51cedc=_0x91c643[_0x2a85fc][a0_0x12b0("0xf2")],_0x403bcd=a0_0x12b0("0xc8")[a0_0x12b0("0x36")](_0x51cedc,a0_0x12b0("0x1cd"));_0x1c1b42[_0x2a85fc]=new Promise((_0x542fdd=_0x48c6f4(_0x14bc88[a0_0x12b0("0xa")]((function _0x3bd73d(_0x1e2859){var _0x4bd5b4;return _0x14bc88.wrap((function(_0x2705d1){for(;;)switch(_0x2705d1.prev=_0x2705d1[a0_0x12b0("0x141")]){case 0:return _0x2705d1.next=2,_0x205c2c[a0_0x12b0("0x142")](_0x403bcd,_0x51cedc,_0x1ece2a.REQ_TIMEOUT);case 2:_0x4bd5b4=_0x2705d1[a0_0x12b0("0x158")],_0x205c2c.stopwatch(a0_0x12b0("0x1e7")+_0x4bd5b4.tag),0===_0x2a85fc&&void 0!==_0x4bd5b4[a0_0x12b0("0x1a6")]&&(_0x33b34a[a0_0x12b0("0x5e")]=_0x4bd5b4[a0_0x12b0("0x1a6")][a0_0x12b0("0xd1")]||"",_0x33b34a[a0_0x12b0("0x111")]=_0x4bd5b4.data[a0_0x12b0("0x19")]||""),_0x1e2859(_0x4bd5b4[a0_0x12b0("0x1a6")]?{data:_0x4bd5b4[a0_0x12b0("0x1a6")][a0_0x12b0("0x1a6")],field:_0x91c643[_0x2a85fc].field}:void 0);case 6:case a0_0x12b0("0x219"):return _0x2705d1.stop()}}),_0x3bd73d)}))),function(_0x5c5a95){return _0x542fdd[a0_0x12b0("0x17a")](this,arguments)}))},_0x16d199=0;_0x16d199<_0x91c643.length;_0x16d199++)_0x31429c(_0x16d199);return _0xc4bb29.next=6,Promise.all(_0x1c1b42);case 6:return _0x9d01c4=_0xc4bb29[a0_0x12b0("0x158")],_0x5bc4bb=_0x9d01c4.reduce((function(_0x1cf06c,_0x2ec011){return void 0===_0x2ec011||(_0x1cf06c[_0x2ec011.field]=void 0===_0x1cf06c[_0x2ec011.field]?"":_0x1cf06c[_0x2ec011[a0_0x12b0("0x64")]],_0x1cf06c[_0x2ec011[a0_0x12b0("0x64")]]+=void 0===_0x2ec011[a0_0x12b0("0x1a6")]?"":_0x2ec011[a0_0x12b0("0x1a6")]),_0x1cf06c}),{}),_0xc4bb29[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),Object[a0_0x12b0("0x227")](_0x33b34a,_0x5bc4bb));case 9:case a0_0x12b0("0x219"):return _0xc4bb29.stop()}}),_0xa66ec6)}))),function(_0xa5af70){return _0x260128.apply(this,arguments)}),_0xf2a9db[a0_0x12b0("0x1a7")][a0_0x12b0("0x1b")]=(_0x4b7ba0=_0x48c6f4(_0x14bc88.mark((function _0x290acf(_0x1dbe67,_0x1d9aee){var _0x243d24,_0x3c0da9,_0x45b7cc,_0x4a885b,_0x2de3cd,_0x4b79cc,_0x5097b0,_0x4d490b=arguments;return _0x14bc88[a0_0x12b0("0x229")]((function(_0x3998a3){for(;;)switch(_0x3998a3[a0_0x12b0("0x12a")]=_0x3998a3[a0_0x12b0("0x141")]){case 0:return _0x243d24=2<_0x4d490b[a0_0x12b0("0x25")]&&void 0!==_0x4d490b[2]&&_0x4d490b[2],_0x3c0da9=encodeURIComponent(JSON[a0_0x12b0("0x41")](_0x384a51[a0_0x12b0("0x1f5")]())),_0x45b7cc=encodeURIComponent(JSON.stringify(_0x1d9aee[a0_0x12b0("0x1a6")])),_0x4a885b="",_0x1dbe67[a0_0x12b0("0xc7")]&&(_0x4a885b=_0x1dbe67[a0_0x12b0("0xc7")][a0_0x12b0("0x25")]===_0x1ece2a[a0_0x12b0("0x7d")]?_0x1dbe67[a0_0x12b0("0xc7")]:""),_0x1dbe67[a0_0x12b0("0x21d")]&&(_0x1dbe67.net=btoa(_0x1dbe67[a0_0x12b0("0x21d")])),_0x2de3cd=_0x243d24?"r":"c",_0x4b79cc=""[a0_0x12b0("0x36")](_0x1ece2a[a0_0x12b0("0x19f")],"/")[a0_0x12b0("0x36")](_0x2de3cd,a0_0x12b0("0x5b"))[a0_0x12b0("0x36")](_0x1dbe67[a0_0x12b0("0xec")]||"",a0_0x12b0("0x1a0"))[a0_0x12b0("0x36")](_0x1dbe67[a0_0x12b0("0xb4")]||"",a0_0x12b0("0x161"))[a0_0x12b0("0x36")](_0x1dbe67.iv||"","&v=")[a0_0x12b0("0x36")](_0x1dbe67.v||"",a0_0x12b0("0x1d7"))[a0_0x12b0("0x36")](_0x1dbe67[a0_0x12b0("0x5e")]||"")+a0_0x12b0("0x1d4")[a0_0x12b0("0x36")](_0x1dbe67[a0_0x12b0("0x111")]||"",a0_0x12b0("0x130"))[a0_0x12b0("0x36")](_0x4a885b,a0_0x12b0("0xb0"))[a0_0x12b0("0x36")](_0x1dbe67[a0_0x12b0("0x21d")]||"",a0_0x12b0("0x11d"))[a0_0x12b0("0x36")](_0x197d2a[a0_0x12b0("0xed")])+a0_0x12b0("0x99")[a0_0x12b0("0x36")](_0x197d2a[a0_0x12b0("0x191")]&&_0x197d2a.BX_INFO[a0_0x12b0("0x144")]||"")+a0_0x12b0("0x108")[a0_0x12b0("0x36")](_0x1d9aee[a0_0x12b0("0x5f")]||"",a0_0x12b0("0x87"))[a0_0x12b0("0x36")](_0x45b7cc||"",a0_0x12b0("0x29"))[a0_0x12b0("0x36")](_0x3c0da9),_0x3998a3.next=8,_0x205c2c[a0_0x12b0("0x142")](_0x4b79cc,_0x1ece2a[a0_0x12b0("0xc5")],_0x1ece2a[a0_0x12b0("0xcf")]);case 8:return _0x5097b0=_0x3998a3[a0_0x12b0("0x158")],_0x3998a3[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),_0x5097b0[a0_0x12b0("0x1a6")]||{});case 10:case a0_0x12b0("0x219"):return _0x3998a3[a0_0x12b0("0x32")]()}}),_0x290acf)}))),function(_0x4498c0,_0xd3732d){return _0x4b7ba0.apply(this,arguments)})},function(_0x2c3895,_0x1840e5,_0x241ebc){"use strict";var _0x6719f2=_0x241ebc(3),_0x2f247c=_0x241ebc(4),_0x37192e=_0x241ebc(1),_0xf6ec70=_0x241ebc(5),_0x33dd7e=_0x241ebc(0),_0x5aa3fc=_0x241ebc(2),_0xcdf89a=_0x241ebc(22);function _0x17d7a4(){return(_0x17d7a4=_0x2f247c(_0x6719f2[a0_0x12b0("0xa")]((function _0x16899a(_0x4ccc0b){var _0x4337da,_0x5d28b9;return _0x6719f2.wrap((function(_0x1927c9){for(;;)switch(_0x1927c9[a0_0x12b0("0x12a")]=_0x1927c9[a0_0x12b0("0x141")]){case 0:return _0x4337da=navigator.doNotTrack||navigator[a0_0x12b0("0x149")]||window.doNotTrack,_0x1927c9.t0=_0x1da766(),_0x1927c9[a0_0x12b0("0x141")]=4,_0x508313();case 4:return _0x1927c9.t1=_0x1927c9[a0_0x12b0("0x158")],_0x1927c9.t2="1"===_0x4337da||!0===_0x4337da,_0x1927c9.t3=(new Date)[a0_0x12b0("0x214")]()/-60,_0x1927c9.t4=window.extensionID||null,_0x1927c9.t5=_0x33dd7e[a0_0x12b0("0x6c")],_0x5d28b9={isSpoofed:_0x1927c9.t0,PM:_0x1927c9.t1,DNT:_0x1927c9.t2,deviceTimezone:_0x1927c9.t3,extensionID:_0x1927c9.t4,externalID:_0x1927c9.t5},_0x4ccc0b&&(_0x5d28b9[a0_0x12b0("0xe0")]={},_0x5d28b9[a0_0x12b0("0xe0")][a0_0x12b0("0x1cf")]=_0x37192e[a0_0x12b0("0x210")]&&_0xcdf89a[a0_0x12b0("0x1a8")]()||null),_0x33dd7e[a0_0x12b0("0x67")]===_0x37192e[a0_0x12b0("0x16a")]&&(_0x5d28b9[a0_0x12b0("0x1f")]=_0x4ccc0b),_0x5aa3fc.logObject(_0x5d28b9,a0_0x12b0("0x15d")),_0x1927c9[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),_0x5d28b9);case 14:case a0_0x12b0("0x219"):return _0x1927c9[a0_0x12b0("0x32")]()}}),_0x16899a)}))))[a0_0x12b0("0x17a")](this,arguments)}function _0x508313(){return new Promise((function(_0x42f3d1){var _0x22b650;try{_0x22b650=window[a0_0x12b0("0xc4")]||window[a0_0x12b0("0x162")]||window[a0_0x12b0("0x39")]||window.msIndexedDB}catch(_0x2ce716){}function _0x23571c(){return _0x42f3d1(!0)}function _0x14e079(){return _0x42f3d1(!1)}var _0x50f350=window[a0_0x12b0("0x1db")]||window.webkitRequestFileSystem;try{if(void 0!==_0x50f350)_0x50f350(window[a0_0x12b0("0x1ef")],1,_0x14e079,_0x23571c);else if(void 0!==_0x22b650&&_0x37192e[a0_0x12b0("0x9c")])try{var _0x14ec24=_0x22b650[a0_0x12b0("0x125")](a0_0x12b0("0x199"));return _0x14ec24[a0_0x12b0("0x134")]=_0x23571c,void(_0x14ec24[a0_0x12b0("0xee")]=_0x14e079)}catch(_0x944318){return _0x23571c()}else{if(!_0x37192e[a0_0x12b0("0x210")])return(!_0x37192e.isMicrosoft||_0x22b650?_0x14e079:_0x23571c)();try{return localStorage[a0_0x12b0("0x89")]("test",1),localStorage.removeItem(a0_0x12b0("0x199")),window[a0_0x12b0("0x1f4")](null,null,null,null),_0x14e079()}catch(_0x320a53){return _0x23571c()}}}catch(_0x12a1d2){_0xf6ec70.reportWarning(a0_0x12b0("0x156"),_0x12a1d2)}}))}function _0x1da766(_0x487739){function _0x256991(_0x1a3a34,_0x1ad9e0){for(var _0x51c04b,_0x223fc8=0;_0x223fc8<_0x1ad9e0[a0_0x12b0("0x25")];_0x223fc8++)if(-1!==_0x1a3a34[a0_0x12b0("0x12e")](_0x1ad9e0[_0x223fc8])){_0x51c04b=_0x1ad9e0[_0x223fc8];break}return void 0===_0x51c04b?a0_0x12b0("0x13d"):_0x51c04b}function _0xd3d739(_0x18c5dc,_0x380dde){return-1!==_0x18c5dc[a0_0x12b0("0x12e")](_0x380dde)}var _0x58430e=_0x487739||window[a0_0x12b0("0x15a")];return function(){var _0x5c2634=navigator[a0_0x12b0("0x115")],_0x5d4f3d=a0_0x12b0("0x47")===(_0x5d4f3d=_0x256991(_0x37192e.UA,["firefox","opera",a0_0x12b0("0x47"),a0_0x12b0("0x1ac"),a0_0x12b0("0x169"),a0_0x12b0("0x20f")]))?a0_0x12b0("0xef"):_0x5d4f3d;if(a0_0x12b0("0x171")!==_0x5c2634&&("chrome"===_0x5d4f3d||a0_0x12b0("0x169")===_0x5d4f3d||a0_0x12b0("0xef")===_0x5d4f3d))return!0;var _0x2dd2c5,_0x554330=eval[a0_0x12b0("0x166")]()[a0_0x12b0("0x25")];if(37===_0x554330&&a0_0x12b0("0x169")!==_0x5d4f3d&&a0_0x12b0("0x21c")!==_0x5d4f3d&&a0_0x12b0("0x13d")!==_0x5d4f3d)return!0;if(39===_0x554330&&a0_0x12b0("0x20f")!==_0x5d4f3d&&a0_0x12b0("0x13d")!==_0x5d4f3d)return!0;if(33===_0x554330&&a0_0x12b0("0x1ac")!==_0x5d4f3d&&"opera"!==_0x5d4f3d&&a0_0x12b0("0x13d")!==_0x5d4f3d)return!0;try{throw"a"}catch(_0x50878a){try{_0x50878a.toSource(),_0x2dd2c5=!0}catch(_0x5d818b){_0x2dd2c5=!1}}return!(!_0x2dd2c5||a0_0x12b0("0x21c")===_0x5d4f3d||"other"===_0x5d4f3d)||void 0!==navigator[a0_0x12b0("0xf8")]&&a0_0x12b0("0x21c")!==_0x5d4f3d}()||function(){var _0x49f319=navigator[a0_0x12b0("0x8")]&&navigator[a0_0x12b0("0x8")].toLowerCase(),_0xa595b2=navigator.platform[a0_0x12b0("0xb3")](),_0x1c6dad="i"===(_0x1c6dad=_0x256991(_0x37192e.UA,[a0_0x12b0("0x11c"),a0_0x12b0("0x79"),a0_0x12b0("0x1c2"),"linux",a0_0x12b0("0x10f"),a0_0x12b0("0x12"),a0_0x12b0("0x1dc")]))[a0_0x12b0("0x106")](0)?"ios":_0x1c6dad;if(_0x49f319){if(_0xd3d739(_0x49f319,a0_0x12b0("0x7"))&&a0_0x12b0("0x79")!==_0x1c6dad&&a0_0x12b0("0x11c")!==_0x1c6dad)return!0;if(_0xd3d739(_0x49f319,a0_0x12b0("0x109"))&&a0_0x12b0("0x109")!==_0x1c6dad&&a0_0x12b0("0x1c2")!==_0x1c6dad)return!0;if(_0xd3d739(_0x49f319,a0_0x12b0("0x1dc"))&&"mac"!==_0x1c6dad&&a0_0x12b0("0x182")!==_0x1c6dad)return!0;if(_0xd3d739(_0x49f319,a0_0x12b0("0x7"))&&_0xd3d739(_0x49f319,a0_0x12b0("0x109"))&&_0xd3d739(_0x49f319,a0_0x12b0("0x1dc"))&&a0_0x12b0("0x13d")!==_0x1c6dad)return!0}return!((!_0xd3d739(_0xa595b2,a0_0x12b0("0x7"))||"windows"===_0x1c6dad||a0_0x12b0("0x11c")===_0x1c6dad)&&(!(_0xd3d739(_0xa595b2,a0_0x12b0("0x109"))||_0xd3d739(_0xa595b2,a0_0x12b0("0x1c2"))||_0xd3d739(_0xa595b2,a0_0x12b0("0x3d")))||a0_0x12b0("0x109")===_0x1c6dad||a0_0x12b0("0x1c2")===_0x1c6dad)&&(!(_0xd3d739(_0xa595b2,"mac")||_0xd3d739(_0xa595b2,a0_0x12b0("0x12"))||_0xd3d739(_0xa595b2,a0_0x12b0("0x164"))||_0xd3d739(_0xa595b2,a0_0x12b0("0x10f")))||"mac"===_0x1c6dad||a0_0x12b0("0x182")===_0x1c6dad)&&!(_0xd3d739(_0xa595b2,a0_0x12b0("0x7"))&&_0xd3d739(_0xa595b2,"linux")&&_0xd3d739(_0xa595b2,a0_0x12b0("0x1dc"))&&a0_0x12b0("0x13d")!==_0x1c6dad)&&(navigator.plugins||a0_0x12b0("0x79")===_0x1c6dad||a0_0x12b0("0x8c")===_0x1c6dad)&&(a0_0x12b0("0x1c2")!==_0x1c6dad&&a0_0x12b0("0x182")!==_0x1c6dad&&a0_0x12b0("0x11c")!==_0x1c6dad||navigator.maxTouchPoints||navigator[a0_0x12b0("0x107")]||!function(){try{document[a0_0x12b0("0x6a")]("TouchEvent")}catch(_0x335748){return 1}}()||a0_0x12b0("0x1bd")in window))}()||navigator[a0_0x12b0("0x1b0")]&&navigator[a0_0x12b0("0x1cb")]&&navigator[a0_0x12b0("0x1cb")][0]&&navigator.languages[0][a0_0x12b0("0x16b")]&&navigator.languages[0][a0_0x12b0("0x16b")](0,2)!==navigator[a0_0x12b0("0x1b0")][a0_0x12b0("0x16b")](0,2)||_0x58430e[a0_0x12b0("0xff")]<_0x58430e[a0_0x12b0("0x160")]||_0x58430e[a0_0x12b0("0x12c")]<_0x58430e[a0_0x12b0("0x92")]}_0x2c3895[a0_0x12b0("0x1a7")]={buildInfo:function(_0x586706){return _0x17d7a4[a0_0x12b0("0x17a")](this,arguments)},detectPrivateMode:_0x508313,detectBrowserSpoofing:_0x1da766}},function(_0x3311e7,_0x34c5ea,_0x199b64){"use strict";var _0x349282=_0x199b64(3),_0x3e616b=_0x199b64(4),_0x4d7d93=_0x199b64(13).getCurrentScript(),_0x3b8faf=_0x199b64(0)[a0_0x12b0("0x66")](_0x4d7d93,a0_0x12b0("0x206")),_0x402747=_0x199b64(5),_0x1fa1d2=_0x199b64(1),_0xf58bad=_0x199b64(6);_0x3311e7.exports[a0_0x12b0("0xab")]=_0x3e616b(_0x349282.mark((function _0x1a325a(){var _0x5a62fb,_0x47df73,_0x5dc2e5,_0x5b8eed,_0x346c62,_0x3b10cb,_0xe0ee44,_0x5cf332,_0x3ca72d,_0x20b584,_0x4147ac,_0x5ce492;return _0x349282[a0_0x12b0("0x229")]((function(_0x502e27){for(;;)switch(_0x502e27[a0_0x12b0("0x12a")]=_0x502e27.next){case 0:if(_0x5a62fb=!1,_0x47df73=_0x402747[a0_0x12b0("0x17c")](),window[a0_0x12b0("0xae")]={meta:{errors:[],version:a0_0x12b0("0x206"),debug:!1}},_0x5b8eed=_0x199b64(9),_0x346c62=_0x199b64(23),_0x3b10cb=_0x199b64(10),_0xe0ee44=_0x199b64(2),_0x1fa1d2[a0_0x12b0("0x51")]&&(window[a0_0x12b0("0x151")]=_0x5b8eed[a0_0x12b0("0x7b")][a0_0x12b0("0x23")](_0x5b8eed)),_0xf58bad.getOptOut(_0x1fa1d2[a0_0x12b0("0x133")]))return _0x402747[a0_0x12b0("0x18d")](new Error(_0x1fa1d2.GDPR_ERROR_MESSAGE),_0x3b8faf.CLIENT_CB),_0x502e27.abrupt("return");_0x502e27[a0_0x12b0("0x141")]=10;break;case 10:if(_0xf58bad[a0_0x12b0("0x20a")](_0x1fa1d2.CCPA_OPTOUT_IDENTIFIER))return _0x402747[a0_0x12b0("0x18d")](new Error(_0x1fa1d2[a0_0x12b0("0x1b1")]),_0x3b8faf[a0_0x12b0("0x3b")]),_0x502e27.abrupt(a0_0x12b0("0xe8"));_0x502e27[a0_0x12b0("0x141")]=13;break;case 13:if(_0x1fa1d2[a0_0x12b0("0x6e")]&&_0xf58bad[a0_0x12b0("0x13b")](),_0x502e27[a0_0x12b0("0x12a")]=14,_0x5cf332=!1,_0x502e27.t0="function"==typeof window.__cmp,_0x502e27.t0)return _0x502e27[a0_0x12b0("0x141")]=20,_0x402747.isOptedOutViaGDPRConsent();_0x502e27.next=22;break;case 20:_0x502e27.t1=_0x502e27[a0_0x12b0("0x158")],_0x502e27.t0=!0===_0x502e27.t1;case 22:if(_0x502e27.t0)return _0x402747[a0_0x12b0("0x18d")](new Error(_0x1fa1d2.IAB_CONSENT_MESSAGE),_0x3b8faf[a0_0x12b0("0x3b")]),_0x502e27[a0_0x12b0("0x1c4")]("return");_0x502e27[a0_0x12b0("0x141")]=25;break;case 25:return _0x502e27[a0_0x12b0("0x141")]=27,_0x402747[a0_0x12b0("0x21b")]();case 27:if(_0x502e27.t2=_0x502e27.sent,!0===_0x502e27.t2)return _0x402747.triggerClientCallback(new Error(_0x1fa1d2[a0_0x12b0("0x1a5")]),_0x3b8faf[a0_0x12b0("0x3b")]),_0x502e27[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"));_0x502e27.next=31;break;case 31:if(_0xe0ee44.logObject(_0x3b8faf[a0_0x12b0("0x191")]),_0xe0ee44[a0_0x12b0("0x1f5")]({loadID:_0x47df73}),_0x3b8faf[a0_0x12b0("0x30")]&&(_0x3ca72d=_0xf58bad[a0_0x12b0("0x172")]())&&(_0x5cf332=!0,_0x402747[a0_0x12b0("0x18d")](null,_0x3b8faf[a0_0x12b0("0x30")],null,_0x3ca72d),_0x402747.stopwatch(a0_0x12b0("0xfa")),(_0x402747[a0_0x12b0("0x6b")]||window[a0_0x12b0("0xae")][a0_0x12b0("0x110")][a0_0x12b0("0x200")]||_0x3b8faf[a0_0x12b0("0xbe")])&&_0x402747[a0_0x12b0("0x1b8")](a0_0x12b0("0x117")+_0xe0ee44[a0_0x12b0("0x1f5")]()[a0_0x12b0("0x1d6")][a0_0x12b0("0xfa")])),_0x5dc2e5=_0xf58bad[a0_0x12b0("0x189")]())return _0x3b8faf[a0_0x12b0("0x86")]&&_0x402747[a0_0x12b0("0x18d")](null,_0x3b8faf[a0_0x12b0("0x86")],null,_0x5dc2e5),Math[a0_0x12b0("0x124")]()<.001&&_0x402747[a0_0x12b0("0xde")](_0x1fa1d2[a0_0x12b0("0x1be")],_0x5dc2e5,_0x3b8faf.BX_INFO.wsid),_0x3b8faf[a0_0x12b0("0x6c")]&&_0x3b8faf[a0_0x12b0("0x6c")]!==_0x5dc2e5[a0_0x12b0("0x15d")][a0_0x12b0("0x26")]&&_0x402747[a0_0x12b0("0xde")](_0x1fa1d2[a0_0x12b0("0x22d")],_0x5dc2e5),_0x502e27[a0_0x12b0("0x141")]=41,_0x3b10cb[a0_0x12b0("0x20e")](_0x5a62fb);_0x502e27[a0_0x12b0("0x141")]=45;break;case 41:_0x20b584=_0x502e27[a0_0x12b0("0x158")],_0x5dc2e5.info=Object[a0_0x12b0("0x227")](_0x5dc2e5.info,_0x20b584),_0x502e27[a0_0x12b0("0x141")]=63;break;case 45:return _0x5a62fb=!0,_0x502e27[a0_0x12b0("0x12a")]=46,_0x502e27[a0_0x12b0("0x141")]=49,_0x5b8eed[a0_0x12b0("0x2d")](!1,_0x5a62fb);case 49:_0x5dc2e5=_0x502e27.sent,_0x502e27.next=63;break;case 52:_0x502e27.prev=52,_0x502e27.t3=_0x502e27[a0_0x12b0("0x188")](46),_0x4147ac=_0x502e27.t3[a0_0x12b0("0x19b")]?_0x502e27.t3[a0_0x12b0("0x19b")]:_0x502e27.t3,_0x502e27.t4=_0x4147ac,_0x502e27.next=_0x502e27.t4===_0x1fa1d2.GDPR_ERROR_MESSAGE?58:_0x502e27.t4===_0x1fa1d2[a0_0x12b0("0x1b1")]?60:62;break;case 58:return _0xf58bad[a0_0x12b0("0xd2")](_0x1fa1d2[a0_0x12b0("0x133")]),_0x502e27[a0_0x12b0("0x1c4")](a0_0x12b0("0x3a"),62);case 60:return _0xf58bad[a0_0x12b0("0xd2")](_0x1fa1d2[a0_0x12b0("0x74")]),_0x502e27.abrupt(a0_0x12b0("0x3a"),62);case 62:return _0x502e27[a0_0x12b0("0x1c4")]("return",_0x402747[a0_0x12b0("0x1d")](_0x4147ac,_0x3b8faf.CLIENT_CB));case 63:window[a0_0x12b0("0xae")].IDs=_0x5dc2e5[a0_0x12b0("0x58")],window[a0_0x12b0("0xae")][a0_0x12b0("0x15d")]=_0x5dc2e5.info,_0x5a62fb&&(_0x402747[a0_0x12b0("0x138")](a0_0x12b0("0xbf")),(_0x402747.isOnePercentRoll||window.bxgraph[a0_0x12b0("0x110")][a0_0x12b0("0x200")]||_0x3b8faf[a0_0x12b0("0xbe")])&&(_0x402747[a0_0x12b0("0x1b8")](a0_0x12b0("0x20b")+_0xe0ee44[a0_0x12b0("0x1f5")]()[a0_0x12b0("0x1d6")].IDsReceived),_0x402747[a0_0x12b0("0x178")]()),_0x3b8faf.AD_CB&&!_0x5dc2e5[a0_0x12b0("0x15d")][a0_0x12b0("0x102")]&&_0x402747[a0_0x12b0("0x18d")](null,_0x3b8faf.AD_CB,null,_0x5dc2e5)),_0x5dc2e5[a0_0x12b0("0x10d")]&&_0x3b8faf[a0_0x12b0("0xed")]&&(_0x5ce492=_0x5dc2e5.cookie,delete _0x5dc2e5.cookie),_0xf58bad[a0_0x12b0("0x48")](_0x5dc2e5,!0),_0x402747[a0_0x12b0("0x18d")](null,_0x3b8faf[a0_0x12b0("0x3b")],_0x5ce492,_0x5dc2e5),_0x3b8faf.IDS_ONLY_CB&&!_0x5cf332&&_0x402747[a0_0x12b0("0x18d")](null,_0x3b8faf[a0_0x12b0("0x30")],null,_0x5dc2e5),_0x502e27.next=75;break;case 72:return _0x502e27[a0_0x12b0("0x12a")]=72,_0x502e27.t5=_0x502e27[a0_0x12b0("0x188")](14),_0x502e27[a0_0x12b0("0x1c4")]("return",_0x402747[a0_0x12b0("0x1aa")]("ids-catch-all",_0x502e27.t5));case 75:try{_0x346c62[a0_0x12b0("0x1c6")](_0x5dc2e5,_0xf58bad[a0_0x12b0("0x196")](),_0xf58bad[a0_0x12b0("0x1")]())}catch(_0x57242a){_0x402747.reportError(a0_0x12b0("0x123"),_0x57242a)}case 76:case a0_0x12b0("0x219"):return _0x502e27[a0_0x12b0("0x32")]()}}),_0x1a325a,null,[[14,72],[46,52]])}))),_0x3311e7[a0_0x12b0("0x1a7")][a0_0x12b0("0xab")]()},function(_0x4095cd,_0x17d816,_0x5428f9){var _0x20e5e8=function(_0x1f99b6){"use strict";var _0x31626b=Object[a0_0x12b0("0x72")],_0x119049=_0x31626b[a0_0x12b0("0x1eb")],_0x1728f1=a0_0x12b0("0xd6")==("undefined"==typeof Symbol?"undefined":_typeof(Symbol))?Symbol:{},_0x5b7874=_0x1728f1[a0_0x12b0("0x1f0")]||a0_0x12b0("0x44"),_0x1ff375=_0x1728f1[a0_0x12b0("0x52")]||a0_0x12b0("0x139"),_0x40374b=_0x1728f1[a0_0x12b0("0x14b")]||a0_0x12b0("0x1fa");function _0x11ba15(_0x1791c2,_0x3dbc25,_0x474b43,_0x65e399){var _0x165369,_0x1613e1,_0x323f14,_0x45611b,_0x5bf4c5=_0x3dbc25&&_0x3dbc25.prototype instanceof _0x3411fc?_0x3dbc25:_0x3411fc,_0x564a84=Object[a0_0x12b0("0x193")](_0x5bf4c5[a0_0x12b0("0x72")]),_0x1728c3=new _0x54e425(_0x65e399||[]);return _0x564a84[a0_0x12b0("0x1f8")]=(_0x165369=_0x1791c2,_0x1613e1=_0x474b43,_0x323f14=_0x1728c3,_0x45611b=_0xe2fe6a,function(_0x1cec2e,_0x442a12){if(_0x45611b===_0x217122)throw new Error(a0_0x12b0("0x0"));if(_0x45611b===_0x41f468){if(a0_0x12b0("0x1c5")===_0x1cec2e)throw _0x442a12;return _0x4893e4()}for(_0x323f14[a0_0x12b0("0x198")]=_0x1cec2e,_0x323f14[a0_0x12b0("0x17d")]=_0x442a12;;){var _0x166b67=_0x323f14.delegate;if(_0x166b67){var _0x5a860e=function _0x439060(_0x2085d5,_0x57f267){var _0x2ba657=_0x2085d5[a0_0x12b0("0x1f0")][_0x57f267[a0_0x12b0("0x198")]];if(void 0===_0x2ba657){if(_0x57f267[a0_0x12b0("0x1f1")]=null,a0_0x12b0("0x1c5")===_0x57f267[a0_0x12b0("0x198")]){if(_0x2085d5[a0_0x12b0("0x1f0")][a0_0x12b0("0xe8")]&&(_0x57f267.method="return",_0x57f267[a0_0x12b0("0x17d")]=void 0,_0x439060(_0x2085d5,_0x57f267),a0_0x12b0("0x1c5")===_0x57f267.method))return _0x1357fc;_0x57f267[a0_0x12b0("0x198")]="throw",_0x57f267[a0_0x12b0("0x17d")]=new TypeError("The iterator does not provide a 'throw' method")}return _0x1357fc}var _0x20d430=_0x134529(_0x2ba657,_0x2085d5[a0_0x12b0("0x1f0")],_0x57f267.arg);if(a0_0x12b0("0x1c5")===_0x20d430.type)return _0x57f267[a0_0x12b0("0x198")]=a0_0x12b0("0x1c5"),_0x57f267[a0_0x12b0("0x17d")]=_0x20d430[a0_0x12b0("0x17d")],_0x57f267.delegate=null,_0x1357fc;var _0x3e31fe=_0x20d430.arg;return _0x3e31fe?_0x3e31fe[a0_0x12b0("0x217")]?(_0x57f267[_0x2085d5.resultName]=_0x3e31fe[a0_0x12b0("0x114")],_0x57f267[a0_0x12b0("0x141")]=_0x2085d5[a0_0x12b0("0x154")],a0_0x12b0("0xe8")!==_0x57f267[a0_0x12b0("0x198")]&&(_0x57f267.method=a0_0x12b0("0x141"),_0x57f267[a0_0x12b0("0x17d")]=void 0),_0x57f267[a0_0x12b0("0x1f1")]=null,_0x1357fc):_0x3e31fe:(_0x57f267.method=a0_0x12b0("0x1c5"),_0x57f267[a0_0x12b0("0x17d")]=new TypeError("iterator result is not an object"),_0x57f267[a0_0x12b0("0x1f1")]=null,_0x1357fc)}(_0x166b67,_0x323f14);if(_0x5a860e){if(_0x5a860e===_0x1357fc)continue;return _0x5a860e}}if("next"===_0x323f14[a0_0x12b0("0x198")])_0x323f14[a0_0x12b0("0x158")]=_0x323f14[a0_0x12b0("0x10b")]=_0x323f14[a0_0x12b0("0x17d")];else if(a0_0x12b0("0x1c5")===_0x323f14[a0_0x12b0("0x198")]){if(_0x45611b===_0xe2fe6a)throw _0x45611b=_0x41f468,_0x323f14.arg;_0x323f14.dispatchException(_0x323f14[a0_0x12b0("0x17d")])}else a0_0x12b0("0xe8")===_0x323f14[a0_0x12b0("0x198")]&&_0x323f14[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"),_0x323f14.arg);_0x45611b=_0x217122;var _0x2424a0=_0x134529(_0x165369,_0x1613e1,_0x323f14);if("normal"===_0x2424a0[a0_0x12b0("0x4f")]){if(_0x45611b=_0x323f14[a0_0x12b0("0x217")]?_0x41f468:_0x718ed0,_0x2424a0[a0_0x12b0("0x17d")]===_0x1357fc)continue;return{value:_0x2424a0[a0_0x12b0("0x17d")],done:_0x323f14[a0_0x12b0("0x217")]}}a0_0x12b0("0x1c5")===_0x2424a0[a0_0x12b0("0x4f")]&&(_0x45611b=_0x41f468,_0x323f14[a0_0x12b0("0x198")]=a0_0x12b0("0x1c5"),_0x323f14.arg=_0x2424a0[a0_0x12b0("0x17d")])}}),_0x564a84}function _0x134529(_0x378acf,_0x426ce0,_0x346d66){try{return{type:a0_0x12b0("0xf9"),arg:_0x378acf[a0_0x12b0("0x22b")](_0x426ce0,_0x346d66)}}catch(_0x1cde87){return{type:a0_0x12b0("0x1c5"),arg:_0x1cde87}}}_0x1f99b6[a0_0x12b0("0x229")]=_0x11ba15;var _0xe2fe6a=a0_0x12b0("0x13f"),_0x718ed0=a0_0x12b0("0xb"),_0x217122=a0_0x12b0("0x1df"),_0x41f468="completed",_0x1357fc={};function _0x3411fc(){}function _0x581371(){}function _0x4fb987(){}var _0x392af4={};_0x392af4[_0x5b7874]=function(){return this};var _0x3bf9c0=Object[a0_0x12b0("0xb9")],_0x592a4b=_0x3bf9c0&&_0x3bf9c0(_0x3bf9c0(_0x11ff7d([])));_0x592a4b&&_0x592a4b!==_0x31626b&&_0x119049[a0_0x12b0("0x22b")](_0x592a4b,_0x5b7874)&&(_0x392af4=_0x592a4b);var _0x2e009e=_0x4fb987[a0_0x12b0("0x72")]=_0x3411fc[a0_0x12b0("0x72")]=Object[a0_0x12b0("0x193")](_0x392af4);function _0x2ff418(_0x3d691e){[a0_0x12b0("0x141"),a0_0x12b0("0x1c5"),"return"][a0_0x12b0("0xfc")]((function(_0x51b1b8){_0x3d691e[_0x51b1b8]=function(_0x162ce3){return this[a0_0x12b0("0x1f8")](_0x51b1b8,_0x162ce3)}}))}function _0x10d2f2(_0x5d22eb,_0x5030af){var _0xcf6e7b;this[a0_0x12b0("0x1f8")]=function(_0x379bdb,_0x20c027){function _0x1ea532(){return new _0x5030af((function(_0x41f27b,_0x2dea8){!function _0x5e57e9(_0x3a5a61,_0x28d7af,_0xa7fd41,_0x3461f0){var _0x1e4aa5=_0x134529(_0x5d22eb[_0x3a5a61],_0x5d22eb,_0x28d7af);if(a0_0x12b0("0x1c5")!==_0x1e4aa5[a0_0x12b0("0x4f")]){var _0x3e7df0=_0x1e4aa5[a0_0x12b0("0x17d")],_0x142a3c=_0x3e7df0.value;return _0x142a3c&&a0_0x12b0("0x224")==_typeof(_0x142a3c)&&_0x119049[a0_0x12b0("0x22b")](_0x142a3c,a0_0x12b0("0x80"))?_0x5030af[a0_0x12b0("0xcd")](_0x142a3c[a0_0x12b0("0x80")]).then((function(_0x517cf){_0x5e57e9("next",_0x517cf,_0xa7fd41,_0x3461f0)}),(function(_0x1bb6c9){_0x5e57e9("throw",_0x1bb6c9,_0xa7fd41,_0x3461f0)})):_0x5030af[a0_0x12b0("0xcd")](_0x142a3c).then((function(_0x1dfb7b){_0x3e7df0[a0_0x12b0("0x114")]=_0x1dfb7b,_0xa7fd41(_0x3e7df0)}),(function(_0x57f711){return _0x5e57e9("throw",_0x57f711,_0xa7fd41,_0x3461f0)}))}_0x3461f0(_0x1e4aa5[a0_0x12b0("0x17d")])}(_0x379bdb,_0x20c027,_0x41f27b,_0x2dea8)}))}return _0xcf6e7b=_0xcf6e7b?_0xcf6e7b[a0_0x12b0("0x131")](_0x1ea532,_0x1ea532):_0x1ea532()}}function _0x5b4e83(_0x97bb9e){var _0x1a9393={tryLoc:_0x97bb9e[0]};1 in _0x97bb9e&&(_0x1a9393[a0_0x12b0("0x84")]=_0x97bb9e[1]),2 in _0x97bb9e&&(_0x1a9393.finallyLoc=_0x97bb9e[2],_0x1a9393[a0_0x12b0("0x2c")]=_0x97bb9e[3]),this[a0_0x12b0("0x18e")].push(_0x1a9393)}function _0x371391(_0x1c3d46){var _0x12c3aa=_0x1c3d46[a0_0x12b0("0x22a")]||{};_0x12c3aa[a0_0x12b0("0x4f")]=a0_0x12b0("0xf9"),delete _0x12c3aa[a0_0x12b0("0x17d")],_0x1c3d46[a0_0x12b0("0x22a")]=_0x12c3aa}function _0x54e425(_0x493f15){this[a0_0x12b0("0x18e")]=[{tryLoc:a0_0x12b0("0x17f")}],_0x493f15[a0_0x12b0("0xfc")](_0x5b4e83,this),this[a0_0x12b0("0x7b")](!0)}function _0x11ff7d(_0x50e97c){if(_0x50e97c){var _0x58cf18=_0x50e97c[_0x5b7874];if(_0x58cf18)return _0x58cf18[a0_0x12b0("0x22b")](_0x50e97c);if("function"==typeof _0x50e97c[a0_0x12b0("0x141")])return _0x50e97c;if(!isNaN(_0x50e97c.length)){var _0x543e85=-1,_0x3a6bc0=function _0xa0cead(){for(;++_0x543e85<_0x50e97c[a0_0x12b0("0x25")];)if(_0x119049[a0_0x12b0("0x22b")](_0x50e97c,_0x543e85))return _0xa0cead[a0_0x12b0("0x114")]=_0x50e97c[_0x543e85],_0xa0cead[a0_0x12b0("0x217")]=!1,_0xa0cead;return _0xa0cead.value=void 0,_0xa0cead[a0_0x12b0("0x217")]=!0,_0xa0cead};return _0x3a6bc0[a0_0x12b0("0x141")]=_0x3a6bc0}}return{next:_0x4893e4}}function _0x4893e4(){return{value:void 0,done:!0}}return(_0x581371[a0_0x12b0("0x72")]=_0x2e009e[a0_0x12b0("0xc3")]=_0x4fb987)[a0_0x12b0("0xc3")]=_0x581371,_0x4fb987[_0x40374b]=_0x581371.displayName="GeneratorFunction",_0x1f99b6[a0_0x12b0("0x45")]=function(_0x204430){var _0x10c203=a0_0x12b0("0xd6")==_typeof(_0x204430)&&_0x204430[a0_0x12b0("0xc3")];return!!_0x10c203&&(_0x10c203===_0x581371||a0_0x12b0("0x27")===(_0x10c203[a0_0x12b0("0xe9")]||_0x10c203.name))},_0x1f99b6[a0_0x12b0("0xa")]=function(_0x1d5772){return Object[a0_0x12b0("0x150")]?Object[a0_0x12b0("0x150")](_0x1d5772,_0x4fb987):(_0x1d5772[a0_0x12b0("0x7c")]=_0x4fb987,_0x40374b in _0x1d5772||(_0x1d5772[_0x40374b]="GeneratorFunction")),_0x1d5772[a0_0x12b0("0x72")]=Object.create(_0x2e009e),_0x1d5772},_0x1f99b6[a0_0x12b0("0x175")]=function(_0x559052){return{__await:_0x559052}},_0x2ff418(_0x10d2f2[a0_0x12b0("0x72")]),_0x10d2f2.prototype[_0x1ff375]=function(){return this},_0x1f99b6[a0_0x12b0("0x1ce")]=_0x10d2f2,_0x1f99b6.async=function(_0x106324,_0x1953cb,_0x59d87f,_0x1c859b,_0x44f197){void 0===_0x44f197&&(_0x44f197=Promise);var _0x1ca6f3=new _0x10d2f2(_0x11ba15(_0x106324,_0x1953cb,_0x59d87f,_0x1c859b),_0x44f197);return _0x1f99b6[a0_0x12b0("0x45")](_0x1953cb)?_0x1ca6f3:_0x1ca6f3.next().then((function(_0x2de8f4){return _0x2de8f4[a0_0x12b0("0x217")]?_0x2de8f4[a0_0x12b0("0x114")]:_0x1ca6f3[a0_0x12b0("0x141")]()}))},_0x2ff418(_0x2e009e),_0x2e009e[_0x40374b]=a0_0x12b0("0x1d3"),_0x2e009e[_0x5b7874]=function(){return this},_0x2e009e[a0_0x12b0("0x166")]=function(){return a0_0x12b0("0x62")},_0x1f99b6[a0_0x12b0("0x211")]=function(_0x5c2b4c){var _0x102910=[];for(var _0x4185c8 in _0x5c2b4c)_0x102910.push(_0x4185c8);return _0x102910.reverse(),function _0x2cd65c(){for(;_0x102910[a0_0x12b0("0x25")];){var _0x1bfcd4=_0x102910.pop();if(_0x1bfcd4 in _0x5c2b4c)return _0x2cd65c[a0_0x12b0("0x114")]=_0x1bfcd4,_0x2cd65c[a0_0x12b0("0x217")]=!1,_0x2cd65c}return _0x2cd65c.done=!0,_0x2cd65c}},_0x1f99b6[a0_0x12b0("0x127")]=_0x11ff7d,_0x54e425[a0_0x12b0("0x72")]={constructor:_0x54e425,reset:function(_0x564f21){if(this[a0_0x12b0("0x12a")]=0,this.next=0,this[a0_0x12b0("0x158")]=this[a0_0x12b0("0x10b")]=void 0,this[a0_0x12b0("0x217")]=!1,this[a0_0x12b0("0x1f1")]=null,this.method=a0_0x12b0("0x141"),this[a0_0x12b0("0x17d")]=void 0,this.tryEntries[a0_0x12b0("0xfc")](_0x371391),!_0x564f21)for(var _0x505ac1 in this)"t"===_0x505ac1[a0_0x12b0("0x106")](0)&&_0x119049[a0_0x12b0("0x22b")](this,_0x505ac1)&&!isNaN(+_0x505ac1.slice(1))&&(this[_0x505ac1]=void 0)},stop:function(){this.done=!0;var _0x31246b=this[a0_0x12b0("0x18e")][0][a0_0x12b0("0x22a")];if("throw"===_0x31246b[a0_0x12b0("0x4f")])throw _0x31246b.arg;return this[a0_0x12b0("0xf0")]},dispatchException:function(_0x1e58a0){if(this.done)throw _0x1e58a0;var _0x3a874a=this;function _0x540611(_0x108ebf,_0x221204){return _0x159e65[a0_0x12b0("0x4f")]=a0_0x12b0("0x1c5"),_0x159e65[a0_0x12b0("0x17d")]=_0x1e58a0,_0x3a874a[a0_0x12b0("0x141")]=_0x108ebf,_0x221204&&(_0x3a874a[a0_0x12b0("0x198")]=a0_0x12b0("0x141"),_0x3a874a[a0_0x12b0("0x17d")]=void 0),!!_0x221204}for(var _0x11eea7=this[a0_0x12b0("0x18e")][a0_0x12b0("0x25")]-1;0<=_0x11eea7;--_0x11eea7){var _0x597699=this[a0_0x12b0("0x18e")][_0x11eea7],_0x159e65=_0x597699[a0_0x12b0("0x22a")];if(a0_0x12b0("0x17f")===_0x597699.tryLoc)return _0x540611(a0_0x12b0("0x219"));if(_0x597699.tryLoc<=this[a0_0x12b0("0x12a")]){var _0xedccb=_0x119049.call(_0x597699,a0_0x12b0("0x84")),_0x3c7910=_0x119049[a0_0x12b0("0x22b")](_0x597699,a0_0x12b0("0x1c1"));if(_0xedccb&&_0x3c7910){if(this[a0_0x12b0("0x12a")]<_0x597699[a0_0x12b0("0x84")])return _0x540611(_0x597699[a0_0x12b0("0x84")],!0);if(this[a0_0x12b0("0x12a")]<_0x597699[a0_0x12b0("0x1c1")])return _0x540611(_0x597699[a0_0x12b0("0x1c1")])}else if(_0xedccb){if(this.prev<_0x597699[a0_0x12b0("0x84")])return _0x540611(_0x597699.catchLoc,!0)}else{if(!_0x3c7910)throw new Error(a0_0x12b0("0x203"));if(this[a0_0x12b0("0x12a")]<_0x597699.finallyLoc)return _0x540611(_0x597699.finallyLoc)}}}},abrupt:function(_0x113679,_0x1310b1){for(var _0x31578d=this[a0_0x12b0("0x18e")].length-1;0<=_0x31578d;--_0x31578d){var _0x5894c5=this[a0_0x12b0("0x18e")][_0x31578d];if(_0x5894c5[a0_0x12b0("0x15b")]<=this[a0_0x12b0("0x12a")]&&_0x119049[a0_0x12b0("0x22b")](_0x5894c5,a0_0x12b0("0x1c1"))&&this[a0_0x12b0("0x12a")]<_0x5894c5[a0_0x12b0("0x1c1")]){var _0x1fd003=_0x5894c5;break}}_0x1fd003&&("break"===_0x113679||a0_0x12b0("0x14d")===_0x113679)&&_0x1fd003[a0_0x12b0("0x15b")]<=_0x1310b1&&_0x1310b1<=_0x1fd003[a0_0x12b0("0x1c1")]&&(_0x1fd003=null);var _0x57b0ed=_0x1fd003?_0x1fd003[a0_0x12b0("0x22a")]:{};return _0x57b0ed.type=_0x113679,_0x57b0ed[a0_0x12b0("0x17d")]=_0x1310b1,_0x1fd003?(this.method=a0_0x12b0("0x141"),this[a0_0x12b0("0x141")]=_0x1fd003.finallyLoc,_0x1357fc):this[a0_0x12b0("0xf6")](_0x57b0ed)},complete:function(_0x192ea2,_0x2ae016){if(a0_0x12b0("0x1c5")===_0x192ea2[a0_0x12b0("0x4f")])throw _0x192ea2[a0_0x12b0("0x17d")];return a0_0x12b0("0x3a")===_0x192ea2[a0_0x12b0("0x4f")]||a0_0x12b0("0x14d")===_0x192ea2[a0_0x12b0("0x4f")]?this[a0_0x12b0("0x141")]=_0x192ea2[a0_0x12b0("0x17d")]:a0_0x12b0("0xe8")===_0x192ea2.type?(this[a0_0x12b0("0xf0")]=this[a0_0x12b0("0x17d")]=_0x192ea2[a0_0x12b0("0x17d")],this[a0_0x12b0("0x198")]=a0_0x12b0("0xe8"),this.next=a0_0x12b0("0x219")):a0_0x12b0("0xf9")===_0x192ea2[a0_0x12b0("0x4f")]&&_0x2ae016&&(this[a0_0x12b0("0x141")]=_0x2ae016),_0x1357fc},finish:function(_0x380c85){for(var _0x46785b=this[a0_0x12b0("0x18e")].length-1;0<=_0x46785b;--_0x46785b){var _0x5e26e6=this[a0_0x12b0("0x18e")][_0x46785b];if(_0x5e26e6[a0_0x12b0("0x1c1")]===_0x380c85)return this[a0_0x12b0("0xf6")](_0x5e26e6.completion,_0x5e26e6[a0_0x12b0("0x2c")]),_0x371391(_0x5e26e6),_0x1357fc}},catch:function(_0x4f8cac){for(var _0x108010=this[a0_0x12b0("0x18e")].length-1;0<=_0x108010;--_0x108010){var _0x3aa87a=this[a0_0x12b0("0x18e")][_0x108010];if(_0x3aa87a[a0_0x12b0("0x15b")]===_0x4f8cac){var _0x4205c0,_0x1b5b8d=_0x3aa87a.completion;return a0_0x12b0("0x1c5")===_0x1b5b8d[a0_0x12b0("0x4f")]&&(_0x4205c0=_0x1b5b8d[a0_0x12b0("0x17d")],_0x371391(_0x3aa87a)),_0x4205c0}}throw new Error(a0_0x12b0("0x201"))},delegateYield:function(_0x542394,_0x4a5863,_0x361039){return this[a0_0x12b0("0x1f1")]={iterator:_0x11ff7d(_0x542394),resultName:_0x4a5863,nextLoc:_0x361039},a0_0x12b0("0x141")===this[a0_0x12b0("0x198")]&&(this[a0_0x12b0("0x17d")]=void 0),_0x1357fc}},_0x1f99b6}(_0x4095cd[a0_0x12b0("0x1a7")]);try{regeneratorRuntime=_0x20e5e8}catch(_0xbb90de){Function("r",a0_0x12b0("0x22c"))(_0x20e5e8)}},function(_0x58ebe1,_0x54ed18,_0x4973ee){"use strict";function _0x516987(_0x5df3f0,_0x3818ee){(null==_0x3818ee||_0x3818ee>_0x5df3f0[a0_0x12b0("0x25")])&&(_0x3818ee=_0x5df3f0[a0_0x12b0("0x25")]);for(var _0x433c4c=0,_0x1d3a9b=new Array(_0x3818ee);_0x433c4c<_0x3818ee;_0x433c4c++)_0x1d3a9b[_0x433c4c]=_0x5df3f0[_0x433c4c];return _0x1d3a9b}_0x58ebe1[a0_0x12b0("0x1a7")][a0_0x12b0("0x1e0")]=function(_0x19a21b){var _0x296020={dataset:{}},_0x47518c={};try{var _0x225fd3,_0x222d45=function(_0x3a55f9,_0x555ae1){var _0x5e33b4;if("undefined"==typeof Symbol||null==_0x3a55f9[Symbol[a0_0x12b0("0x1f0")]]){if(Array[a0_0x12b0("0xa1")](_0x3a55f9)||(_0x5e33b4=function(_0x5573a2,_0x473d4a){if(_0x5573a2){if(a0_0x12b0("0x68")==_typeof(_0x5573a2))return _0x516987(_0x5573a2,void 0);var _0x3c5966=Object[a0_0x12b0("0x72")][a0_0x12b0("0x166")].call(_0x5573a2)[a0_0x12b0("0x81")](8,-1);return"Object"===_0x3c5966&&_0x5573a2[a0_0x12b0("0xc3")]&&(_0x3c5966=_0x5573a2[a0_0x12b0("0xc3")].name),a0_0x12b0("0x197")===_0x3c5966||a0_0x12b0("0x1bc")===_0x3c5966?Array[a0_0x12b0("0x103")](_0x5573a2):a0_0x12b0("0x19d")===_0x3c5966||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_0x3c5966)?_0x516987(_0x5573a2,void 0):void 0}}(_0x3a55f9))){_0x5e33b4&&(_0x3a55f9=_0x5e33b4);var _0x2b72c1=0,_0x367682=function(){};return{s:_0x367682,n:function(){return _0x2b72c1>=_0x3a55f9[a0_0x12b0("0x25")]?{done:!0}:{done:!1,value:_0x3a55f9[_0x2b72c1++]}},e:function(_0x271771){throw _0x271771},f:_0x367682}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var _0x293a7b,_0x15b30a=!0,_0x1e0f31=!1;return{s:function(){_0x5e33b4=_0x3a55f9[Symbol[a0_0x12b0("0x1f0")]]()},n:function(){var _0x11b47a=_0x5e33b4[a0_0x12b0("0x141")]();return _0x15b30a=_0x11b47a[a0_0x12b0("0x217")],_0x11b47a},e:function(_0x119e57){_0x1e0f31=!0,_0x293a7b=_0x119e57},f:function(){try{_0x15b30a||null==_0x5e33b4[a0_0x12b0("0xe8")]||_0x5e33b4.return()}finally{if(_0x1e0f31)throw _0x293a7b}}}}(decodeURIComponent(_0x19a21b)[a0_0x12b0("0x1e2")]("".concat(a0_0x12b0("0xa2"),"?"))[1][a0_0x12b0("0x1e2")]("&"));try{for(_0x222d45.s();!(_0x225fd3=_0x222d45.n()).done;){var _0x55b2d7=_0x225fd3[a0_0x12b0("0x114")][a0_0x12b0("0x148")](/data-/g,"")[a0_0x12b0("0x1e2")]("=");_0x47518c[_0x55b2d7[0]]=_0x55b2d7[1]}}catch(_0x4ad720){_0x222d45.e(_0x4ad720)}finally{_0x222d45.f()}_0x296020.dataset=_0x47518c}catch(_0x586ff1){}return _0x296020},_0x58ebe1[a0_0x12b0("0x1a7")][a0_0x12b0("0x1a1")]=function(){var _0x2d7f46=document[a0_0x12b0("0x10e")]||document[a0_0x12b0("0x19e")]("c.js")||document[a0_0x12b0("0x18c")](a0_0x12b0("0x10"))||{};return _0x2d7f46&&_0x2d7f46[a0_0x12b0("0x1b4")]&&-1<_0x2d7f46.src[a0_0x12b0("0x12e")](a0_0x12b0("0x220"))?this[a0_0x12b0("0x1e0")](_0x2d7f46[a0_0x12b0("0x1b4")]):_0x2d7f46}},function(_0x5e8a6e,_0x59b364,_0x109e2a){var _0x5526e5=_0x109e2a(15),_0x3646f1=_0x109e2a(16),_0x933a89=_0x109e2a(7),_0x5c6a0a=_0x109e2a(17);_0x5e8a6e[a0_0x12b0("0x1a7")]=function(_0xce37b4,_0x2054cc){return _0x5526e5(_0xce37b4)||_0x3646f1(_0xce37b4,_0x2054cc)||_0x933a89(_0xce37b4,_0x2054cc)||_0x5c6a0a()}},function(_0x19cecc,_0x2d27c1){_0x19cecc[a0_0x12b0("0x1a7")]=function(_0x1042eb){if(Array[a0_0x12b0("0xa1")](_0x1042eb))return _0x1042eb}},function(_0x20355d,_0x2fd52c){_0x20355d[a0_0x12b0("0x1a7")]=function(_0x355113,_0x152833){if("undefined"!=typeof Symbol&&Symbol[a0_0x12b0("0x1f0")]in Object(_0x355113)){var _0x5c6907=[],_0x397c31=!0,_0x17408c=!1,_0x53d261=void 0;try{for(var _0x2704e9,_0x338b10=_0x355113[Symbol[a0_0x12b0("0x1f0")]]();!(_0x397c31=(_0x2704e9=_0x338b10[a0_0x12b0("0x141")]())[a0_0x12b0("0x217")])&&(_0x5c6907.push(_0x2704e9.value),!_0x152833||_0x5c6907[a0_0x12b0("0x25")]!==_0x152833);_0x397c31=!0);}catch(_0x4b65f5){_0x17408c=!0,_0x53d261=_0x4b65f5}finally{try{_0x397c31||null==_0x338b10[a0_0x12b0("0xe8")]||_0x338b10[a0_0x12b0("0xe8")]()}finally{if(_0x17408c)throw _0x53d261}}return _0x5c6907}}},function(_0x18f05a,_0x15cb5d){_0x18f05a[a0_0x12b0("0x1a7")]=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(_0x12dba1,_0x10a69d,_0xae34cd){var _0x3b286d=_0xae34cd(19),_0x2494f6=_0xae34cd(20),_0x385d4c=_0xae34cd(7),_0x2f3f21=_0xae34cd(21);_0x12dba1[a0_0x12b0("0x1a7")]=function(_0x3fd60b){return _0x3b286d(_0x3fd60b)||_0x2494f6(_0x3fd60b)||_0x385d4c(_0x3fd60b)||_0x2f3f21()}},function(_0x411b64,_0x37cbca,_0x3a4b27){var _0x2a99ea=_0x3a4b27(8);_0x411b64[a0_0x12b0("0x1a7")]=function(_0x146767){if(Array.isArray(_0x146767))return _0x2a99ea(_0x146767)}},function(_0x8033c,_0x5ef145){_0x8033c[a0_0x12b0("0x1a7")]=function(_0x47d987){if(a0_0x12b0("0x208")!=("undefined"==typeof Symbol?"undefined":_typeof(Symbol))&&Symbol[a0_0x12b0("0x1f0")]in Object(_0x47d987))return Array[a0_0x12b0("0x103")](_0x47d987)}},function(_0x1270d5,_0x461b88){_0x1270d5[a0_0x12b0("0x1a7")]=function(){throw new TypeError(a0_0x12b0("0xf1"))}},function(_0x38f998,_0x93e1cc,_0x5b5d87){"use strict";_0x38f998[a0_0x12b0("0x1a7")][a0_0x12b0("0x105")]=screen,_0x38f998[a0_0x12b0("0x1a7")].getDeviceType=function(){function _0x4b4ff4(_0x3946f5,_0x29b28b,_0x267e1d){return{family:_0x3946f5,major:1<arguments[a0_0x12b0("0x25")]&&void 0!==_0x29b28b?_0x29b28b:"0",minor:2<arguments.length&&void 0!==_0x267e1d?_0x267e1d:"0"}}var _0x40d329=document[a0_0x12b0("0xa8")]("canvas");try{var _0x3ac8e3=_0x40d329[a0_0x12b0("0x38")](a0_0x12b0("0x9d")),_0x287c7d=_0x3ac8e3[a0_0x12b0("0x225")](a0_0x12b0("0x100")),_0x10e17a=_0x3ac8e3.getParameter(_0x287c7d[a0_0x12b0("0xea")])}catch(_0x519c7d){return}var _0x292018=_0x10e17a[a0_0x12b0("0x122")](/^Apple (.+) GPU$/),_0x2e5293=_0x292018&&_0x292018[1],_0x1f5412=this[a0_0x12b0("0x105")].width+"x"+this[a0_0x12b0("0x105")].height,_0x38be97=devicePixelRatio;if(!_0x2e5293){if(a0_0x12b0("0x11e")==_0x10e17a&&"768x1024"==_0x1f5412&&1==_0x38be97)return _0x4b4ff4(a0_0x12b0("0x146"),"2");if("PowerVR SGX 543"==_0x10e17a&&2==_0x38be97){if("320x480"==_0x1f5412)return _0x4b4ff4("iPhone","4s");if(a0_0x12b0("0x1e5")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),"3");if(a0_0x12b0("0x6")==_0x1f5412)return-1<navigator.userAgent[a0_0x12b0("0x12e")](a0_0x12b0("0xf5"))?_0x4b4ff4("iPod",a0_0x12b0("0x16")):_0x4b4ff4(a0_0x12b0("0x11b"),"5")}return a0_0x12b0("0xaa")==_0x10e17a&&"768x1024"==_0x1f5412&&2==_0x38be97?_0x4b4ff4(a0_0x12b0("0x146"),"4"):void 0}if("A7"==_0x2e5293){if(a0_0x12b0("0x6")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x11b"),"5s");if("768x1024"==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),"Air")}if(a0_0x12b0("0x6")==_0x1f5412){if("A8"==_0x2e5293&&-1<navigator[a0_0x12b0("0x14")][a0_0x12b0("0x12e")]("iPod"))return _0x4b4ff4("iPod",a0_0x12b0("0xd8"));if("A9"==_0x2e5293)return _0x4b4ff4(a0_0x12b0("0x11b"),"SE")}var _0x11213a=["6","6s","7","8"],_0x520aab=parseInt(_0x2e5293[a0_0x12b0("0x16b")](1));if(8<=_0x520aab&&_0x520aab<=11){if(2==_0x38be97&&(a0_0x12b0("0x104")==_0x1f5412||"320x568"==_0x1f5412))return _0x4b4ff4(a0_0x12b0("0x11b"),_0x11213a[_0x520aab-8]);if(3==_0x38be97&&(a0_0x12b0("0xd3")==_0x1f5412||a0_0x12b0("0x104")==_0x1f5412))return _0x4b4ff4(a0_0x12b0("0x11b"),_0x11213a[_0x520aab-8]+"Plus")}if("A8"==_0x2e5293&&"768x1024"==_0x1f5412)return _0x4b4ff4("iPad",a0_0x12b0("0xdb"));if(a0_0x12b0("0xf3")==_0x2e5293&&a0_0x12b0("0x1e5")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),a0_0x12b0("0x1e4"));if("A9"==_0x2e5293&&a0_0x12b0("0x1e5")==_0x1f5412)return _0x4b4ff4("iPad",void 0,"17");if(a0_0x12b0("0x95")==_0x2e5293){if(a0_0x12b0("0x1e5")==_0x1f5412)return _0x4b4ff4("iPad",a0_0x12b0("0x96"),"16");if(a0_0x12b0("0x8f")==_0x1f5412)return _0x4b4ff4("iPad",a0_0x12b0("0x57"),"15")}if(a0_0x12b0("0x184")==_0x2e5293&&"768x1024"==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),void 0,"18");if(a0_0x12b0("0x1bf")==_0x2e5293){if(a0_0x12b0("0x69")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),a0_0x12b0("0x6d"),"17");if(a0_0x12b0("0x8f")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),a0_0x12b0("0x57"),"17")}if(a0_0x12b0("0xbc")==_0x2e5293&&a0_0x12b0("0x1d2")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x11b"),"X");if("A12"==_0x2e5293){if(2==_0x38be97&&(a0_0x12b0("0x1d2")==_0x1f5412||"414x896"==_0x1f5412))return _0x4b4ff4("iPhone","XR");if(3==_0x38be97){if(a0_0x12b0("0x1d2")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x11b"),"XS");if(a0_0x12b0("0x4")==_0x1f5412)return _0x4b4ff4("iPhone",a0_0x12b0("0x53"))}}if(a0_0x12b0("0x24")==_0x2e5293){if(a0_0x12b0("0xf")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),a0_0x12b0("0x40"),"18");if(a0_0x12b0("0x8f")==_0x1f5412)return _0x4b4ff4(a0_0x12b0("0x146"),a0_0x12b0("0x57"),"18")}}},function(_0x4d8903,_0x425f5a,_0x16f5dc){"use strict";var _0x17ab51,_0x530386,_0x175b69,_0x2105f6,_0x58551d=_0x16f5dc(3),_0x25c060=_0x16f5dc(4),_0x39f48a=this,_0x3ca150=_0x16f5dc(0),_0x4b38ff=_0x16f5dc(5),_0x1cd41c=_0x16f5dc(1),_0x17af4c=_0x16f5dc(2),_0x5afa81=_0x16f5dc(6);_0x4d8903.exports[a0_0x12b0("0x1c6")]=(_0x2105f6=_0x25c060(_0x58551d[a0_0x12b0("0xa")]((function _0x4c8576(_0x25afe5,_0x511917,_0x4611ef){var _0x157350;return _0x58551d[a0_0x12b0("0x229")]((function(_0x223843){for(;;)switch(_0x223843.prev=_0x223843[a0_0x12b0("0x141")]){case 0:return _0x223843[a0_0x12b0("0x12a")]=0,_0x223843[a0_0x12b0("0x141")]=3,_0x4b38ff[a0_0x12b0("0x8e")]();case 3:_0x157350=_0x223843[a0_0x12b0("0x158")],_0x223843[a0_0x12b0("0x141")]=9;break;case 6:return _0x223843[a0_0x12b0("0x12a")]=6,_0x223843.t0=_0x223843[a0_0x12b0("0x188")](0),_0x223843[a0_0x12b0("0x1c4")](a0_0x12b0("0xe8"));case 9:this[a0_0x12b0("0x58")]={softID:_0x25afe5[a0_0x12b0("0x58")][a0_0x12b0("0xb4")],hardID:_0x25afe5.IDs[a0_0x12b0("0xec")],deviceID:_0x25afe5[a0_0x12b0("0x35")][a0_0x12b0("0xb4")],cookieID:_0x25afe5.masterIDs.cookieID,v:_0x25afe5[a0_0x12b0("0x35")].v,iv:_0x25afe5[a0_0x12b0("0x35")].iv,bxinfo:{bxwid:_0x3ca150[a0_0x12b0("0x191")][a0_0x12b0("0x144")],bxdid:_0x157350.bxdid,bxvid:_0x157350[a0_0x12b0("0x16d")],bxpageviewid:_0x157350[a0_0x12b0("0x1b7")],bxsequenceid:_0x157350.bxsequenceid}},this[a0_0x12b0("0x16e")]=_0x511917,this[a0_0x12b0("0xd7")]=_0x4611ef,this.dataForPixelFiringIsValid()&&this[a0_0x12b0("0x16f")]();case 13:case a0_0x12b0("0x219"):return _0x223843[a0_0x12b0("0x32")]()}}),_0x4c8576,this,[[0,6]])}))),function(_0x1071fb,_0x4d68c4,_0x43e226){return _0x2105f6.apply(this,arguments)}),_0x4d8903[a0_0x12b0("0x1a7")].dataForPixelFiringIsValid=function(){var _0x5ee864=this.IDs[a0_0x12b0("0x213")];return!(!(this.IDs[a0_0x12b0("0xec")]&&this[a0_0x12b0("0x58")][a0_0x12b0("0xb4")]&&this[a0_0x12b0("0x58")].v&&_0x5ee864[a0_0x12b0("0x2")]&&_0x5ee864[a0_0x12b0("0x16d")]&&_0x5ee864[a0_0x12b0("0xe7")])||_0x3ca150[a0_0x12b0("0x67")]!==_0x1cd41c[a0_0x12b0("0x16a")]&&!_0x3ca150[a0_0x12b0("0xbe")])},_0x4d8903.exports.firePixels=function(){_0x3ca150[a0_0x12b0("0x77")]&&this[a0_0x12b0("0x13")](_0x1cd41c[a0_0x12b0("0x13e")]),this[a0_0x12b0("0x1ae")](),this[a0_0x12b0("0x16e")]||this[a0_0x12b0("0x50")](),!this[a0_0x12b0("0xd7")]&&_0x3ca150[a0_0x12b0("0x1e3")]&&this.fireExternalIDSync()},_0x4d8903[a0_0x12b0("0x1a7")][a0_0x12b0("0x13")]=function(_0x5d416c){var _0x2e80c1=this.IDs[a0_0x12b0("0x213")];(new Image)[a0_0x12b0("0x1b4")]=""[a0_0x12b0("0x36")](_0x1cd41c[a0_0x12b0("0xac")],"/")[a0_0x12b0("0x36")](_0x5d416c,a0_0x12b0("0xad"))[a0_0x12b0("0x36")](this[a0_0x12b0("0x58")][a0_0x12b0("0xec")],a0_0x12b0("0xca"))[a0_0x12b0("0x36")](this.IDs.deviceID,a0_0x12b0("0xa9")).concat(this.IDs.v,a0_0x12b0("0x161"))[a0_0x12b0("0x36")](this[a0_0x12b0("0x58")].iv)+a0_0x12b0("0x12b")[a0_0x12b0("0x36")](_0x2e80c1.bxdid,"&visitid=")[a0_0x12b0("0x36")](_0x2e80c1.bxvid,"&wsid=")[a0_0x12b0("0x36")](_0x2e80c1[a0_0x12b0("0xe7")],a0_0x12b0("0x21f"))[a0_0x12b0("0x36")](_0x3ca150[a0_0x12b0("0x67")])},_0x4d8903[a0_0x12b0("0x1a7")][a0_0x12b0("0x1ae")]=(_0x175b69=_0x25c060(_0x58551d[a0_0x12b0("0xa")]((function _0x5d027a(){var _0x123483,_0x9e069a;return _0x58551d[a0_0x12b0("0x229")]((function(_0x32e0d2){for(;;)switch(_0x32e0d2.prev=_0x32e0d2.next){case 0:_0x123483=this[a0_0x12b0("0x58")][a0_0x12b0("0x213")],_0x9e069a=_0x17af4c[a0_0x12b0("0x5c")](a0_0x12b0("0x190"))||"",(new Image)[a0_0x12b0("0x1b4")]=""[a0_0x12b0("0x36")](_0x1cd41c.USER_URL,a0_0x12b0("0x20c"))[a0_0x12b0("0x36")](this[a0_0x12b0("0x58")][a0_0x12b0("0xc0")],a0_0x12b0("0x1a0"))[a0_0x12b0("0x36")](this[a0_0x12b0("0x58")][a0_0x12b0("0x173")])+a0_0x12b0("0x205").concat(_0x123483[a0_0x12b0("0x2")],"&bxvid=").concat(_0x123483.bxvid,a0_0x12b0("0x112"))[a0_0x12b0("0x36")](_0x123483[a0_0x12b0("0xe7")],"&gm=")[a0_0x12b0("0x36")](_0x3ca150[a0_0x12b0("0x170")],a0_0x12b0("0x21f"))[a0_0x12b0("0x36")](_0x3ca150[a0_0x12b0("0x67")],a0_0x12b0("0x1a9"))[a0_0x12b0("0x36")](_0x9e069a);case 2:case a0_0x12b0("0x219"):return _0x32e0d2[a0_0x12b0("0x32")]()}}),_0x5d027a,this)}))),function(){return _0x175b69[a0_0x12b0("0x17a")](this,arguments)}),_0x4d8903.exports[a0_0x12b0("0x50")]=(_0x530386=_0x25c060(_0x58551d[a0_0x12b0("0xa")]((function _0x6bb181(){var _0x1dfbee,_0x452779,_0x122a66;return _0x58551d[a0_0x12b0("0x229")]((function(_0x144760){for(;;)switch(_0x144760[a0_0x12b0("0x12a")]=_0x144760.next){case 0:_0x1dfbee=this[a0_0x12b0("0x58")][a0_0x12b0("0x213")],_0x452779=new Image,_0x122a66={idType:"sid",idSource:a0_0x12b0("0x163"),softID:this.IDs[a0_0x12b0("0x173")],deviceID:_0x1dfbee.bxdid,visitID:_0x1dfbee[a0_0x12b0("0x16d")],websiteID:_0x1dfbee[a0_0x12b0("0xe7")],externalID:"",pageviewID:_0x1dfbee.bxpageviewid,sequenceID:_0x1dfbee[a0_0x12b0("0x76")]},_0x452779[a0_0x12b0("0x1b4")]=_0xe1e942(_0x122a66),_0x452779[a0_0x12b0("0x1b6")]=function(){_0x5afa81[a0_0x12b0("0x4d")]()};case 4:case"end":return _0x144760[a0_0x12b0("0x32")]()}}),_0x6bb181,this)}))),function(){return _0x530386.apply(this,arguments)}),_0x4d8903[a0_0x12b0("0x1a7")].fireExternalIDSync=(_0x17ab51=_0x25c060(_0x58551d[a0_0x12b0("0xa")]((function _0x280575(){var _0xb757fa;return _0x58551d.wrap((function(_0x262f37){for(;;)switch(_0x262f37.prev=_0x262f37[a0_0x12b0("0x141")]){case 0:_0xb757fa=this[a0_0x12b0("0x58")][a0_0x12b0("0x213")],_0x3ca150[a0_0x12b0("0x1e3")]&&_0x3ca150[a0_0x12b0("0x1e3")][a0_0x12b0("0x1e2")](",")[a0_0x12b0("0xfc")]((function(_0x29f585){var _0x2da9fe=_0x5ebab7[_0x29f585];_0x2da9fe&&a0_0x12b0("0xd6")==_typeof(_0x2da9fe)&&_0x2da9fe(_0xb757fa,a0_0x12b0("0x10d"))}));case 3:case a0_0x12b0("0x219"):return _0x262f37.stop()}}),_0x280575,this)}))),function(){return _0x17ab51[a0_0x12b0("0x17a")](this,arguments)});var _0x5ebab7={aid:function(_0x4f2dd3,_0x4ff435){if(window[a0_0x12b0("0x1a")]&&a0_0x12b0("0xd6")==_typeof(window[a0_0x12b0("0x1a")][a0_0x12b0("0x1ba")])){var _0x200bb4=window[a0_0x12b0("0x1a")][a0_0x12b0("0x1ba")]();if(""===_0x200bb4||void 0===_0x200bb4)return;var _0x393769=new Image,_0x42a20d={idType:"aid",idSource:_0x4ff435,softID:_0x39f48a[a0_0x12b0("0x58")].softID,deviceID:_0x4f2dd3[a0_0x12b0("0x2")],visitID:_0x4f2dd3.bxvid,websiteID:_0x4f2dd3[a0_0x12b0("0xe7")],externalID:_0x200bb4,pageviewID:_0x4f2dd3[a0_0x12b0("0x1b7")],sequenceID:_0x4f2dd3[a0_0x12b0("0x76")]};_0x393769[a0_0x12b0("0x1b4")]=_0xe1e942(_0x42a20d),_0x393769.onload=function(){return _0x5afa81[a0_0x12b0("0x165")]()}}}};function _0xe1e942(_0x4ac973){var _0x31a527="".concat(_0x1cd41c.EVENTS_URL,a0_0x12b0("0xe3")).concat(_0x4ac973[a0_0x12b0("0x88")],a0_0x12b0("0xda"))[a0_0x12b0("0x36")](_0x4ac973[a0_0x12b0("0x7a")],"&soft_id=")[a0_0x12b0("0x36")](_0x4ac973.softID,"&source=web&agent=cjs&deviceid=")[a0_0x12b0("0x36")](_0x4ac973[a0_0x12b0("0xb4")],a0_0x12b0("0x135"))[a0_0x12b0("0x36")](_0x4ac973[a0_0x12b0("0x1af")],a0_0x12b0("0xc2"))[a0_0x12b0("0x36")](_0x4ac973[a0_0x12b0("0x20")],"&pageviewid=").concat(_0x4ac973[a0_0x12b0("0x1ea")],a0_0x12b0("0x22"))[a0_0x12b0("0x36")](_0x4ac973[a0_0x12b0("0x37")]);return 0<_0x4ac973.externalID[a0_0x12b0("0x25")]&&(_0x31a527+=a0_0x12b0("0x59")[a0_0x12b0("0x36")](_0x4ac973[a0_0x12b0("0x26")])),_0x31a527}}])}])}();